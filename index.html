<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="python,sergiojune,记录，算法"><title>sergiojune | 梦开始的地方 | 路在，人就在</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">sergiojune | 梦开始的地方</h1><a id="logo" href="/.">sergiojune | 梦开始的地方</a><p class="description">路在，人就在</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h2 class="post-title"><a href="/2019/01/14/学习用python操作mysql/">学习用python操作mysql</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a><a href="/categories/python/数据库/" class="category">数据库</a></span></p></div><div class="post-content"><p style="letter-spacing: 2px;">首先祝大家新年快乐哈！学生的估计明天也要上课了，工作的估计早就去上班了，我也快要上课了，哈哈，新年这段时间一直没有写过文章，一直忙于跑亲戚和学习，感觉有点对不起关注我的粉丝。所以，今天决定抽空写一篇技术文章来给大家看看，继上篇写了入门mysql之后，还没有学习如何用python来操作数据库，那我今天就带大家来学习如何用python操操作数据库。<br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">还有文末有福利，这算是给大家的新年礼物(记得点赞哦)</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><section class="editor"><section style="margin:10px auto;"><section style="width: 100%; font-size: 18px; height: 40px; line-height: 40px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(30, 28, 28); text-align: center; box-sizing: border-box;" data-width="100%">进入正题</section><section style="width: 100%; margin-top: 1px; border-top-style: solid; border-top-width: 1px; border-top-color: rgb(30, 28, 28); box-sizing: border-box;" data-width="100%"></section></section></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">工欲善其事，必先利其器。所以第一步，我们先下载第三方库。在这里，我用到的是pymysql库。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">下载库：在命令行输入</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs nginx" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-attribute" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">pip</span> install pymysql<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">下载后可检验一下是否成功下载。直接在命令行进入python然后导库即可</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs ruby" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-symbol" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">C:</span>\Users\June&gt;python<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>Python <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3.6</span>.<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span> <span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">|Anaconda, Inc.|</span> (default, Oct <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2017</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">03</span><span class="hljs-symbol" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">:</span><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span><span class="hljs-symbol" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">:</span><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">45</span>) [MSC v.<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1900</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">64</span> bit (AMD64)] on win32<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>Type <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“help”</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“copyright”</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“credits”</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">or</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“license”</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> more information.<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span><span class="hljs-meta" style="font-size: inherit; line-height: inherit; color: rgb(91, 218, 237); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">&gt;&gt;</span>&gt; import pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span><span class="hljs-meta" style="font-size: inherit; line-height: inherit; color: rgb(91, 218, 237); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">&gt;&gt;</span>&gt;<br></code></pre></section><p style="letter-spacing: 2px;">看到这个画面就说明下载成功了，接下来学习如何操作数据库了！！！</p><p style="letter-spacing: 2px;"><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">1</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; font-size: 18px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p><span style="font-family: 微软雅黑; font-size: 16px;"><span style="letter-spacing: 2px; line-height: 25.6px; white-space: pre-wrap;">连接数据库</span></span></p></section></section></section></section></section><p><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs coffeescript" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">import</span> pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 连接数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>db = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘your password’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>)<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">以上的参数是必填的，</p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="letter-spacing: 2px;"><strong>host</strong>: 这个是ip地址，因为我这里是本地的，所以填127.0.0.1，也可以填localhost。</p></li><li><p style="letter-spacing: 2px;"><strong>user</strong>：用户名，如果你也是本地的，就填root好了</p></li><li><p style="letter-spacing: 2px;"><strong>passwd</strong>：这个是密码，填上你自己设的密码就可以了</p></li><li><p style="letter-spacing: 2px;"><strong>db</strong>：这个是数据库名，我这里选的是news数据库</p></li><li><p style="letter-spacing: 2px;"><strong>port</strong>：这个是端口，本地的一般都是3306</p></li><li><p style="letter-spacing: 2px;"><strong>charset</strong>：这个是编码方式，要和你数据库的编码方式一致，要不会连接失败</p></li></ul><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><strong>连接上了，怎么验证呢？这里我们可以选择查一条数据</strong></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs python" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span> db = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘your password’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 检验数据库是否连接成功</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> cursor = db.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个是执行sql语句，返回的是影响的条数</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> data = cursor.execute(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT <em> FROM <code>new</code>‘</em></span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 得到一条数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> one = cursor.fetchone()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> print(data)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> print(one)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘操作数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">finally</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 如果连接成功就要关闭数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> db:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span> db.close()<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">代码解读：因为在连接数据库中，有时会发生连接失败等异常，所以这里就进行捕捉异常，这里的异常都是在 <strong>pymsql.Error </strong>里面。上面的代码看不懂也没关系，因为我接下来会说，如果运行后有结果证明连接成功。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><strong>在用完后，一定要记得关闭数据库连接，防止资源泄露问题。</strong></p><p style="letter-spacing: 2px;"><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">2</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p style=""><span style="font-family:微软雅黑">对数据进行查询</span></p></section></section></section></section></section><p><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">import</span> pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> conn = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘password’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个是光标，用来操作数据库语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> cursor = conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 执行sql语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> cursor.execute(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT  FROM <code>new</code>‘</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> print(cursor.fetchone())<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 关闭光标</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘操作数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">finally</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> conn:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> conn.close()<br></code></pre></section><p style="letter-spacing: 2px;">代码解读：</p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="letter-spacing: 2px;"><strong>cursor()</strong>:这个是光标，用来执行mysql语句的，用完后也是需要关闭的</p></li><li><p style="letter-spacing: 2px;"><strong>excute</strong><strong>()</strong>：这个是执行语句，执行参数的mysql语句</p></li><li><p style="letter-spacing: 2px;"><strong>fetchone()</strong>：这个是查看执行语句后的一条数据</p></li><li><p style="letter-spacing: 2px;"><strong>fetchall()</strong>：这个是查看所有数据</p></li></ul><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">在查询数据后，返回的是一整条数据，有没有可以按字典形式来查询的呢？来试试！</p><p style="letter-spacing: 2px;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>print(cursor.fetchone()[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘name’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>Traceback (most recent call last):<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span> File <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“E:/anaconda/python_project/mysql_test/test2.py”</span>, line <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">8</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> &lt;module&gt;<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span> print(cursor.fetchone()[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘name’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6</span>TypeError: tuple indices must be integers <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">or</span> slices, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">not</span> str<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">查了之后，编译器想都不想就给了我这个错误，说这是个元组，不能这样操作。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">虽然python没有提供，但是我们可以手动转成字典来查询啊</p><p style="letter-spacing: 2px;">cursor这里有个属性：<strong>description</strong>。获取的是数据库每个栏位情况，如下：</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>print(cursor.description)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>((<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">50</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">50</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2000</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2000</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">True</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">True</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>)<br></code></pre></section><p><br></p><p>所以，我们利用这个属性手动生成字典</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 将一条数据转成字典方便查找</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>new = dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],[x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.fetchone()]))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>print(new)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>{<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘NBA’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘考辛斯跟腱撕裂赛季报销 浓眉詹皇发声祝福’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘他遭遇左脚跟腱撕裂，将缺席赛季剩下的比赛。这无疑对考辛斯和鹈鹕队都是一个重大的打击’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3560</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘xiaoylin’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}<br></code></pre></section><p>这里利用zip函数和列表生成式来一行代码就生成成功了</p><p><br></p><p>用字典来查询，现在就可以了</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>print(new[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>考辛斯跟腱撕裂赛季报销 浓眉詹皇发声祝福<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">但是，上面的只是一条数据的，如果是多条的呢？再按上面的方法就行不通了。这时就需要用到map函数了</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">new2dict</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(new)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],[x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> new]))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>news_list = list(map(new2dict,cursor.fetchall()))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span>print(news_list)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6</span>[{<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘NBA’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘考辛斯跟腱撕裂赛季报销 浓眉詹皇发声祝福’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘他遭遇左脚跟腱撕裂，将缺席赛季剩下的比赛。这无疑对考辛斯和鹈鹕队都是一个重大的打击’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3560</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘xiaoylin’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘NBA’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘火箭挖21分大哈登得背锅 连遭浓眉大帽太尴尬’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘火箭在客场以113-115惜败于鹈鹕，4连胜终结。詹姆斯-哈登出战34分钟16投5中，其中三分球9投只有1中，罚球14罚12中，拿到23分、11助攻、5篮板但也有4次失误，其在场正负值为尴尬的-12分’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">7520</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘youngcao’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘英超’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘足总杯-曼联4-0英乙球队晋级 桑神首秀造两球’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘2017-18赛季英格兰足总杯第4轮，曼联客场4比0击败英乙球队约维尔，顺利晋级下一轮。桑切斯迎来曼联首秀，并制造了两个入球’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6560</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">49</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘ricazhang’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘英超’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘这才配红魔7号！桑神首秀大腿级表演 回击嘘声质疑’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘在今天凌晨对阵约维尔的首秀也值得期待。虽然在登场的72分钟时间里没有进球，但送出1次助攻且有有6次威胁传球的数据还是十分亮眼’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2760</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘yaxinhao’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}]<br></code></pre></section><p style="letter-spacing: 2px;">这里很巧妙的利用了map函数，因为多条数据就可以进行迭代了，需要操作每条数据，这样就可以想到map函数</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><strong>接下来我们再用面向对象的方法来用python进行查询数据库</strong></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">import</span> pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span><span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">class</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">MysqlSearch</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(object)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_conn</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’连接mysql数据库’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> self.conn = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘your password’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘连接数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">close_conn</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’关闭数据库’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> self.conn:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> self.conn.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">18</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘关闭数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_one</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">21</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’查询一条数据’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">22</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">23</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个是连接数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">24</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">25</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 查询语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">26</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT <em> FROM <code>new</code> WHERE <code>type</code>=%s’</em></span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个光标用来执行sql语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">28</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">29</span> cursor.execute(sql,(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘英超’</span>,))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">30</span> new = cursor.fetchone()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">31</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 返回一个字典，让用户可以按数据类型来获取数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">32</span> new_dict = dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],new))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">33</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 关闭cursor</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">34</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">35</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">36</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> new_dict<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">37</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">38</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">39</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">40</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_all</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">41</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’获取所有结果’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">42</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT  FROM <code>new</code> ‘</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">43</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">44</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">45</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">46</span> cursor.execute(sql)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">47</span> news = cursor.fetchall()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">48</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 将数据转为字典，让用户根据键来查数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">49</span> news_list =list(map(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">lambda</span> x:dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],[d <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> d <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> x])),news))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">50</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这样也行,连续用两个列表生成式</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">51</span> news_list = [dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],row)) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> row <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> news]<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">52</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">53</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">54</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> news_list<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">55</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">56</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">57</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">58</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">59</span><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">()</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">60</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 获取一条数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">61</span> news = MysqlSearch()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">62</span> new = news.get_one()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">63</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> new:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">64</span> print(new)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">65</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">66</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘操作失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">67</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">68</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 获取多条数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">69</span> news = MysqlSearch()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">70</span> rest = news.get_all()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">71</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> rest:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">72</span> print(rest)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">73</span> print(rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">7</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>],rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">7</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">74</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘类型：{0},标题：{1}’</span>.format(rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>],rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>]))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">75</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> row <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> rest:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">76</span> print(row)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">77</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">78</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘没有获取到数据’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">79</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">80</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> <strong>name</strong> == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘<strong>main</strong>‘</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">81</span> main()<br></code></pre></section><p style="letter-spacing: 2px;">这样就可以通过实例的方法来进行查询数据库了</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">我们还可以根据页数来进行查询指定的数据数</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_more</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self,page,page_size)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’查多少页的多少条数据’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> offset = (page<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">-1</span>)<em>page_size<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT </span></em> FROM <code>new</code> LIMIT %s,%s’<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> cursor.execute(sql,(offset,page_size,))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> news = [dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],new)) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> new <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.fetchall()]<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> news<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">()</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">18</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">#获取某页的数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span> news = MysqlSearch()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span> new = news.get_more(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">21</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> new:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">22</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> row <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> new:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">23</span> print(row)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">24</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">25</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘获取数据失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">26</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> <strong>name</strong> == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘<strong>main</strong>‘</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">28</span> main()<br></code></pre></section><p style="letter-spacing: 2px;">利用的是mysql的<strong><span style="line-height: inherit;">limit</span></strong><span style="line-height: inherit;">关键字，还有其他的，比如进行排序分组的感兴趣的可以自己尝试下</span></p><p style="letter-spacing: 2px;"><span style="line-height: inherit;"><br></span></p><p style="letter-spacing: 2px;"><span style="line-height: inherit;"></span></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">3</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; font-size: 18px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p>增加数据到数据库</p></section></section></section></section></section><p style="letter-spacing: 2px;"><span style="line-height: inherit;"></span><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">add_one</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘INSERT INTO <code>new</code>(<code>title</code>,<code>content</code>,<code>type</code>,<code>view_count</code>,<code>release_time</code>) VALUE(%s,%s,%s,%s,%s)’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> cursor.execute(sql, (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘1111’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘2018-02-01’</span>))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> cursor.execute(sql, (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘标题’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘内容’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘类型’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘0000’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘2018-02-01’</span>))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 一定需要提交事务，要不不会显示，只会占位在数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> self.conn.commit()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘Error:’</span>, e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> TypeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘Error:’</span>, e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 发生错误还提交就是把执行正确的语句提交上去</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># self.conn.commit()</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">18</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面这个方法是发生异常就全部不能提交,但语句执行成功的就会占位</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span> self.conn.rollback()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">21</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">finally</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">22</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">23</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">24</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">25</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">()</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">26</span> news = OperateSQL()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> news.add_one():<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">28</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘增加数据成功’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">29</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">30</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘发生异常，请检查！！！’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">31</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">32</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> <strong>name</strong> == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘<strong>main</strong>‘</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">33</span> main()<br></code></pre></section><p style="letter-spacing: 2px;">因为是增加数据，所以需要提交事务，这就需要用到<strong>cursor.commit()</strong>来进行提交，在增加数据后，如果不提交，数据库就不会显示。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">还有修改数据和删除数据就不贴出来了，只是把上面的sql变量的语句改成修改或者删除的语句就可以了，如果你还不会，建议练习下</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><section class="editor"><p><strong>END</strong></p></section><p style="letter-spacing: 2px;">代码我放在github了，网站为<a href="https://github.com/SergioJune/gongzhonghao_code，有兴趣的可以去看看，如果可以的话希望给个star哈！" _src="https://github.com/SergioJune/gongzhonghao_code，有兴趣的可以去看看，如果可以的话希望给个star哈！" target="_blank" rel="noopener">https://github.com/SergioJune/gongzhonghao_code，有兴趣的可以去看看，如果可以的话希望给个star哈！</a></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">这篇文章只适合入门的，如果需要学习更多的话可以去查看pymysql的文档<a href="http://pymysql.readthedocs.io/en/latest/" target="_blank" rel="noopener">http://pymysql.readthedocs.io/en/latest/</a> 。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px; text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png" height="auto" border="0" alt="1802109804.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png"></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px; text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p style="letter-spacing: 2px;"><span style="font-size: 14px;"><br></span></p><p style="letter-spacing: 2px; text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p></div><p class="readmore"><a href="/2019/01/14/学习用python操作mysql/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/谈谈如何抓取ajax动态网站/">谈谈如何抓取ajax动态网站</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><p data-mpa-powered-by="yiban.io" style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">什么是ajax呢，简单来说，就是加载一个网页完毕之后，有些信息你你还是看不到，需要你点击某个按钮才能看到数据，或者有些网页是有很多页数据的，而你在点击下一页的时候，网页的url地址没有变化，但是内容变了，这些都可以说是ajax。如果还听不懂，我给你看看百度百科的解释吧，下面就是。</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><blockquote style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><p style="word-break: normal !important;">Ajax 即“Asynchronous&nbsp;Javascript&nbsp;And&nbsp;XML”（异步 JavaScript 和 XML），是指一种创建交互式网页应用的网页开发技术。</p><p style="word-break: normal !important;">Ajax = 异步&nbsp;JavaScript&nbsp;和&nbsp;XML（标准通用标记语言的子集）。</p><p style="word-break: normal !important;">Ajax 是一种用于创建快速动态网页的技术。</p><p style="word-break: normal !important;">Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。&nbsp;[</p><p style="word-break: normal !important;">通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p><p style="word-break: normal !important;">传统的网页（不使用 Ajax）如果需要更新内容，必须重载整个网页页面。</p></blockquote><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">下面说下例子，我抓取过的ajax网页最难的就是网易云音乐的评论，感兴趣的可以看看<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483673&amp;idx=1&amp;sn=6c89eb9474d2076afb6405a9fd972e4f&amp;chksm=fb4a7bb5cc3df2a3ca3235ebe8bddf635839e5fd5a1b998b08dae521d449ee4388ae6ed7bbda&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483673&amp;idx=1&amp;sn=6c89eb9474d2076afb6405a9fd972e4f&amp;chksm=fb4a7bb5cc3df2a3ca3235ebe8bddf635839e5fd5a1b998b08dae521d449ee4388ae6ed7bbda&amp;scene=21#wechat_redirect" style="word-break: normal !important;">利用python爬取网易云音乐，并把数据存入mysql</a></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">这里的评论就是ajax加载的，其他的那个抓今日头条妹子图片的也算是ajax加载的，只不过我把它简单化了。还有很多，就不说了，说下我今天要说的ajax网站吧！</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><span style="font-size: 18px; word-break: normal !important;"><strong style="word-break: normal !important;"><a href="http://www.kfc.com.cn/kfccda/storelist/index.aspx" target="_blank" rel="noopener">http://www.kfc.com.cn/kfccda/storelist/index.aspx</a></strong></span></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><span style="font-size: 16px; word-break: normal !important;">这个是肯德基的门面信息</span></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibUCcSJxOmJHdMtqcKAJ9KOo6GA2uibDZJLTTkia8yelFORKAPu2xq7VtMa9LdgljuWLMt6VJUrk2ww/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibUCcSJxOmJHdMtqcKAJ9KOo6GA2uibDZJLTTkia8yelFORKAPu2xq7VtMa9LdgljuWLMt6VJUrk2ww/640"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><span style="font-size: 16px; word-break: normal !important;">这里有很多页数据，每一页的数据都是ajax加载的。如果你直接用python请求上面那个url的话，估计什么数据都拿不到，不信的话可以试试哈。这时候，我们照常打开开发者工具。先把所有请求清楚，把持续日志打上勾，然后点击下一页，你会看到</span></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibUCcSJxOmJHdMtqcKAJ9KO8ujDSZnYNN9ziaFKfU6sY8sfmtC8675bgRCIFiavOl5JNlVsFib8I4PRA/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibUCcSJxOmJHdMtqcKAJ9KO8ujDSZnYNN9ziaFKfU6sY8sfmtC8675bgRCIFiavOl5JNlVsFib8I4PRA/640"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><span style="font-size: 16px; word-break: normal !important;"></span>上面那个请求就是ajax请求的网页，里面就会有我们需要的数据，我们看看是什么样的请求</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibUCcSJxOmJHdMtqcKAJ9KO4EvNAuDAp1aeOgpEkQiccUpGH4LULXLibgzqvjNxCZ4PxR0NFMaSjmqw/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibUCcSJxOmJHdMtqcKAJ9KO4EvNAuDAp1aeOgpEkQiccUpGH4LULXLibgzqvjNxCZ4PxR0NFMaSjmqw/640"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">是个post请求，请求成功状态码为200，请求url上面也有了，下面的from data就是我们需要post的数据，很容易就可以猜到pageIndex就是页数，所以我们可以改变这个值来进行翻页。</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">这个网页就分析完了，这样就是解决ajax动态网页了，是不是觉得很简单，其实不是的，只是这个网页比较简单的，因为表单(from data)的数据并没有进行加密，如果进行加密的话估计你的找js文件看看参数是怎样加密的了，这就是我之前写的网易云音乐评论的爬取。看这些混淆的js寻找加密方法的话有时会让你很头痛，所以经常有人会选择用selenium这些来进行爬取，但是用这些会使爬虫的性能降低，所以这个方法在工作里是不允许的。所以必须学会怎样应对这些ajax。</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">贴下代码</p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; background-image: none; background-color: initial; word-break: normal !important;"><code class="hljs-default" style="margin-right: 0.15em; margin-left: 0.15em; padding: 6px; border-radius: 4px; font-size: 0.85em; background: rgb(40, 44, 52); color: rgb(171, 178, 191); display: block; overflow-x: auto; white-space: nowrap; word-break: normal !important;"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221); background: rgba(0, 0, 0, 0); display: inline; width: 39px; text-decoration-style: solid; text-decoration-color: rgb(198, 120, 221); word-break: normal !important;">import</span>&nbsp;requests<br style="word-break: normal !important;">page =&nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102); background: rgba(0, 0, 0, 0); display: inline; width: 7px; text-decoration-style: solid; text-decoration-color: rgb(209, 154, 102); word-break: normal !important;">1</span><br style="word-break: normal !important;"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221); background: rgba(0, 0, 0, 0); display: inline; width: 33px; text-decoration-style: solid; text-decoration-color: rgb(198, 120, 221); word-break: normal !important;">while</span>&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221); background: rgba(0, 0, 0, 0); display: inline; width: 27px; text-decoration-style: solid; text-decoration-color: rgb(198, 120, 221); word-break: normal !important;">True</span>:<br style="word-break: normal !important;">&nbsp; &nbsp;url =&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 409px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘<a href="http://www.kfc.com.cn/kfccda/ashx/GetStoreList.ashx?op=cname&#39;" target="_blank" rel="noopener">http://www.kfc.com.cn/kfccda/ashx/GetStoreList.ashx?op=cname&#39;</a></span><br style="word-break: normal !important;">&nbsp; &nbsp;data = {<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 46px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘cname’</span>:&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 38px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘广州’</span>,<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 33px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘pid’</span>:&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 13px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘’</span>,<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 73px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘pageIndex’</span>: page,<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 66px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘pageSize’</span>:&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 27px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘10’</span><br style="word-break: normal !important;">&nbsp; &nbsp;}<br style="word-break: normal !important;">&nbsp; &nbsp;response = requests.post(url, data=data)<br style="word-break: normal !important;">&nbsp; &nbsp;print(response.json())<br style="word-break: normal !important;">&nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221); background: rgba(0, 0, 0, 0); display: inline; width: 13px; text-decoration-style: solid; text-decoration-color: rgb(198, 120, 221); word-break: normal !important;">if</span>&nbsp;response.json().get(<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 53px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘Table1’</span>,&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121); background: rgba(0, 0, 0, 0); display: inline; width: 13px; text-decoration-style: solid; text-decoration-color: rgb(152, 195, 121); word-break: normal !important;">‘’</span>):<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp;page +=&nbsp;<span class="hljs-default-number" style="color: rgb(209, 154, 102); background: rgba(0, 0, 0, 0); display: inline; width: 7px; text-decoration-style: solid; text-decoration-color: rgb(209, 154, 102); word-break: normal !important;">1</span><br style="word-break: normal !important;">&nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221); background: rgba(0, 0, 0, 0); display: inline; width: 27px; text-decoration-style: solid; text-decoration-color: rgb(198, 120, 221); word-break: normal !important;">else</span>:<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221); background: rgba(0, 0, 0, 0); display: inline; width: 33px; text-decoration-style: solid; text-decoration-color: rgb(198, 120, 221); word-break: normal !important;">break</span></code></pre></section><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">可以看到去掉from data，不用十行代码就可以把数据都爬下来了，所以说这个网站适合练手，大家可以去试试。</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><span style="font-size: 20px; word-break: normal !important;"><strong style="word-break: normal !important;">写在最后</strong></span></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">下篇文章我会写下复杂点的ajax请求，这个网站</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><strong style="word-break: normal !important;"><a href="http://drugs.dxy.cn/" target="_blank" rel="noopener">http://drugs.dxy.cn/</a><span style="font-size: 20px; word-break: normal !important;"><br style="word-break: normal !important;"></span></strong></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">不知道有多少人想看，想看的话点个赞吧！或者你可以自己先试试哈</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><br></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;">推荐文章</p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483804&amp;idx=1&amp;sn=899c55927facc551c23712921fc631ca&amp;chksm=fb4a7b30cc3df2268d2be3a93ee53839c419dc7427aecbebcbf678c57cefae27167c3be7630b&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483804&amp;idx=1&amp;sn=899c55927facc551c23712921fc631ca&amp;chksm=fb4a7b30cc3df2268d2be3a93ee53839c419dc7427aecbebcbf678c57cefae27167c3be7630b&amp;scene=21#wechat_redirect" style="word-break: normal !important;">如何爬取asp动态网页？搞定可恶的动态参数，这一文告诉你！</a></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483673&amp;idx=1&amp;sn=6c89eb9474d2076afb6405a9fd972e4f&amp;chksm=fb4a7bb5cc3df2a3ca3235ebe8bddf635839e5fd5a1b998b08dae521d449ee4388ae6ed7bbda&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483673&amp;idx=1&amp;sn=6c89eb9474d2076afb6405a9fd972e4f&amp;chksm=fb4a7bb5cc3df2a3ca3235ebe8bddf635839e5fd5a1b998b08dae521d449ee4388ae6ed7bbda&amp;scene=21#wechat_redirect" style="word-break: normal !important;">利用python爬取网易云音乐，并把数据存入mysql</a><br style="word-break: normal !important;"></p><p style="margin-right: 1em; margin-left: 1em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1px; word-break: normal !important;"><br></p><p style="font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; color: rgb(51, 51, 51); word-break: normal !important; text-align: center;"><img data-copyright="0" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_jpg/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUibICOVW7ziao5o8nCHYeqSJXIC0TKxqQgHibtaBKl4waRIZVPD4DaE8cg/640" width="26%" style="word-break: normal !important; visibility: visible !important; width: 173.672px !important;" _src="https://mmbiz.qpic.cn/mmbiz_jpg/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUibICOVW7ziao5o8nCHYeqSJXIC0TKxqQgHibtaBKl4waRIZVPD4DaE8cg/640"></p><p style="padding-right: 5px; padding-left: 5px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; color: rgb(51, 51, 51); word-break: normal !important; text-align: center;"><span style="font-size: 14px; word-break: normal !important;">日常学python</span></p><p style="padding-right: 5px; padding-left: 5px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; color: rgb(51, 51, 51); word-break: normal !important; text-align: center;"><span style="font-size: 14px; word-break: normal !important;">代码不止bug，还有美和乐趣</span></p><p><br></p></div><p class="readmore"><a href="/2019/01/14/谈谈如何抓取ajax动态网站/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/我爬取了37000条球迷评论，知道了这场比赛的重要信息/">我爬取了37000条球迷评论，知道了这场比赛的重要信息</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section><h1 style="font-weight: bold; font-size: 16px; line-height: 1.6em;"></h1><section class="mpa-template" data-mpa-template-id="1198548" data-mpa-color="null" data-mpa-category="fav" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><section style="word-break: normal !important;"><p style="margin-right: auto; margin-left: auto; padding-right: 5px; padding-left: 5px; max-width: 600px; word-wrap: normal; border-width: 1px; border-style: solid; border-color: rgb(95, 170, 255); font-family: 微软雅黑; font-size: 12px; border-radius: 2em; text-align: center; letter-spacing: 2px; word-break: normal !important;"><span style="color: rgb(255, 0, 0); word-break: normal !important;">这是日常学python的第18篇原创文章</span><br style="word-break: normal !important;"></p></section></section><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><strong style="word-break: normal !important;">这次用python爬虫爬点好玩的东西</strong></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">这两天看恰好有nba决赛，是球迷的你肯定不会错过的，更何况今年的西部决赛是火箭对战勇士，今年的火箭是很强的，因为没到关键时候总会有人站出来。当然，勇士也是挺强的，毕竟不能小看库里杜兰特等四大巨头。</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">东部的决赛我就不太知道了，一直以为是凯尔特人会苦战骑士，谁知道缺了两大主力的凯尔特人还是很强，而且还打了骑士2：0，看来这次的骑士会是凶多吉少了，不知道凯尔特人会不会成功复仇，让我们拭目以待吧！</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">有直播就肯定有评论，所以我想爬取下球迷评论，看看他们都在聊什么！</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><strong style="word-break: normal !important;"><span style="font-size: 20px; word-break: normal !important;">准备工作</span></strong></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">需要用到的库：</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">&nbsp; &nbsp; requests：用于网络请求</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">&nbsp;&nbsp;&nbsp;&nbsp;jieba：用于分词<br style="word-break: normal !important;"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">&nbsp;&nbsp;&nbsp;&nbsp;wordcloud：制作词云图<br style="word-break: normal !important;"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">&nbsp;&nbsp;&nbsp;&nbsp;numpy：制作背景图片<br style="word-break: normal !important;"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">词云背景图片：</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-copyright="0" data-cropselx1="0" data-cropselx2="558" data-cropsely1="0" data-cropsely2="321" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbU6xXyL3fiaYsJXoKbTqsicicarpTVrAdRiaGdlxiazzOQNWicDvuo3EOQ8PFA/640" style="height: 625px; width: 558px; word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbU6xXyL3fiaYsJXoKbTqsicicarpTVrAdRiaGdlxiazzOQNWicDvuo3EOQ8PFA/640"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">上面的库都是可以直接用pip进行下载的，但是wordcloud会报错，报错如下：</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-copyright="0" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbURS7Iyc18YMjJZgHyFTnoI8v7DUFD2UvOvvQj1R64spx1icfn4rgqLbw/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbURS7Iyc18YMjJZgHyFTnoI8v7DUFD2UvOvvQj1R64spx1icfn4rgqLbw/640"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">我们需要去官网下载whl文件进行手动安装</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">官网：<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="noopener">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">然后找到对应自己安装的python版本进行下载</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUbCpXibED3H4WWdpuGRNNa5HWmHE5wGV7Z6PWXwxqMCHiau3QDO5ic7r5w/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUbCpXibED3H4WWdpuGRNNa5HWmHE5wGV7Z6PWXwxqMCHiau3QDO5ic7r5w/640"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">最后在命令行下安装即可</p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; background-image: none; background-color: initial; word-break: normal !important;">pip install “文件路径+whl文件名”<br></pre></section><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><strong style="word-break: normal !important;">接下来寻找目标网页</strong></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">文字直播地址：<a href="https://www.zhibo8.cc/zhibo/nba/2018/0517123898.htm?redirect=zhibo" target="_blank" rel="noopener">https://www.zhibo8.cc/zhibo/nba/2018/0517123898.htm?redirect=zhibo</a></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">在这个网页通过抓包（按下f12）课知道下面这个链接是返回评论信息，而且是个json</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUMac5KzIeNF3FlabmBKKoDDs9cSNdzQGWrMjibjVqbJTIkzyNW1uvSjQ/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUMac5KzIeNF3FlabmBKKoDDs9cSNdzQGWrMjibjVqbJTIkzyNW1uvSjQ/640"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUaBxv3LdlfjPicjPmaEEicXGmx4XUicAVVHZficjjeRRmjOlPjptVCuGYag/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUaBxv3LdlfjPicjPmaEEicXGmx4XUicAVVHZficjjeRRmjOlPjptVCuGYag/640"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">链接为：<span style="color: rgb(34, 34, 34); word-break: normal !important;"><a href="https://cache.zhibo8.cc/json/" target="_blank" rel="noopener">https://cache.zhibo8.cc/json/</a><strong style="word-break: normal !important;">2018/nba/0517123898_384</strong>.htm?key=0.6512348313080727</span></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">通过多次分析知道上面加粗的是直播间的信息，后面的下划线之后的是评论的页数，最后的key参数是个随机数，带不带上进行请求都没有关系</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">用代码来获取评论信息</p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; background-image: none; background-color: initial; word-break: normal !important;"><code class="hljs-sublime" style="margin-right: 0.15em; margin-left: 0.15em; padding: 6px; border-radius: 4px; font-size: 0.85em; background: rgb(35, 36, 31); color: rgb(248, 248, 242); display: block; overflow-x: auto; white-space: nowrap; word-break: normal !important;"><span class="hljs-sublime-function" style="background: rgba(0, 0, 0, 0); display: inline; width: 185px; text-decoration-style: solid; text-decoration-color: rgb(248, 248, 242); word-break: normal !important;"><span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 20px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">def</span>&nbsp;<span class="hljs-sublime-title" style="color: rgb(166, 226, 46); background: rgba(0, 0, 0, 0); display: inline; width: 66px; text-decoration-style: solid; text-decoration-color: rgb(166, 226, 46); word-break: normal !important;"><strong>get_json</strong></span><span class="hljs-sublime-params" style="background: rgba(0, 0, 0, 0); display: inline; width: 86px; text-decoration-style: solid; text-decoration-color: rgb(248, 248, 242); word-break: normal !important;">(self, index)</span>:</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp;url =&nbsp;<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 528px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘<a href="https://cache.zhibo8.cc/json/2018/nba/0517123898_%d.htm?key=0.1355540028791382&#39;" target="_blank" rel="noopener">https://cache.zhibo8.cc/json/2018/nba/0517123898_%d.htm?key=0.1355540028791382&#39;</a></span>&nbsp;% index<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp;response = requests.get(url)<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 13px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">if</span>&nbsp;response.status_code ==&nbsp;<span class="hljs-sublime-number" style="color: rgb(174, 129, 255); background: rgba(0, 0, 0, 0); display: inline; width: 19px; text-decoration-style: solid; text-decoration-color: rgb(174, 129, 255); word-break: normal !important;">200</span>:<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 20px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">for</span>&nbsp;item&nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 14px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">in</span>&nbsp;response.json():<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 62px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 写入文件</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.write_file(item[<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 59px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘content’</span>])<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.num +=&nbsp;<span class="hljs-sublime-number" style="color: rgb(174, 129, 255); background: rgba(0, 0, 0, 0); display: inline; width: 6px; text-decoration-style: solid; text-decoration-color: rgb(174, 129, 255); word-break: normal !important;">1</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 40px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">return</span>&nbsp;<span class="hljs-sublime-number" style="color: rgb(174, 129, 255); background: rgba(0, 0, 0, 0); display: inline; width: 7px; text-decoration-style: solid; text-decoration-color: rgb(174, 129, 255); word-break: normal !important;">1</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 26px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">else</span>:<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 40px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">return</span>&nbsp;<span class="hljs-sublime-number" style="color: rgb(174, 129, 255); background: rgba(0, 0, 0, 0); display: inline; width: 7px; text-decoration-style: solid; text-decoration-color: rgb(174, 129, 255); word-break: normal !important;">0</span></code></pre></section><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">评论信息有了，接着弄张词云图</p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; background-image: none; background-color: initial; word-break: normal !important;"><code class="hljs-sublime" style="margin-right: 0.15em; margin-left: 0.15em; padding: 6px; border-radius: 4px; font-size: 0.85em; background: rgb(35, 36, 31); color: rgb(248, 248, 242); display: block; overflow-x: auto; white-space: nowrap; word-break: normal !important;"><span class="hljs-sublime-function" style="background: rgba(0, 0, 0, 0); display: inline; width: 171px; text-decoration-style: solid; text-decoration-color: rgb(248, 248, 242); word-break: normal !important;"><span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 20px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">def</span>&nbsp;<span class="hljs-sublime-title" style="color: rgb(166, 226, 46); background: rgba(0, 0, 0, 0); display: inline; width: 99px; text-decoration-style: solid; text-decoration-color: rgb(166, 226, 46); word-break: normal !important;"><strong>get_wordcloud</strong></span><span class="hljs-sublime-params" style="background: rgba(0, 0, 0, 0); display: inline; width: 40px; text-decoration-style: solid; text-decoration-color: rgb(248, 248, 242); word-break: normal !important;">(self)</span>:</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 26px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">with</span>&nbsp;open(<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 92px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘comments.txt’</span>,&nbsp;<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 20px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘r’</span>, encoding=<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 47px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘utf-8’</span>)&nbsp;<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 13px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">as</span>&nbsp;comments:<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;text = comments.read() &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 62px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 加载数据</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;words =&nbsp;<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 20px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘ ‘</span>.join(jieba.cut(text, cut_all=<span class="hljs-sublime-keyword" style="color: rgb(249, 38, 114); background: rgba(0, 0, 0, 0); display: inline; width: 27px; text-decoration-style: solid; text-decoration-color: rgb(249, 38, 114); word-break: normal !important;">True</span>)) &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 121px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 采用结巴全分词模式</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image = np.array(Image.open(<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 46px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘1.jpg’</span>)) &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 61px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 背景图片</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 73px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 初始化词云</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wc = WordCloud(font_path=<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 198px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">r’C:\Windows\Fonts\simkai.ttf’</span>,<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; background_color=<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 46px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘white’</span>, mask=image,<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_font_size=<span class="hljs-sublime-number" style="color: rgb(174, 129, 255); background: rgba(0, 0, 0, 0); display: inline; width: 20px; text-decoration-style: solid; text-decoration-color: rgb(174, 129, 255); word-break: normal !important;">100</span>, max_words=<span class="hljs-sublime-number" style="color: rgb(174, 129, 255); background: rgba(0, 0, 0, 0); display: inline; width: 27px; text-decoration-style: solid; text-decoration-color: rgb(174, 129, 255); word-break: normal !important;">2000</span>)<br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wc.generate(words) &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 61px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 生成词云</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wc.to_file(<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 59px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘img.png’</span>) &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 61px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 生成图片</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image_file = Image.open(<span class="hljs-sublime-string" style="color: rgb(230, 219, 116); background: rgba(0, 0, 0, 0); display: inline; width: 60px; text-decoration-style: solid; text-decoration-color: rgb(230, 219, 116); word-break: normal !important;">‘img.png’</span>) &nbsp;<span class="hljs-sublime-comment" style="color: rgb(117, 113, 94); background: rgba(0, 0, 0, 0); display: inline; width: 62px; text-decoration-style: solid; text-decoration-color: rgb(117, 113, 94); word-break: normal !important;"># 打开图片</span><br style="word-break: normal !important;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image_file.show()</code></pre></section><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">好了，代码完成，看下效果：</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><img data-copyright="0" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUicbxJ0gFljMa2bKLJRic6zib2wFglvAyDxuXlWnhhnemDtdsN0icK1eIQg/640" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUicbxJ0gFljMa2bKLJRic6zib2wFglvAyDxuXlWnhhnemDtdsN0icK1eIQg/640"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">利用词云图一眼就可以看出球迷都在评论什么了，因为我爬取的是火箭主场对战勇士的第二场比赛，肯定讨论最多的就是勇士火箭了，紧接的就是杜兰特了，死亡之神，这场的杜兰特超神拿了38分还是输给了火箭，自然而然就是讨论他最多了。还有就是这场站出来的塔克，三分6中5，还破了个人季后赛的最高得分，讨论他也是很正常的事。还有一个很显眼的就是第三节，很多人都认为勇士是“勇三疯”，以为这场比赛勇士会在第三节爆发吧？其实这赛季的火箭第三节也是很强的，并不比勇士弱。</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">完整代码已经上传到我的github上了，如果需要的话可以自行查看，如果觉得程序不错的话希望可以给个star哈！</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">github：<a href="https://github.com/SergioJune/gongzhonghao_code" target="_blank" rel="noopener">https://github.com/SergioJune/gongzhonghao_code</a></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><span style="font-size: 20px; word-break: normal !important;"><strong style="word-break: normal !important;">写在最后</strong></span></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">如果这篇文章对你用的话，希望不要吝啬你的点赞哈！点赞和转发就是对我的最大支持，这样才有动力输出质量高的原创文章。</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">「球迷的话点个赞？我看看有多少个是球迷」</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">推荐文章：</p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;">&lt;a href=”<a href="http://mp.weixin.qq.com/s" target="_blank" rel="noopener">http://mp.weixin.qq.com/s</a>?biz=MzU0NzY0NzQyNw==&amp;mid=2247483774&amp;idx=1&amp;sn=769c06f2cf532b645d9cb9ba63b52b81&amp;chksm=fb4a7bd2cc3df2c47851c244db40b5cddccf2e21381d7742e39b9db2bdee0f12b83f870814bf&amp;scene=21#wechat_redirect” target=”_blank” _href=”<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483774&amp;idx=1&amp;sn=769c06f2cf532b645d9cb9ba63b52b81&amp;chksm=fb4a7bd2cc3df2c47851c244db40b5cddccf2e21381d7742e39b9db2bdee0f12b83f870814bf&amp;scene=21#wechat_redirect&quot;" target="_blank" rel="noopener">http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483774&amp;idx=1&amp;sn=769c06f2cf532b645d9cb9ba63b52b81&amp;chksm=fb4a7bd2cc3df2c47851c244db40b5cddccf2e21381d7742e39b9db2bdee0f12b83f870814bf&amp;scene=21#wechat_redirect&quot;</a> style=”word-break: normal !important;”&gt;使用requests+BeautifulSoup的简单爬虫练习<br style="word-break: normal !important;"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" style="word-break: normal !important;">python爬虫常用库之requests详解</a><br style="word-break: normal !important;"></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="margin-right: 2em; margin-left: 2em; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; letter-spacing: 1.5px; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><img data-copyright="0" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_jpg/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUibICOVW7ziao5o8nCHYeqSJXIC0TKxqQgHibtaBKl4waRIZVPD4DaE8cg/640" style="width: 145.078px; word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_jpg/BIPpxEvceWicMYDKfP5R5OTlibqRibxgnbUibICOVW7ziao5o8nCHYeqSJXIC0TKxqQgHibtaBKl4waRIZVPD4DaE8cg/640"></p><p style="padding-right: 5px; padding-left: 5px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; color: rgb(51, 51, 51); text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">日常学python</span></p><p style="padding-right: 5px; padding-left: 5px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; color: rgb(51, 51, 51); text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">代码不止bug，还有美和乐趣</span></p><p><br></p>​</section></div><p class="readmore"><a href="/2019/01/14/我爬取了37000条球迷评论，知道了这场比赛的重要信息/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/老司机带你用python来爬取妹子图/">老司机带你用python来爬取妹子图</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><p><section class="_editor" data-mpa-powered-by="yiban.io" style="max-width: 100%; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><p class="_brush" style="margin-right: auto; margin-left: auto; max-width: 600px; word-wrap: normal; border-width: 1px; border-style: solid; border-color: rgb(95, 170, 255); font-family: 微软雅黑; font-size: 12px; border-radius: 2em; text-align: center; word-break: normal !important;"><span style="color: rgb(255, 0, 0); word-break: normal !important;">这是日常学python的第14篇原创文章</span></p></section></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">我前几篇文章都是说一些python爬虫库的用法，还没有说怎样利用好这些知识玩一些好玩的东西。那我今天带大家玩好玩又刺激的，嘻嘻！对了，requests库和正则表达式很重要的，一定要学会！一定要学会！！一定要学会！！！我现在的爬虫基本都是用这两样东西来爬的。所以学不学你看着办吧。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">来到今天的重点，我今天发现一个网站很好爬的，非常适合新手，我没有设置请求头什么的爬了很多遍很没有封我ip和给我返回403之类的，所以他对我们第一次玩爬虫的人来说很友好。这个网站就是<strong style="word-break: normal !important;">今日头条</strong>。最重要的是这里面有很多美女图片，我们可以把它们爬下来！！！是不是想想都要流鼻血啊？</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">文章首发于公众号「日常学python」</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">我们今天要爬的就是他的图集，先看看网站。搜索美女，然后点击图集，可以看到下面这些内容<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr1BxvCQiau0ehK8aenHF6ye4vhJEpY1icVyhAl8wl9B4ia5eMY06XiaM3Dw/0?wx_fmt=png" data-ratio="0.628482972136223" data-w="969" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr1BxvCQiau0ehK8aenHF6ye4vhJEpY1icVyhAl8wl9B4ia5eMY06XiaM3Dw/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">我们要做的就是把上面的图片给爬下来。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">那开始分析网站。按下f12，然后点击network，刷新下你可以看到这些<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrrQEdXOhlznSLQLll2FKFgDAb9Kxjr86U5G7YIdibrc1jVajdibqGnFNg/0?wx_fmt=png" data-ratio="0.2916666666666667" data-w="1752" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrrQEdXOhlznSLQLll2FKFgDAb9Kxjr86U5G7YIdibrc1jVajdibqGnFNg/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">进行寻找哪个请求返回这些图片的，在网页上可以看到图片会随着你下拉网页而进行显示更多的图片，这是动态加载的，所以可以轻松知道这个可以在xhr文件中找到，果然，你看<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrm2ndblibZKric4PHFuG6l4McF80iaO8EMg4UScx1M0liaQsNxMPEvCgPfw/0?wx_fmt=png" data-ratio="0.1457725947521866" data-w="686" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrm2ndblibZKric4PHFuG6l4McF80iaO8EMg4UScx1M0liaQsNxMPEvCgPfw/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">不断往下拉，不断地发送请求，点击这个请求看看是返回什么数据<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrk4uibZTrW2byE363HWSxIbX0yVJWtRicME9DcQwhEPngBicO9BPlicu2Iw/0?wx_fmt=png" data-ratio="0.362874251497006" data-w="835" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrk4uibZTrW2byE363HWSxIbX0yVJWtRicME9DcQwhEPngBicO9BPlicu2Iw/0?wx_fmt=png"><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr8VkFeVicguqEBEOicGkdrzhsSicx60TRoQlk3ns7mLUfJoH8VNGX4fa9g/0?wx_fmt=png" data-ratio="0.21882640586797067" data-w="818" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr8VkFeVicguqEBEOicGkdrzhsSicx60TRoQlk3ns7mLUfJoH8VNGX4fa9g/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">可以看到这是个json，里面有图片的url，这个就是我们要找的东西，那我们可以用json库来解析，还有这个网站是get请求，这样就可以用requests库来发送然后解析下就可以了，非常简单。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">那么分析就到这里，直接上代码</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; letter-spacing: 0px; white-space: normal; line-height: 1.6; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; padding: 0.5em; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); word-wrap: normal !important; word-break: normal !important; display: block !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> requests, os<br style="word-break: normal !important;">path_a = os.path.abspath(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>)<br style="word-break: normal !important;">kw = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘’</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">while</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">True</span>:<br style="word-break: normal !important;"> &nbsp; &nbsp;kw = input(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘请输入你要获取的图片(若想结束请输入1)’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> kw == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘1’</span>:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘已退出，你下载的图片已保存在’</span>+path_a+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘,请查看！’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">break</span><br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> range(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1000</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">20</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;url = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.toutiao.com/search_content/?offset=&#39;" target="_blank" rel="noopener">https://www.toutiao.com/search_content/?offset=&#39;</a></span>+str(x)+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘&amp;format=json&amp;keyword=%s&amp;autoload=true&amp;count=20&amp;cur_tab=3&amp;from=gallery’</span> % kw<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;response = requests.get(url)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;data = response.json()[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘data’</span>]<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">not</span> data:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘下载’</span>+kw+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘图片完毕，请换个关键词继续’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">break</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;n = <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span> &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 记录文章数</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> atlas <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> data:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 创建目录</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;title = atlas[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘title’</span>]<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(atlas)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">try</span>:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> title <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">not</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> os.listdir(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>): &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 防止文件名已经存在</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.mkdir(title)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> OSError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘文件名出错，创建目录失败，重新创建一个随机名字’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;title = kw + <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘文件名出错’</span>+str(x)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> title <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">not</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> os.listdir(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.mkdir(title)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;k = <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span> &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 记录下载的图片数</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path = os.path.join(path_a, title)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 转进图片目录</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.chdir(path)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> image <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> atlas[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘image_list’</span>]: &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个链接获取的图片是小张的，看着不够爽，所以下面替换成大的图片</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image_url = image[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘url’</span>].replace(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘list’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘large’</span>) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 改个链接获取大的图片</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;atlas = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘http:’</span>+image_url).content<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">with</span> open(str(k)+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.jpg’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘wb’</span>) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> f: &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 把图片写入文件内</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;f.write(atlas)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘下载完第%d个文章的%d幅图完成’</span> % (x+n, k))<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;k += <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;n += <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 转出图片目录</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.chdir(path_a)<br style="word-break: normal !important;"></code></pre></section><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">这个只用了requests库基本就能完成了，os库是用来操作文件目录的，这里就不详细说了。可以看到，代码量非常少，除开注释就大概四十行吧，是不是比其他语言简洁多了？是不是requests库很好用？这里可以充分体现了人生苦短，我用python的真理。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">而且，他还可换关键字继续搜，你想搜什么照片都可以。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">下篇文章写个requests库和正则来爬内容的文章，让你们感受下正则的强大！</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">最后给你们看下结果<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrzqhB19fjFC3pbTF4fuumOUpLrha9mX2dTnwqwQlLKCdwpblpy2L7Bg/0?wx_fmt=png" data-ratio="0.6289104638619202" data-w="927" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrzqhB19fjFC3pbTF4fuumOUpLrha9mX2dTnwqwQlLKCdwpblpy2L7Bg/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">不说那么多了，我要去买营养快线了。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">上述文章如有错误欢迎在留言区指出，如果这篇文章对你有用，点个赞，转个发如何？</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><section style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><section style="word-break: normal !important;"><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-right: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); font-weight: bold; line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">MORE</section><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">延伸阅读</section><section style="padding-right: 15px; padding-left: 15px; line-height: 2em; word-break: normal !important; box-sizing: border-box;"><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483725&amp;idx=1&amp;sn=82eccd84b4f23745427e1c6e963e1b37&amp;chksm=fb4a7be1cc3df2f7ec707f24ff7952b7558ea4cbb79b9bb533a5297977c808327728d3f23106&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483725&amp;idx=1&amp;sn=82eccd84b4f23745427e1c6e963e1b37&amp;chksm=fb4a7be1cc3df2f7ec707f24ff7952b7558ea4cbb79b9bb533a5297977c808327728d3f23106&amp;scene=21#wechat_redirect" style="word-break: normal !important;">爬虫必学知识之正则表达式上篇</a><span style="color: rgb(79, 129, 189); word-break: normal !important;"></span></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" style="word-break: normal !important;">python爬虫常用库之requests详解</a></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483729&amp;idx=1&amp;sn=3af71892e67f9dd93e8e4dabc98c76b1&amp;chksm=fb4a7bfdcc3df2eb60858642aa905b5b5fccdafd100e9af1099b268e4ccb5b72170e19299423&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483729&amp;idx=1&amp;sn=3af71892e67f9dd93e8e4dabc98c76b1&amp;chksm=fb4a7bfdcc3df2eb60858642aa905b5b5fccdafd100e9af1099b268e4ccb5b72170e19299423&amp;scene=21#wechat_redirect">爬虫必学知识之正则表达式下篇</a></span></p><p style="word-break: normal !important;"><br></p><p style="word-break: normal !important;"><br></p></section></section></section><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><img border="0" data-ratio="1.023076923076923" data-type="png" data-w="130" height="auto" title="undefined" _width="111.297px" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640" data-fail="0" style="margin-bottom: 1.4px; border-radius: 5px; border-width: 1px; border-style: dashed; border-color: rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.33) 6px 6px 5px 0px; word-break: normal !important; visibility: visible !important; width: 111.297px !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640"><br style="word-break: normal !important;"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">日常学python</span></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">代码不止bug，还有美和乐趣</span></p><p><br></p><p></p></div><p class="readmore"><a href="/2019/01/14/老司机带你用python来爬取妹子图/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/教你用python登陆豆瓣并爬取影评/">教你用python登陆豆瓣并爬取影评</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section editor="bj.96weixin.com" style="margin:0 auto;padding:0;box-sizing:border-box"><section class="yead_bgc wx-bg" style="border-style: solid; -webkit-border-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/v4vz52CcB13JzTTXXg3mC439fK28gxRK85c5jJicI6ia4ibEOx5DTicoiciamOZc6hcaLFy9S1AfhJzm8kUAHJnv4jtQ/0&quot;) 15 5 5 fill stretch; color: rgb(51, 51, 51); border-width: 10px 4px 4px; padding: 0px; box-sizing: border-box; background-color: rgb(51, 184, 108);"><section style="width: 100%; font-size: 14px; margin: 0px; line-height: 30px; padding: 0px 5px; box-sizing: border-box;" data-width="100%"><p style="padding:0;margin:0;text-align:justify">在上篇文章爬取豆瓣电影top250后，想想既然爬了电影，干脆就连影评也爬了，这样可以看看人们评价的电影，再加上刚出不久的移动迷官3好像挺热的，干脆就爬他吧，爬完看看好不好看！</p></section></section></section><p><br></p></section><section class="editor"><section style="margin:10px auto;"><section style="width: 100%; font-size: 18px; height: 40px; line-height: 40px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(30, 28, 28); text-align: center; box-sizing: border-box;" data-width="100%">进入主题</section><section style="width: 100%; margin-top: 1px; border-top-style: solid; border-top-width: 1px; border-top-color: rgb(30, 28, 28); box-sizing: border-box;" data-width="100%"></section></section></section><p><br></p><p><strong>1.去找目标网页并找到所要找的数据</strong><br></p><p><br></p><p>一进去网页就条件反射打开开发者工具，很容易就看到了这个<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067651.png" title="1802067651.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067651.png" alt=""></p><p><br></p><p>鼠标所点的就是我接下来要爬的网站，先看看他的response和请求头之类的信息，他的请求方式时get，response是一个网页结构，这就好办了，我们就可以用正则来匹配出所要的数据，正则还是个很好用的东西，请大家务必要学会啊。那接下来就动手敲代码咯！</p><p><br></p><p>2.<strong>用re+requests获取数据</strong></p><p><br></p><p>获取信息<br></p><p><strong><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067256.png" title="1802067256.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067256.png" alt=""></strong></p><p>先把数据写入txt文件中（打开的文件要指定编码为utf-8，要不会出现编码问题，因为window的默认编码方式是gbk，而你的编码为utf-8）<br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802062970.png" title="1802062970.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802062970.png" alt=""></p><p>正则表达式和网址<br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802063224.png" title="1802063224.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802063224.png" alt=""></p><p><br></p><p>一点击运行，只运行了两页，就出了问题，因为这个评论不止两页</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802061824.png" title="1802061824.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802061824.png" alt=""></p><p><br></p><p>调试了下，在获取完第二页的时候他返回了个不存在的网页，导致我的正则表达式捕捉不到数据，出现了个空的page，所以就只下载了两页，这应该是被反爬了，继续回网页看看需要加什么请求头，然而我把全部的请求头的信息都加了，还是没用，这就触及到我的盲区了（尴尬脸），但是我可以百度啊，百度一看，看见有人说模拟登陆就可以了，那好，我就来模拟登陆一波！！！</p><p><br></p><p><strong>3.模拟登陆豆瓣</strong></p><p><br></p><p>首先需要看看登陆需要什么参数，这个参数是在豆瓣的登陆网址，先打开登陆，打开开发者工具(要不会看不到后面这个所需要的网页)，填好信息点击登陆，然后点击这个login网页，往下拉就会看到From Data 这个框，这个就是登陆所要的参数<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802069594.png" title="1802069594.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802069594.png" alt=""></p><p><br></p><p>直接把他们复制过来即可</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067548.png" title="1802067548.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067548.png" alt=""></p><p><br></p><p>然后就用post把信息发到服务器完成登陆，但是这有个问题，怎么保存登陆信息呢？这就需要用到<strong>Session()</strong>来保留了，但是注意，只需要建立一个会话信息就可以了，不是每个都用这个方法，我初学时就是犯这个错误以至于我搞了很久还没有登陆成功。代码如下</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066457.png" title="1802066457.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066457.png" alt=""></p><p>然后用这个post上去，注意！注意！注意！post的网址是登陆网址，不是你要爬的网址，我刚学时也是被这个坑了很久(怎么感觉我很多问题)，还有其他用requests的都需要替换成<strong>self.ssession()</strong></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067203.png" title="1802067203.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067203.png" alt=""></p><p>​</p><p>最后这样<br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802068961.png" title="1802068961.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802068961.png" alt=""></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066811.png" title="1802066811.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066811.png" alt=""></p><p>大功告成，由于只能获取500条这是因为豆瓣只开放了500条评论信息，多一条都不肯给</p><p><br></p><p><strong>4.登陆多了需要填验证码</strong></p><p><br></p><p>由于我多次登陆注销，然后我就需要填验证码了，然而这还是难不到我，还是分析网页找出验证码图片然后下载下来自己填写，还没有那些大佬那么厉害可以用人工智能来填写，代码如下<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802064517.png" title="1802064517.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802064517.png" alt=""></p><p><br></p><p>还有将数据保留到数据库，我就不贴了，代码和上篇文章的差不多</p><p><br></p><section class="editor"><p><img src="https://mmbiz.qlogo.cn/mmbiz/QKDxrVYehicdAibIVUpquF6TQUwXFg6dYCrLBEiasLaVyObib9LjK08qQ7IzkYKROO93uxoEnMSl8zRCWiaY7JwgZWg/0?wx_fmt=jpeg" style="margin: 0px; padding: 0px; max-width: 100%;"></p></section><p>通过这个我学会了使用session来保存会话信息来登陆简单网页，还可以填写验证码，自己还是觉得有点高大上的，嘻嘻。由于本人还没学数据分析，就只能到这里，而生成词云也有点不会，直接复制粘贴来无趣，所以就先不写了，等大神你来写吧！</p><p><br></p><p>最后非常感谢你看完了我的文章，如果觉得有用可以点赞，转发哈！若需要完整代码在微信公众号<strong>日常学python</strong>后台回复<strong>影评</strong>即可，若需要python相关的电子书也可以回复<strong>pdf</strong>获得，日后还会有更多福利发给你</p><p><br></p><p><br></p><p style="text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p><br></p><p style="text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802054148.png" height="auto" border="0" alt="1802054148.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802054148.png"></p><p style="text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p><p><br></p><p><br></p><p><br></p></section></div><p class="readmore"><a href="/2019/01/14/教你用python登陆豆瓣并爬取影评/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/反爬虫与反反爬虫/">反爬虫与反反爬虫</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section editor="bj.96weixin.com" style="margin:0 auto;padding:0;box-sizing:border-box"><section class="yead_bgc wx-bg" style="border-style: solid; -webkit-border-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/v4vz52CcB13JzTTXXg3mC439fK28gxRK85c5jJicI6ia4ibEOx5DTicoiciamOZc6hcaLFy9S1AfhJzm8kUAHJnv4jtQ/0&quot;) 15 5 5 fill stretch; color: rgb(51, 51, 51); border-width: 10px 4px 4px; padding: 0px; box-sizing: border-box; background-color: rgb(51, 184, 108);"><section style="width: 100%; font-size: 14px; margin: 0px; line-height: 30px; padding: 0px 5px; box-sizing: border-box;" data-width="100%"><p style="padding:0;margin:0;text-align:justify">喜欢爬虫的伙伴都知道，在爬网站的内容的时候并不是一爬就可以了，有时候就会遇到一些网站的反爬虫，折回让你爬不到数据，给你返回一些404，403或者500的状态码，这有时候会让人苦不堪言，就如我昨天发的爬网易云音乐评论，在你爬的数据较多时，网站认为你是一个机器，就不让你爬了，网易云就给我返回了一个<strong>{“code”:-460,”msg”:”Cheating”}，</strong>你不看下他的返回内容还不知道自己被反爬虫，不过不用担心，既然网页有反爬虫，可我们也有反反爬虫，今天就给大家说说反爬虫与反反爬虫。</p></section></section></section><p><br></p></section><section class="editor"><section style="border: 0px; margin: 0px auto; padding: 0px; text-align: center; box-sizing: border-box;"><section style="padding: 5px 10px; line-height: 30px; text-align: center; font-size: 14px; border: 3px solid rgb(51, 184, 108); display: inline-block; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="padding: 0px; color: rgb(255, 255, 255); height: 30px; width: 30px; line-height: 30px; text-align: center; font-size: 14px; display: inline-block; border-radius: 100%; box-sizing: border-box; background-color: rgb(51, 184, 108);"><p>1</p></section><section style="padding: 0px 0px 0px 10px; color: rgb(51, 184, 108); line-height: 30px; text-align: center; font-size: 14px; border: 0px; display: inline-block; box-sizing: border-box;"><p>网页的反爬虫</p></section></section><section style="padding: 0px; margin: 0px auto; color: rgb(255, 255, 255); width: 0px; height: 0.4rem; text-align: center; border-width: 0.4rem 0.6rem 0px; border-style: solid; border-color: rgb(51, 184, 108) rgb(255, 255, 255) rgb(255, 255, 255); box-sizing: border-box;"></section></section></section><p><br></p><p><strong>1.通过网页的请求头</strong><br></p><p>首先我们先看看网易云音乐评论的请求头<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802099052.png" title="1802099052.png" alt=""><strong><br></strong></p><p><br></p><p><strong>User-Agent：</strong>这个是保存用户访问该网站的浏览器的信息，我上面这个表示的是我通过window的浏览器来访问这个网站的，如果你是用python来直接请求这个网站的时候，这个的信息会带有python的字眼，所以网站管理员可以通过这个来进行反爬虫。</p><p><br></p><p><strong>Referer：</strong>当浏览器发送请求时，一般都会带上这个，这个可以让网站管理者知道我是通过哪个链接访问到这个网站的，上面就说明我是从网易云音乐的主页来访问到这个页面的，若你是用python来直接请求是，就没有访问来源，那么管理者就轻而易举地判断你是机器在操作。</p><p><br></p><p><strong><span style="color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 27.2px;">authorization</span></strong>:有的网站还会有这个请求头，这个是在用户在访问该网站的时候就会分配一个id给用户，然后在后台验证该id有没有访问权限从而来进行发爬虫。<br></p><p><br></p><p><strong>2.用户访问网站的ip</strong></p><p>当你这个ip在不断地访问一个网站来获取数据时，网页后台也会判断你是一个机器。就比如我昨天爬的网易云音乐评论，我刚开始爬的一首《海阔天空》时，因为评论较少，所以我容易就得到所有数据，但是当我选择爬一首较多评论的《等你下课》时，在我爬到800多页的时候我就爬不了，这是因为你这个ip的用户在不断地访问这个网站，他已经把你视为机器，所以就爬不了，暂时把你的ip给封了。<strong><br></strong></p><p><br></p><section class="editor"><section style="border: 0px; margin: 0px auto; padding: 0px; text-align: center; box-sizing: border-box;"><section style="padding: 5px 10px; line-height: 30px; text-align: center; font-size: 14px; border: 3px solid rgb(51, 184, 108); display: inline-block; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="padding: 0px; color: rgb(255, 255, 255); height: 30px; width: 30px; line-height: 30px; text-align: center; font-size: 14px; display: inline-block; border-radius: 100%; box-sizing: border-box; background-color: rgb(51, 184, 108);"><p>2</p></section><section style="padding: 0px 0px 0px 10px; color: rgb(51, 184, 108); line-height: 30px; text-align: center; font-size: 14px; border: 0px; display: inline-block; box-sizing: border-box;"><p>我们的反反爬虫</p></section></section><section style="padding: 0px; margin: 0px auto; color: rgb(255, 255, 255); width: 0px; height: 0.4rem; text-align: center; border-width: 0.4rem 0.6rem 0px; border-style: solid; border-color: rgb(51, 184, 108) rgb(255, 255, 255) rgb(255, 255, 255); box-sizing: border-box;"></section></section></section><p><br></p><p><strong>1.添加请求头</strong></p><p>既然在请求网页的时候需要请求头，那么我们只需要在post或者get的时候把我们的请求头加上就可以了，怎样加？可以使用<strong>requests</strong>库来添加，在post，get或者其他方法是加上<strong>headers</strong>参数就可以了，而请求头不需要复制所有的信息，只需要上面的三个之中一个就可以，至于哪个自己判断，或者直接添加所有也可以，这样我们就可以继续爬了。</p><p><br></p><p><strong>2.使用代理ip</strong></p><p>若是网站把你的ip给封了，你添加什么的请求头也都没有用了，那我们就只有等他解封我们才可以继续爬吗？我可以十分自信告诉你：<strong>不需要</strong>，我们可以使用代理ip来继续爬，我们可以爬取网络上的免费ip来爬，至于免费的代理ip质量怎样你们应该知道，有必要可以买些不免费的，这样好点，我们平时的练习用免费的代理ip就可以了，可以自己爬取一些免费代理ip建成ip池，然后爬的时候就把ip随机取出来，我偷偷告诉你：小编明天的文章就是教你怎样搭建自己的代理ip池。</p><p><br></p><section class="editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="96wx-bdlc 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section class="96wx-bdbc" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right-width: 15px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96wx-bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; box-sizing: border-box; background-color: rgb(245, 189, 209);"><span style="color:inherit; font-size:12px">END</span></section><section class="96wx-bdlc" style="margin: 0px; padding: 0px; border-left-width: 15px; border-left-style: solid; border-left-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; height: 0px; width: 0px; float: left; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; box-sizing: border-box;"></section></section></section></section></section><p>结束语：上面的只是个人在爬一些网站时候遇到的一些反爬虫，这只是很简单的，还有那些动态网站的反爬虫自己还没有接触，等到以后接触了，再一 一补充。最后给大家在爬虫上的建议，就是爬取速度不要太快，最好每几个就隔几秒，不要给服务器造成太大的压力，也可以在爬虫的时候选择一些访问量少点的时间段，这是对服务器好，也是对你自己好！</p><section class="editor"><p><br></p></section><p style="text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p><br></p><p style="text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802054148.png" height="auto" border="0" alt="1802054148.png"></p><p style="text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p><p><br></p></section></div><p class="readmore"><a href="/2019/01/14/反爬虫与反反爬虫/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/搭建自己的代理ip池/">搭建自己的代理ip池</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section editor="bj.96weixin.com" style="margin:0 auto;padding:0;box-sizing:border-box"><section class="yead_bgc wx-bg" style="border-style: solid; -webkit-border-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/v4vz52CcB13JzTTXXg3mC439fK28gxRK85c5jJicI6ia4ibEOx5DTicoiciamOZc6hcaLFy9S1AfhJzm8kUAHJnv4jtQ/0&quot;) 15 5 5 fill stretch; color: rgb(51, 51, 51); border-width: 10px 4px 4px; padding: 0px; box-sizing: border-box; background-color: rgb(51, 184, 108);"><section style="width: 100%; font-size: 14px; margin: 0px; line-height: 30px; padding: 0px 5px; box-sizing: border-box;" data-width="100%"><p style="padding:0;margin:0;text-align:justify">​继上一篇说了反爬虫之后，我说今天这篇文章会搭建一个属于自己的代理ip池，所以，为了不食言，就写了这篇文章，那好废话不多说，进入正题<br></p></section></section></section><p><br></p></section><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;"><span style="color: #FFFFFF;vertical-align:middle;" class="autonum">1</span></p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; font-size: 18px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p><span style="font-family: 微软雅黑; font-size: 16px;">目标网站</span></p></section></section></section></section></section><p>爬取代理ip，这也需要找网页，这就得看看哪个网页提供这些代理ip了，本人知道了几个免费提供代理ip的网站，如下：</p><p><br></p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p>无忧代理ip</p></li><li><p>芝麻代理ip</p></li><li><p>西刺代理ip</p></li><li><p>云连代理ip</p></li></ul><p><br></p><p>我选择了爬取西刺代理的网站。</p><p><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">2</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p><span style="font-family:微软雅黑">分析网站结构</span></p></section></section></section></section></section><p>我们需要获取的高匿代理，按下F12打开开发者工具<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802106756.png" title="1802106756.png" alt=""></p><p><br></p><p>上面我们要获取的数据是ip地址，端口和类型这三个就可以了，可以看到，这些数据都在一个<strong>tr</strong>标签里，但是有两个不同的tr标签，这样可以用正则表达式，利用相隔的html结构先把整个内容匹配下来，再把重要信息匹配下来，最后就把他弄成这个样子<strong>{‘https’: ‘<a href="https://ip:端口&#39;}" target="_blank" rel="noopener">https://ip:端口&#39;}</a></strong><span style="line-height: 25.6px;">存入列表即可，最后就随机获取一个ip，然后可以先判断是否有用，再拿来做你此时项目的代理ip，<strong>判断是否用的方法就是随便拿一个百度获取别的网站，加上代理ip发送get请求，看看status_code()的返回码是不是200，</strong>即可，就如下面这样<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802107109.png" title="1802107109.png" alt=""></span></p><p><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">3</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p style=""><span style="font-family:微软雅黑">代码部分</span></p></section></section></section></section></section><p><span style="line-height: 25.6px;"></span><strong>1.匹配数据，并挑选数据存入列表</strong><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802105349.png" title="1802105349.png" alt=""></p><p><br></p><p><strong>2.随机获取ip，并写好ip格式</strong></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802105063.png" title="1802105063.png" alt=""></p><p><br></p><p>我这里是把他存入列表，现抓现用，是因为我现在的爬虫项目都是很小的，只需要这些就可以了。</p><p><br></p><section class="editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="96wx-bdlc 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section class="96wx-bdbc" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right-width: 15px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96wx-bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; box-sizing: border-box; background-color: rgb(245, 189, 209);"><span style="color:inherit; font-size:12px">END</span></section><section class="96wx-bdlc" style="margin: 0px; padding: 0px; border-left-width: 15px; border-left-style: solid; border-left-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; height: 0px; width: 0px; float: left; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; box-sizing: border-box;"></section></section></section></section></section><p>以上就是我简单搭建的代理ip池了，等到以后慢慢完善，你可以把他们存入你的数据库，然后要用的时候，就随机拿出来，先看看有没有用，没用的话就删除，有用就拿来用即可。</p><p><br></p><p style="text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p style="text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png" height="auto" border="0" alt="1802109804.png"></p><p style="text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p></section></div><p class="readmore"><a href="/2019/01/14/搭建自己的代理ip池/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/python爬取豆瓣电影Top250/">利用python爬取豆瓣电影Top250，并把数据放入MySQL数据库</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="editor" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section style="margin:10px auto;text-align:center"><section style="margin: 0px auto; text-align: center; padding: 0px 10px; box-sizing: border-box;"><p><br></p><span style="display:inline-block;float:left;transform-origin:right bottom;margin-left:-28px;margin-bottom:8px;transform: rotate(-65deg);-webkit-transform: rotate(-65deg);-moz-transform: rotate(-65deg);-ms-transform: rotate(-65deg);-o-transform: rotate(-65deg);"><em class="yead_bgc" style="display:block;width:40px;height:1px;background-color:#33b86c;margin-left:8px"></em></span><section style="display:inline-block;overflow:hidden;width:100%" data-width="100%"><span class="yead_bgc" style="display:inline-block;height:3px;width:80%;float:left;background-color:#33b86c" data-width="80%"></span><section style="margin: 0px auto; font-size: 14px; line-height: 30px; clear: both; padding: 10px; text-align: left; color: rgb(51, 51, 51); box-sizing: border-box;"><p style="padding:0;margin:0"><br></p><p style="padding:0;margin:0">在<span style="line-height: 25.6px; white-space: pre-wrap;">学习了python基础后，一心想着快速入门爬虫，因为我就是为爬虫而学的python,所以就找了这个豆瓣电影来爬取。好了，废话不多说，进入正题</span></p></section><span class="yead_bgc" style="display:inline-block;height:3px;width:80%;float:right;background-color:#33b86c" data-width="80%"></span></section><span style="display:inline-block;float:right;transform-origin:right top;margin-right:17px;margin-top:10px;transform: rotate(120deg);-webkit-transform: rotate(120deg);-moz-transform: rotate(120deg);-ms-transform: rotate(120deg);-o-transform: rotate(120deg);"><em class="yead_bgc" style="display:block;width:20px;height:1px;background-color:#33b86c"></em><em class="yead_bgc" style="display:block;width:40px;height:1px;background-color:#33b86c;margin-left:8px;margin-top:5px"><br></em></span></section></section></section><p><strong>1.找到网页并分析网页结构</strong><br></p><p><br></p><p>首先进入<a href="https://movie.douban.com/top250" target="_blank" title="豆瓣电影Top250">豆瓣电影Top250</a>这个网页，按下f12打开开发者工具，如下图</p><p><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802039651.png" title="1802039651.png" alt=""></p><p><br></p><p>然后开始分析网页，点击开发者工具左上角的有个箭头的东西去找你需要找的数据，在这里我发现每个电影的信息都是在&lt;li&gt;的标签内，所以可以用正则表达式来先提取每一个电影，然后在分别提取每个电影中的数据。每个电影现在的数据都可以获取了，但是这个url只有25个电影，怎样获取下一页的呢？这里我们可以在每个页面获取下一页的链接，然后通过循环来继续获取下一页的电影数据即可</p><p><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802039785.png" title="1802039785.png" alt=""></p><p>我们可以先用开发者工具的箭头点一下后页，然后就显示右边的箭头数据出来，这里我们也可以用正则表达式来获取下一页的链接，然后接下来的工作就是循环了，好了分析结束，开始敲代码吧！</p><p><br></p><p><strong>2.用面向对象的方法进行爬取数据</strong></p><p><br></p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p>先用requests对网页进行请求，获取网页的html结构，在这里，为了防止网页的反爬虫技术，我加了个请求头</p><p>（记得使用requests库之前先导入，没有的可以在命令行通过 <strong>pip install requests</strong> 进行下载）</p><p><strong><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802035432.png" title="1802035432.png" alt=""></strong></p><p><br></p><p>请求头在开发者工具中查看，如下图所示</p><p><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802037188.png" title="1802037188.png" alt="" style="z-index: -1; cursor: pointer; line-height: 25.6px; white-space: pre-wrap;"></p><p><br></p></li><li><p>接下用正则表达式进行获取数据</p><p><br></p><p>先匹配每一个电影和每一页数据（使用正则表达式的库是re）</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802033229.png" title="1802033229.png" alt=""><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802034633.png" title="1802034633.png" alt=""></p><p><br></p><p>接下来获取每个电影的数据<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802036920.png" title="1802036920.png" alt=""><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802034583.png" title="1802034583.png" alt=""></p><p><br></p><p>注意：获取到上面的数据，有的是空的，所以还需要进行判断是否为空，为了好看，我用了三元表达式进行判断，完成之后把他们存入字典<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802038436.png" title="1802038436.png" alt=""></p><p><br></p></li><li><p>接下来就是进行循环取下一页的数据了<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802039430.png" title="1802039430.png" alt=""></p><p><br></p></li></ul><p>3.如果你有点数据库基础的话，还可以把他们存入数据库，在这里我把这些数据存入MySQL数据库，代码如下，需要自己先建好数据库好表格</p><p><br></p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p>这是操作数据库的类（使用的库为pymysql）<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802034586.png" title="1802034586.png" alt=""><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802036544.png" title="1802036544.png" alt=""></p><p><br></p></li><li><p>然后回到爬虫类进行把数据存入数据库</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802033864.png" title="1802033864.png" alt=""><br></p></li></ul><p><br></p><p>4.<strong>成功后你就会在数据库中查到以下数据<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802032445.png" title="1802032445.png" alt=""></strong><br></p><p><br></p><section class="editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="96wx-bdlc 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section class="96wx-bdbc" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right-width: 15px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96wx-bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; box-sizing: border-box; background-color: rgb(245, 189, 209);"><span style="color:inherit; font-size:12px">END</span></section><section class="96wx-bdlc" style="margin: 0px; padding: 0px; border-left-width: 15px; border-left-style: solid; border-left-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; height: 0px; width: 0px; float: left; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; box-sizing: border-box;"></section></section></section></section></section><p>最后，非常感谢你看完了这篇文章，喜欢的话，或者有什么问题的话欢迎去我的微信公众号<strong>日常学python</strong>后台回复我，我会认真回答的。</p><p><br></p><section class="editor">ps:如果需要完整代码的话可以在微信公众号<strong>日常学python</strong>后台回复top250即可，或者想要什么学习资源也可以后台找我哦</section><p><br></p><p><br></p><p><br></p></section></div><p class="readmore"><a href="/2019/01/14/python爬取豆瓣电影Top250/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/python爬虫常用库之requests详解/">python爬虫常用库之requests详解</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><p>在使用了urllib库之后，感觉很麻烦，比如获取个cookie都需要分几步，代码又多，这和python的风格好像有点不太像哈，那有没有更加容易点的请求库呢？答案是有的，那就是第三方库<strong>requests</strong>,这个库的作者是大名鼎鼎的<strong>kennethreitz</strong>，创作这个库的原因就是想让python开发者更加容易地发起请求，处理请求。里面还有个名字：<strong>HTTP for Humans</strong>,顾名思义，就是用来请求http的。想看源代码的可以在github上搜索他的名字就可以看到了。</p><p><br></p><p>接下来介绍下怎样用这个库吧！</p><p><br></p><p>因为这是第三方库，所以我们需要下载，需要在命令行输入<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install requests<br></code></pre></section><p>如果你装的是anacoda可以忽略这条</p><p><br></p><p>安装好了就来进行使用吧</p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">1</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">进行简单的操作</span></section></section></section><p>发送一个get请求<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 发送请求<br>import requests</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取返回的html信息</span><br>print(response.text)<br></code></pre></section><p>这样就发送了一个get请求，并且还打印了返回的内容，这个不再需要知道网页是哪个编码的，不过有时会出现编码问题，但是你也可以指定编码类型，如：</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">response.encoding = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘utf-8’</span><br></code></pre></section><p>指定完成后就可以正常编码了，前提你得知道网页的编码类型。</p><p><br></p><p>出了上面这些，我们还可以获取下面的信息<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">print(response.headers)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 请求状态码</span><br>print(response.status_code)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取网页的二进制内容</span><br>print(response.content)<br>print(response.url) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取请求的url</span><br>print(response.cookies) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取cookie</span><br></code></pre></section><p>是不是觉得很容易，一行代码就可以了。不再需要几步代码什么的了。</p><p><br></p><p>接下来被发爬的话带上个请求头来进行请求</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 还可以添加请求头进行请求</span><br>headers = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘User-Agent’</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36’</span>}<br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get'," _src="http://httpbin.org/get'," target="_blank" rel="noopener">http://httpbin.org/get’,</a> headers=headers </span>)<br>print(response.headers)<br>print(response.text)<br></code></pre></section><p>加个请求头也就是加个关键字参数而已</p><p><br></p><p>还可以进行带参数的get请求<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 进行带参数的get请求</span><br>data = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘name’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘june’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘password’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">123456</span>}<br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>, params=data)<br>print(response.text)<br></code></pre></section><p><br></p><p><br></p><p>那如果需要登陆呢？post请求怎样发？告诉你，照样很简单<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 进行post请求</span><br>data = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘name’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘june’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘password’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">123456</span>}<br>response = requests.post(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/post&#39;" target="_blank" rel="noopener">http://httpbin.org/post&#39;</a></span>, data=data, headers=headers)<br>print(response.text)<br></code></pre></section><p>是不是很简单，也是加个data关键字参数，把要提交的登陆参数进行post上去。</p><p><br></p><p>那除了上面的两个请求，还能进行别的请求吗？我可以非常开心地告诉你，可以的。比如，你要发个put请求，如这样</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">requests.put()<br>requests.delete()<br></code></pre></section><p>这个就是发送put请求和delete请求的，其他的请求也是这样发送，就不一 一说了。</p><p><br></p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">2</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">进行复杂点的请求</span></section></section></section><p><br></p><p>在登陆的时候我们有时候需要输入验证码，那怎样输呢？爬虫的看不了网页，最简单的做法就是把这个验证码的图片下载下来然后手动输入，那么我们怎样下载呢？我们可以向这个图片的url发送请求，然后把返回内容以二进制方法存入文件里面就可以了。<br></p><p><br></p><p>代码如下：</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 从网上读取二进制数据，比如图片</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.baidu.com/img/bd_logo1.png&#39;" target="_blank" rel="noopener">https://www.baidu.com/img/bd_logo1.png&#39;</a></span>, headers=headers)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是直接获取字节码，这个是要保存的文件</span><br>print(response.content)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是获取解码后的返回内容，这个是乱码</span><br>print(response.text)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 用文件来把图片下载下来</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">with</span> open(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘baidu.png’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘wb’</span>) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> f: <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 注意写的方式是以二进制方式写入</span><br> f.write(response.content)<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘下载完毕’</span>)<br></code></pre></section><p><br></p><p>还是很简单，不得不说，这个库太好用了。<br></p><p><br></p><p>当我们需要上传文件的时候，比如图片，我们还可以用post方法把他发送出去<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 上传文件</span><br>files = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘picture’</span>: open(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘baidu.png’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘rb’</span>)}<br>response = requests.post(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/post&#39;" target="_blank" rel="noopener">http://httpbin.org/post&#39;</a></span>, files=files)<br>print(response.text)<br></code></pre></section><p><br></p><p>获取cookie并简单处理一下<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取cookie</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.baidu.com&#39;" target="_blank" rel="noopener">https://www.baidu.com&#39;</a></span>)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> k, v <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> response.cookies.items():<br> print(k, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘=’</span>, v)<br></code></pre></section><p><br></p><p>当网页返回内容是json格式是，我们不需要用json库来解析，我们可以直接利用requests的方法进行解析，两者的效果是一样的</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 解析json</span><br>j = response.json() <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 可以用json库来解析，结果一样</span><br></code></pre></section><p><br></p><p><br></p><p>在urllib库时保存登陆信息需要把cookie保存下来，但是在requests库里面，我们只需要用<strong>requests.session()</strong>来保存信息就可以了。<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 用会话来保持登陆信息</span><br>session = requests.session()<br>response = session.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/cookies/set/number/123456&#39;" target="_blank" rel="noopener">http://httpbin.org/cookies/set/number/123456&#39;</a></span>)<br>print(response.text)<br></code></pre></section><p><br></p><p><strong>这样就可以保存登陆了，不需要为cookie操心了，但是每次获取一个session就可以了，然后用来请求或者其他操作。不需要每次请求或者操作都创建一个sesion出来，这样是保存不了登陆信息的</strong></p><p><br></p><p><br></p><p>当一个网站不安全，需要你用证书验证的，比如这个网站</p><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'宋体';font-size:15.0pt;"><a href="https://www.12306.cn" target="_blank" rel="noopener">https://www.12306.cn</a><br></pre><p><br></p><p><strong><img src="http://pic.96weixin.com/upload/image2/vip/881679/1803/1803131549.png" title="1803131549.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1803/1803131549.png" alt=""></strong></p><p><br></p><p>这时要访问里面的网站内容，我们就需要进行验证，代码如下</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 证书验证</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.12306.cn&#39;" target="_blank" rel="noopener">https://www.12306.cn&#39;</a></span>, verify=<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">False</span>) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 不加这个关键字参数的话会出现验证错误问题，因为这个网站的协议不被信任</span><br></code></pre></section><p>这样就可以进行访问了，但是会有一条警告<strong><br></strong></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">E:\anaconda\lib\site-packages\urllib3\connectionpool.py:<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">858</span>: InsecureRequestWarning: Unverified HTTPS request <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">is</span> being made. Adding certificate verification <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">is</span> strongly advised. See: <a href="https://urllib3.readthedocs.io/en/latest/advanced-usage.html" target="_blank" rel="noopener">https://urllib3.readthedocs.io/en/latest/advanced-usage.html</a><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#ssl-warnings</span><br> InsecureRequestWarning)<br></code></pre></section><p>觉得不美观的，我们还可以在请求时加个cert关键字参数，值为可信任的证书，为一个元组，写上账号和密码之类的，这里就不演示了</p><p><br></p><p>遇到需要认证的网站，我们也可以这样<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">from requests.auth import HTTPBasicAuth<br># 设置认证</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># requests.get(‘需要认证的网址’, auth=HTTPBasicAuth(‘user’, ‘passwd’)) # 由于找不到需要认证的网址，所以先写个主体</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 还可以这样认证</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># requests.get(‘需要认证的网址’, auth=(‘user’, ‘passwd’)) # 这样就简单点</span><br></code></pre></section><p>由于我找不到需要认证的网站，所以就不演示了。</p><p><br></p><p>requests还可以用代理ip来进行请求网站来防止ip被封以至于自己爬不了的尴尬。使用代理ip也比urllib库简单得多，代码如下：<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 设置代理</span><br>proxies = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘http’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://122.114.31.177:808&#39;" target="_blank" rel="noopener">http://122.114.31.177:808&#39;</a></span>,<br>   <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘https’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://119.28.223.103:8088&#39;" target="_blank" rel="noopener">https://119.28.223.103:8088&#39;</a></span>}<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 在请求时添加上列代理</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>, proxies=proxies)<br>print(response.text)<br></code></pre></section><p>上面的字典格式需要一 一对应，然后在请求时加上个关键字参数proxies就可以了。</p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">3</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">请求异常处理</span></section></section></section><p><br></p><p>在程序运行时，遇到错误时程序就会被强行停止，如果想要继续运行，就需要进行捕捉异常来让程序继续运行。<strong><br></strong></p><p><br></p><p>在requests库中有个处理异常的库requests.exceptions</p><p><br></p><p>这里简单地处理下请求超时的处理情况</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> requests<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">from</span> requests.exceptions <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> ReadTimeout, ConnectTimeout, HTTPError, ConnectionError, RequestException<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 捕捉异常</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">try</span>:<br> response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>, timeout=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0.1</span>) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 规定时间内未响应就抛出异常</span><br> print(response.text)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> ReadTimeout <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘请求超时’</span>)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> ConnectionError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘连接失败’</span>)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> RequestException <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘请求失败’</span>)<br></code></pre></section><p><br></p><p>这里捕捉了三个异常，因为ReadTimeout是ConnectionError的子类，所以先捕捉ReadTimeout,再捕捉父类的。而ConnectionError 和 RequestException 同理</p><p><br></p><p>更多的异常处理可以查看文档哈。</p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">4</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">最后</span></section></section></section><p>以上均是我在学习时的笔记和个人在运用时遇到的一些坑都简单地记载了上去，希望对你有用哈，如果想看更多的用法可以去官方文档查看。还有代码我放在了github上，要的话可以上去查看。</p><p><br></p><p>GitHub：<a href="https://github.com/SergioJune/gongzhonghao_code/tree/master/python3_spider" _src="https://github.com/SergioJune/gongzhonghao_code/tree/master/python3_spider" target="_blank" rel="noopener">https://github.com/SergioJune/gongzhonghao_code/tree/master/python3_spider</a></p><p>官方文档：<a href="http://docs.python-requests.org/zh_CN/latest/index.html" _src="http://docs.python-requests.org/zh_CN/latest/index.html" target="_blank" rel="noopener">http://docs.python-requests.org/zh_CN/latest/index.html</a></p><p>学习参考资料：<a href="https://edu.hellobi.com/course/157" target="_blank" rel="noopener">https://edu.hellobi.com/course/157</a>  </p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></section></div><p class="readmore"><a href="/2019/01/14/python爬虫常用库之requests详解/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2019/01/14/python爬虫常用库之BeautifulSoup详解/">python爬虫常用库之BeautifulSoup详解</a></h2><div class="post-meta"><p><span class="date">2019-01-14</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="_editor" data-mpa-powered-by="yiban.io" style="max-width: 100%; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><p style="margin-right: auto; margin-left: auto; padding-right: 5px; padding-left: 5px; max-width: 600px; word-wrap: normal; border-width: 1px; border-style: solid; border-color: rgb(95, 170, 255); font-family: 微软雅黑; font-size: 12px; border-radius: 2em; text-align: center; letter-spacing: 2px; word-break: normal !important;"><span style="color: rgb(255, 0, 0); word-break: normal !important;">这是日常学python的第16篇原创文章</span><br style="word-break: normal !important;"></p></section><section class="_editor" data-width="100%" style="margin-right: auto; margin-left: auto; max-width: 100%; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; width: 100%; word-break: normal !important;"><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">经过了前面几篇文章的学习，估计你已经会爬不少中小型网站了。但是有人说，前面的正则很难唉，学不好。正则的确很难，有人说过：如果一个问题用正则解决，那么就变成了两个问题。所以说学不会是很正常的，不怕，除了正则，我们还可以用另外一个强大的库来解析html。所以，今天的主题就是来学习这个强大的库–<strong style="word-break: normal !important;">BeautifulSoup</strong>，不过正则还是需要多多练习下的。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">因为是第三方库所以我们需要下载，在命令行敲下以下代码进行下载<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install beautifulsoup4<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">安装第三方解析库<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install lxml<br style="word-break: normal !important;"></p></pre></section><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install html5lib<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果不知道有什么用请往下看</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">1.相关解析库的介绍</strong></p><p style="word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEJQjJWgdwMzRdFN24ar8Yz8Nbc9y6Jn4iaezXHY4YWZEUZn90KWU5OSw/0?wx_fmt=png" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEJQjJWgdwMzRdFN24ar8Yz8Nbc9y6Jn4iaezXHY4YWZEUZn90KWU5OSw/0?wx_fmt=png"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里官方推荐解析库为lxml,因为它的效率高。下面都是用lxml解析库来进行解析的。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">2.详细语法介绍</strong></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">本文是进行解析豆瓣图书首页<a href="https://book.douban.com/" _src="https://book.douban.com/" _href="https://book.douban.com/" style="word-break: normal !important;" target="_blank" rel="noopener">https://book.douban.com/</a></p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">1)创建bs对象</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">from</span> bs4 <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> BeautifulSoup<br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> requests<br style="word-break: normal !important;">response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://book.douban.com/&#39;" target="_blank" rel="noopener">https://book.douban.com/&#39;</a></span>).text<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># print(response)</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 创建bs对象</span><br style="word-break: normal !important;">soup = BeautifulSoup(response, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘lxml’</span>) &nbsp;# 使用到了lxml解析库<br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">2)获取相关标签</p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">标签：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data-moreurl-dict</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘{“from”:”top-nav-click-main”,”uid”:”0”}’</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">target</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">上面的<strong style="word-break: normal !important;">a</strong>就是一个标签名字，最简单的就是&lt;a&gt;&lt;/a&gt;这样，可以简单理解为&lt;&gt;里面的第一个单词就是标签名</p><p style="word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签</span><br style="word-break: normal !important;">print(soup.li) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个只是获取第一个li标签</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;li <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=””&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">moreurl</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">dict</span>=’{“<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">from</span>“:</span><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“top-nav-click-main”</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“uid”</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“0”</span>}<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ href=”<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a> target=”_blank”&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;">&lt;/li&gt;<br style="word-break: normal !important;"></span></p></pre></section><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">3)获取标签的名字和内容</p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">标签的名字和内容：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> &gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">如上面所说，a就是标签名字，而两个标签之中所夹杂的内容就是我们所说的内容，如上，<strong style="word-break: normal !important;">豆瓣</strong>就是该标签的内容</p><p style="word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签名字</span><br style="word-break: normal !important;">print(soup.li.name)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签内容</span><br style="word-break: normal !important;">print(soup.li.string) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个只能是这个标签没有子标签才能正确获取，否则会返回None</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">li<br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">None</span><br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">由于这个<strong style="word-break: normal !important;">li标签</strong>里面还有个子标签，所以它的文本内容为None</p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">下面这个就可以获取它的文本内容</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签内的标签</span><br style="word-break: normal !important;">print(soup.li.a)<br style="word-break: normal !important;">print(soup.li.a.string) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个标签没有子标签所以可以获取到内容</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;a data-moreurl-dict=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘{“from”:”top-nav-click-main”,”uid”:”0”}’</span> href=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> target=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;">豆瓣<br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">4)获取标签属性，有两种方法</p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">标签属性：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">target</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">可以简单理解为属性就是<strong style="word-break: normal !important;">在标签名字旁边而且在前一个&lt;&gt;符号里面的，还有是有等号来进行体现的。</strong>所以上面的<strong style="word-break: normal !important;">href</strong>就是标签属性名字，<strong style="word-break: normal !important;">等号右边的就是属性的值</strong>，上面的值是个网址</p><p style="word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签属性</span><br style="word-break: normal !important;">print(soup.li.a[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘href’</span>]) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 第一种</span><br style="word-break: normal !important;">print(soup.li.a.attrs[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘href’</span>]) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 第二种</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;"><a href="https://www.douban.com" target="_blank" rel="noopener">https://www.douban.com</a><br style="word-break: normal !important;"><a href="https://www.douban.com" target="_blank" rel="noopener">https://www.douban.com</a><br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">5)获取标签内的子标签</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">子标签：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">比如我们现在获取的<strong style="word-break: normal !important;">li标签</strong>，所以<strong style="word-break: normal !important;">a标签</strong>就是<strong style="word-break: normal !important;">li标签</strong>的<strong style="word-break: normal !important;">子标签</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签内的标签</span><br style="word-break: normal !important;">print(soup.li.a)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;a data-moreurl-dict=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘{“from”:”top-nav-click-main”,”uid”:”0”}’</span> href=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> target=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">6)获取所有子节点</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">子节点：这个和子标签是差不多的，只不过这里是获取一个标签下的所有子标签，上面的只是获取最接近该标签的子标签</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取子节点</span><br style="word-break: normal !important;">print(soup.div.contents) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回一个列表 第一种方法</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.div.contents):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\n’</span>, &lt;div <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">bd</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">div</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">top</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">info</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">login</span>“ <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">https</span>:</span>//<a href="http://www.douban.com/accounts/login?source=book" target="_blank" rel="noopener">www.douban.com/accounts/login?source=book</a><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“ rel=”</span>nofollow<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;登录&lt;/a&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;">0 <br style="word-break: normal !important;"><br style="word-break: normal !important;">1 &lt;div class=”</span>bd<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;<br style="word-break: normal !important;">&lt;div class=”</span>top-nav-info<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这个是获取div下的所有子节点，<strong style="word-break: normal !important;">.content</strong>就是获取子节点的属性</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">7)第二种方法获取所有子节点</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 第二种方法</span><br style="word-break: normal !important;">print(soup.div.children) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回的是一个迭代器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.div.children):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;"><br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这个是用<strong style="word-break: normal !important;">.children</strong>获取所有的子节点，这个方法返回的是一个迭代器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">8)获取标签的子孙节点，就是所有后代<br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">子孙节点：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">从上面知道，<strong style="word-break: normal !important;">li标签</strong>是<strong style="word-break: normal !important;">ul标签</strong>的<strong style="word-break: normal !important;">子标签</strong>，<strong style="word-break: normal !important;">a标签</strong>是<strong style="word-break: normal !important;">li标签</strong>的<strong style="word-break: normal !important;">子标签</strong>，若此时我们获取的是<strong style="word-break: normal !important;">ul标签</strong>，所以<strong style="word-break: normal !important;">li标签和a标签都是ul标签的子孙节点</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签的子孙节点</span><br style="word-break: normal !important;">print(soup.div.descendants) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回的是一个迭代器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.div.descendants):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<br style="word-break: normal !important;"># 结果<br style="word-break: normal !important;">…<br style="word-break: normal !important;">&lt;generator object descendants at <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0x00000212C1A1E308</span>&gt;<br style="word-break: normal !important;"><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0</span> <br style="word-break: normal !important;"><br style="word-break: normal !important;"><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span> &lt;div <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">bd</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">div</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">top</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">info</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">login</span>“ <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">https</span>:</span>//<a href="http://www.douban.com/accounts/login?source=book" target="_blank" rel="noopener">www.douban.com/accounts/login?source=book</a><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“ rel=”</span>nofollow<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;登录&lt;/a&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里用到了<strong style="word-break: normal !important;">.descendants属性</strong>，获取的是div标签的子孙节点，而且返回结果是一个迭代器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">9)获取父节点和所有祖先节点</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">既然有了子节点和子孙节点，反过来也是有父节点和祖先节点的，所以都很容易理解的</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取父节点</span><br style="word-break: normal !important;">print(soup.li.parent) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回整个父节点</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取祖先节点</span><br style="word-break: normal !important;">print(soup.li.parents) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回的是一个生成器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.li.parents):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">.parent</strong>属性是获取父节点，返回来的是整个父节点，里面包含该子节点。<strong style="word-break: normal !important;">.parents</strong>就是获取所有的祖先节点，返回的是一个生成器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">10)获取兄弟节点<br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">兄弟节点：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣1<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣2<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣3<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">比如上面的html代码，里面的li标签都是ul标签的子节点，而li标签都是处于同级的，所以上面的li标签都是各自的兄弟。这就是兄弟节点。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取兄弟节点</span><br style="word-break: normal !important;">print(soup.li.next_siblings) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取该标签的所有同级节点，不包括本身 &nbsp;返回的是一个生成器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> soup.li.next_siblings:<br style="word-break: normal !important;"> &nbsp; &nbsp;print(x)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;generator object next_siblings at <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0x000002A04501F308</span>&gt;<br style="word-break: normal !important;">&lt;li <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">on</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">moreurl</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">dict</span>=’{“<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">from</span>“:</span><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“top-nav-click-book”</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“uid”</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“0”</span>}<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ href=”<a href="https://book.douban.com&quot;&gt;读书&lt;/a" target="_blank" rel="noopener">https://book.douban.com&quot;&gt;读书&lt;/a</a>&gt;<br style="word-break: normal !important;">&lt;/li&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">.next_siblings属性是获取该标签的所有在他后面的兄弟节点，不包括他本身。同时返回结果也是一个迭代器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">同理，既然有获取他的下一个所有兄弟标签，也有获取他前面的所有兄弟标签</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">soup.li.previous_siblings<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果只是获取一个即可，可以选择把上面的属性后面的<strong style="word-break: normal !important;">s字母去掉</strong>即可，如下</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">soup.li.previous_sibling &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取前一个兄弟节点</span><br style="word-break: normal !important;">soup.li.next_sibling &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取后一个兄弟节点</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">3.bs库的更高级的用法</strong><br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">在前面我们可以获取标签的名字、属性、内容和所有的祖孙标签。但是当我们需要获取任意一个指定属性的标签还是有点困难的，所以，此时有了下面这个方法：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">soup.find_all( name , attrs , recursive , text , **kwargs )<br style="word-break: normal !important;"></p></pre></section><ul class=" list-paddingleft-2" style="width: 530.094px; word-break: normal !important; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">name：</strong>需要获取的标签名</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">attrs：</strong>接收一个字典，为属性的键值，或者直接用关键字参数来替代也可以，下面</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">recursive：</strong>设置是否搜索直接子节点</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">text：</strong>对应的字符串内容</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">limit：</strong>设置搜索的数量</p></li></ul><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">1)先使用name参数来进行搜索</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 先使用name参数</span><br style="word-break: normal !important;">print(soup.find_all(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘li’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回一个列表，所有的li标签名字</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">[&lt;li <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=””&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">moreurl</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">dict</span>=’{“<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">from</span>“:</span><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“top-nav-click-main”</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“uid”</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“0”</span>}<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ href=”<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a> target=”_blank”&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;">&lt;/li&gt;, &lt;li class=”on”&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里获取了所有标签名字为<strong style="word-break: normal !important;">li</strong>的标签</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">2)使用name和attrs参数<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 使用name和attrs参数</span><br style="word-break: normal !important;">print(soup.find_all(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘div’</span>, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘class’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘more-meta’</span>})) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个对上个进行了筛选,属性参数填的是一个字典类型的</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">[&lt;div <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">more</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">meta</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">h4</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">title</span>“&gt;<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;刺<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">h4</span>&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里搜索了具有属性为<strong style="word-break: normal !important;">class=’more-meta’的div标签</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">3)根据关键字参数来搜索<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 对相关属性进行进行查找也可以这样</span><br style="word-break: normal !important;">print(soup.find_all(class_=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘more-meta’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 使用关键字参数，因为class是python关键字，所以关键字参数时需要加多一个下划线来进行区别</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">和上面的结果一样<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里注意，我们找的是<strong style="word-break: normal !important;">class属性为more-meta的标签</strong>，用了关键字参数，但是python里面有class关键字，所以为了不使语法出错，所以需要在<strong style="word-break: normal !important;">class加个下划线</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">其他参数的就不再介绍了，可以自行去官网查看</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">4)find()方法</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">此方法与find_all()方法一样，只不过这个方法只是查找一个标签而已，后者是查找所有符合条件的标签。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">还有很多类似的方法，用法都差不多，就不再一一演示了，需要的可以去官网查看</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">5)select()方法</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这个方法是使用css选择器来进行筛选标签的。<br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">css选择器：就是根据标签的名字，id和class属性来选择标签。</p><ul class=" list-paddingleft-2" style="width: 530.094px; word-break: normal !important; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">通过标签名</strong>：直接写该标签名，如<strong style="word-break: normal !important;">&nbsp;li a</strong>&nbsp; ,这个就是找li标签下的a标签</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">通过class属性</strong>：用. 符号加class属性值，如&nbsp;<strong style="word-break: normal !important;">.title .time</strong>&nbsp;这个就是找class值为title下的class值为time的标签</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">通过id属性</strong>：用# 加id属性值来进行查找，如&nbsp;<strong style="word-break: normal !important;">#img #width&nbsp;</strong>这个就是找id值为img下的id值为width的标签</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">上面三者可以混合使用，如&nbsp;<strong style="word-break: normal !important;">ul .title #width</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p></li></ul><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果还不太会的话，可以直接在浏览器上按下f12来查看</p><p style="word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEw9BPssozfQwBMEmhzcdgbrkH8EpulrfwLIiczIhfCIsiceu3HoY6HsZA/0?wx_fmt=png" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEw9BPssozfQwBMEmhzcdgbrkH8EpulrfwLIiczIhfCIsiceu3HoY6HsZA/0?wx_fmt=png"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><span style="word-break: normal !important;">位置在</span>箭头所指的位置就是选择器的表达</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">代码如下</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 还可以用标签选择器来进行筛选元素, 返回的都是一个列表</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ul li div’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是根据标签名进行筛选</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.info .title’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是根据class来进行筛选</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘#footer #icp’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是根据id来进行筛选</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 上面的可以进行混合使用</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ul li .cover a img’</span>))<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里的获取属性和文本内容</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取属性</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> attr <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ul li .cover a img’</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># print(attr.attrs[‘alt’])</span><br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 也可以这样</span><br style="word-break: normal !important;"> &nbsp; &nbsp;print(attr[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘alt’</span>])<br style="word-break: normal !important;"><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签的内容</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘li’</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(tag.get_text()) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 里面可以包含子标签，会将子标签的内容连同输出</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">.get_tex()方法和前面的.string属性有点不一样哈，这里的他会获取该标签的所有文本内容，不管有没有子标签</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><span style="font-size: 18px; word-break: normal !important;"><strong style="word-break: normal !important;">写在最后</strong></span></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">以上的这些都是个人在学习过程中做的一点笔记。还有点不足，如果有错误的话欢迎大佬指出哈。如果想要查看更多相关用法可以去官方文档查看：<a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" _src="http://beautifulsoup.readthedocs.io/zh_CN/latest/" _href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" style="word-break: normal !important;" target="_blank" rel="noopener">http://beautifulsoup.readthedocs.io/zh_CN/latest/</a></p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">学习参考资料：<a href="https://edu.hellobi.com/course/157" target="_blank" rel="noopener">https://edu.hellobi.com/course/157</a></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果这篇文章对你有用，点个赞，转个发如何？</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">还有，祝大家今天愚人节快乐</p><section style="word-break: normal !important;"><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><br></p><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-right: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); font-weight: bold; line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">MORE</section><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">延伸阅读</section><p style="word-break: normal !important;"><br></p><section style="padding-right: 15px; padding-left: 15px; line-height: 2em; word-break: normal !important; box-sizing: border-box;"><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483760&amp;idx=1&amp;sn=3e08dbc95596839abe1c84752453415f&amp;chksm=fb4a7bdccc3df2cae9f3b4df5b410017b72d62a4c26a70d8d7afb4294024928bc5d53572368a&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483760&amp;idx=1&amp;sn=3e08dbc95596839abe1c84752453415f&amp;chksm=fb4a7bdccc3df2cae9f3b4df5b410017b72d62a4c26a70d8d7afb4294024928bc5d53572368a&amp;scene=21#wechat_redirect">爬取《The Hitchhiker’s Guide to Python!》python进阶书并制成pdf</a><span style="color: rgb(79, 129, 189); word-break: normal !important;"></span></span></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" style="word-break: normal !important;">python爬虫常用库之requests详解</a></span></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483740&amp;idx=1&amp;sn=9c62ebf1b4d284159a0500f060cb4527&amp;chksm=fb4a7bf0cc3df2e6d504c4a32d9a6e51828b5961b31ef6da81fcab8cf1b6df64bb8a99894fe3&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483740&amp;idx=1&amp;sn=9c62ebf1b4d284159a0500f060cb4527&amp;chksm=fb4a7bf0cc3df2e6d504c4a32d9a6e51828b5961b31ef6da81fcab8cf1b6df64bb8a99894fe3&amp;scene=21#wechat_redirect">老司机带你用python来爬取妹子图</a></span></p><p style="word-break: normal !important;"><br></p><p style="word-break: normal !important;"><br></p></section></section><p style="padding-right: 5px; padding-left: 5px; text-align: center; letter-spacing: 2px; word-break: normal !important;"><img border="0" height="auto" title="undefined" width="111.297px" _width="111.297px" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640" data-fail="0" style="margin-bottom: 1.4px; border-radius: 5px; border-width: 1px; border-style: dashed; border-color: rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.33) 6px 6px 5px 0px; word-break: normal !important; visibility: visible !important; width: 111.297px !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640"><br style="word-break: normal !important;"></p><p style="text-align: center; word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; text-align: center; letter-spacing: 2px; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">日常学python</span></p><p style="padding-right: 5px; padding-left: 5px; text-align: center; letter-spacing: 2px; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">代码不止bug，还有美和乐趣</span></p></section><section class="_editor"><p><br></p></section></div><p class="readmore"><a href="/2019/01/14/python爬虫常用库之BeautifulSoup详解/">阅读更多</a></p></div><nav class="page-navigator"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">下一页</a></nav></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/学习用python操作mysql/">学习用python操作mysql</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/谈谈如何抓取ajax动态网站/">谈谈如何抓取ajax动态网站</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/我爬取了37000条球迷评论，知道了这场比赛的重要信息/">我爬取了37000条球迷评论，知道了这场比赛的重要信息</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/老司机带你用python来爬取妹子图/">老司机带你用python来爬取妹子图</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/教你用python登陆豆瓣并爬取影评/">教你用python登陆豆瓣并爬取影评</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/反爬虫与反反爬虫/">反爬虫与反反爬虫</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/搭建自己的代理ip池/">搭建自己的代理ip池</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/python爬取豆瓣电影Top250/">利用python爬取豆瓣电影Top250，并把数据放入MySQL数据库</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/python爬虫常用库之requests详解/">python爬虫常用库之requests详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/14/python爬虫常用库之BeautifulSoup详解/">python爬虫常用库之BeautifulSoup详解</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Fiddler/">Fiddler</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">17</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/python/数据库/">数据库</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/个人随想/">个人随想</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/基础/">基础</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/总结/">总结</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">6</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/胡思乱想/" style="font-size: 15px;">胡思乱想</a> <a href="/tags/hard/" style="font-size: 15px;">hard</a> <a href="/tags/坑/" style="font-size: 15px;">坑</a> <a href="/tags/栈/" style="font-size: 15px;">栈</a> <a href="/tags/单链表-冒泡排序/" style="font-size: 15px;">单链表 冒泡排序</a> <a href="/tags/单链表/" style="font-size: 15px;">单链表</a> <a href="/tags/数组/" style="font-size: 15px;">数组</a> <a href="/tags/时间复杂度/" style="font-size: 15px;">时间复杂度</a> <a href="/tags/c/" style="font-size: 15px;">c</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/requestst/" style="font-size: 15px;">requestst</a> <a href="/tags/抓包/" style="font-size: 15px;">抓包</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/requests/" style="font-size: 15px;">requests</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/urllib/" style="font-size: 15px;">urllib</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://sergiojune.com/about/" title="需要设置请联系我" target="_blank">需要设置请联系我</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">sergiojune.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/totop.js?v=2.0.1" async></script></body></html>