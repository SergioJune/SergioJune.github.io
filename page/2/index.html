<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="python,sergiojune,记录，算法"><title>sergiojune | 梦开始的地方 | 路在，人就在</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">sergiojune | 梦开始的地方</h1><a id="logo" href="/.">sergiojune | 梦开始的地方</a><p class="description">路在，人就在</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h2 class="post-title"><a href="/2018/08/07/爬虫必学知识之正则表达式下篇/">爬虫必学知识之正则表达式下篇</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><p><section class="_editor"><p class="_brush" style="margin: 0px auto; max-width: 600px; word-wrap: normal; min-height: 1em; border: 1px solid rgb(95, 170, 255); font-family: 微软雅黑; font-size: 12px; border-radius: 2em; box-sizing: border-box !important; text-align: center;"><span style="color: rgb(255, 0, 0);">这是日常学python的第13篇原创文章</span><br></p></section></p><p>继上篇文章说了正则表达式的简单用法，那今天我们就继续说一下正则表达式的复杂的用法。好了，废话不多说，直接进入正题。<br></p><p><br></p><section class="_editor"><section style="border: 0px; padding: 0px; margin: 10px auto; text-align: center; white-space: normal; box-sizing: border-box;"><section style="background-image:url(https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmLUTcOuYzOwhBZ5CGhiatPILPeTp0AyP8BxMqpvcmwwKG7ZorRLO8ZfGkje8YDm5fSo7iaGupjcJWkg/0?wx_fmt=png);display:inline-block;margin:0 auto;text-align:left;background-color:#ef7060;background-size:auto 40px;background-repeat:no-repeat;height:40px"><section style="display: inline-block; padding: 0px 10px; line-height: 40px; color: rgb(51, 51, 51); margin-top: 0px; vertical-align: top; margin-left: 91px; font-size: 14px; box-sizing: border-box;"><p style="border:0;padding:0;margin:0">正则表达式</p></section></section><section style="background-image:url(https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmLUTcOuYzOwhBZ5CGhiatPILJmeYSkrUtNeibykCLZcCJyeKRicicX712xeRibwEpicqAy2QBMsl6Rukqtg/0?wx_fmt=png);display:inline-block;margin:0 auto;text-align:left;background-color:#ef7060;background-size:auto 40px;background-repeat:no-repeat;width:90px;height:40px;vertical-align:top"></section></section></section><p>情景：当你想要匹配一个qq号，qq号码长度为5-10位，那根据上篇文章的说法，很容易就可以想到该正则：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0-9</span>]{<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">5</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">10</span>}<br></code></pre></section><p><br></p><p>这样是可以的，但是当你匹配一个长度大于10的号码时就会出错，这时就会去该字符串的前10个数字出来，如下：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘221753259265’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘[0-9]{5,10}’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#明显当查找的字符串长度大于8位时就会出错，只会截取前一部分长度</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2217532592’</span>]<br></code></pre></section><p>这样的话你就会得到一个错误的qq号码。</p><p><br></p><p>这时就需要引入边界匹配了：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><strong><span style="font-size: inherit; color: inherit; line-height: inherit;">^</span></strong><span style="font-size: inherit; color: inherit; line-height: inherit;">：这个是从左边开始匹配，规定左边的首个字符</span></p></li><li><p><strong><span style="font-size: inherit; color: inherit; line-height: inherit;">$</span></strong><span style="font-size: inherit; color: inherit; line-height: inherit;">：这个是从右边开始匹配，规定右边的首个字母</span></p></li></ul></section><p>现在再写个匹配qq号码的正则</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘^[0-9]{5,10}$’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个表示从左边起为5-10的数字长度，右边也是一样</span><br>print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘第一个匹配结果：’</span>,r)<br>a = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2217532592’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘^[0-9]{5,10}$’</span>,a)<br>print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘第二个匹配结果：’</span>,r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>第一个匹配结果： []<br>第二个匹配结果： [<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2217532592’</span>]<br></code></pre></section><p>这样就可以匹配到了，是不是很神奇？</p><p><br></p><p><strong>组</strong>：前面我们有用<strong> [ ] </strong>来匹配，中括号里面表示的是或关系，而这里的组表示的是并关系，并且用小括号括起来<strong> ( )</strong>。</p><p>比如：重复 python 字样三次<br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pythonpythonpythonjakjpythonpythonsdjjpythonpythonpythonsd’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘(python){3}’</span>,a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>]<br></code></pre></section><p><br></p><p>这里的结果不是返回三个python，而是返回这个组，当符合一次就会将此组添加到返回列表中一次。</p><p><br></p><p>这个组还挺好用的，再看下这个需求：获取下列英文中的life和python之间的内容。</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘life is short,i use python’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘life(.<em>)python’</em></span>,a,re.S)<br>print(r) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这样获取的就是组内的内容</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ is short,i use ‘</span>]<br></code></pre></section><p><br></p><p>这个组还常用，因为在我们经常在用正则来解析html元素时，经常需要获取两个标签之间的内容，标签是确定的，标签内容不确定，就可以用这个了。如下这个html元素：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="html language-html hljs xml" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">strong</span>&gt;&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“#py2”</span>&gt;</span>python进阶 <span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“#python3”</span>&gt;</span>python入门 <span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“#vce”</span>&gt;</span>vce解决方法 <span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“demo06.html#new”</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">target</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;</span>百度 <span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“mailto: <a href="mailto:2217532592@qq.com" target="_blank" rel="noopener">2217532592@qq.com</a>“</span>&gt;</span>反馈意见<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“img/1.jpg”</span>&gt;</span>下载图片 <span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br> &nbsp; &nbsp;<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">strong</span>&gt;</span><br></code></pre></section><p>这样就可以用组来获取a标签的内容了：<strong>&lt;a .?&gt;(.<em>?)&lt;/a&gt;。</em></strong>？表示非贪婪哦！</p><p><br></p><p>re.findall(pattern,string,flags)：这个方法的前两个参数对你们来说都很熟悉了，第一个参数为正则表达式，第二个参数为要进行匹配的字符串，而第三个可选参数为匹配模式，有如下几种匹配模式：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><strong>re.I</strong>(re.IGNORECASE) ：使匹配对大小写不敏感</p></li><li><p><strong>re.L</strong>(re.LOCAL)：做本地化识别（locale-aware）匹配</p></li><li><p><strong>re.M</strong>(re.MULTILINE)：多行匹配，影响 ^ 和 $</p></li><li><p><strong>re.S</strong>(re.DOTALL)：使 <strong>.</strong> 匹配包括换行在内的所有字符(这个常用)</p></li><li><p><strong>re.U</strong>(re.UNICODE)：根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</p></li><li><p><strong>re.X</strong>(re.VERBOSE)：该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解<br></p></li></ul></section><p><br></p><p>当需要写多个匹配模式时，可以用<strong> | </strong>分隔每个模式</p><p>代码如下：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘Java12Python89’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>,a,re.I)<br>print(r)<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘hsjhj h123jfkksf hajkGH\nkj fjfk’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>,a,re.I|re.S)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘Python’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘h’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘j’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘h’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘j’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ ‘</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘h’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘1’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘j’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘f’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘f’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ ‘</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘h’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘a’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘j’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘G’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘H’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\n’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘j’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ ‘</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘f’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘j’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘f’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>]<br></code></pre></section><p><br></p><p>正则除了可以用来检索字符串，还可以用来替换字符串，常见的可以用来替换那些文本中的空格，制表符和回车等，这些都是用一个正则就可以搞定的了。</p><p><br></p><p>python中用这个方法来进行正则替换<br></p><p><strong>re.sub(pattern,&nbsp;repl,&nbsp;string,&nbsp;count=0,&nbsp;flags=0)&nbsp;</strong></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">pattern ：正则表达式</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">repl ：替换后的字符串，可为函数</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">string ：要进行替换的字符串</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">count ：替换的次数，顺序为 从左往右，默认值为0，表示无限次。</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">falgs ： 匹配模式，和findall()差不多</span></p></li></ul><p>代码如下：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘skjC#ksjfc#jkdsc#’</span><br>r=re.sub(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘c#’</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘gg’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#返回值是替换后的字符串</span><br>print(r)<br>print(a)<br>r=re.sub(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘c#’</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘gg’</span>,a,<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span>) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个加了替换次数</span><br>print(r)<br>r=re.sub(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘c#’</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘gg’</span>,a,<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span>,re.I) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 加了匹配模式，忽视大小写</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>skjC<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#ksjfggjkdsgg</span><br>skjC<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#ksjfggjkdsc#</span><br>skjggksjfc<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#jkdsc#</span><br></code></pre></section><p><br></p><p>我们试试第二个参数为函数的情况<br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">convert</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important;">(value)</span>:</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#他是把对象传进去这个参数</span><br> &nbsp; &nbsp;print(value)<br> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#可以通过group()方法来获取内容</span><br> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">return</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘!!’</span>+value.group()+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“!!”</span><br>r=re.sub(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘c#’</span>,convert,a,flags=re.I)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#接收个参数后，更改后的内容为他的返回值</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>&lt;_sre.SRE_Match object; span=(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">3</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">5</span>), match=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘C#’</span>&gt;<br>&lt;_sre.SRE_Match object; span=(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">9</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">11</span>), match=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘c#’</span>&gt;<br>&lt;_sre.SRE_Match object; span=(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">15</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">17</span>), match=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘c#’</span>&gt;<br>skj!!C<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#!!ksjf!!c#!!jkds!!c#!!</span><br></code></pre></section><p><br></p><p>这个第二个参数为convert函数，里面的<strong>.group() </strong>方法是获取匹配后的字符串的值，所以我们就可以根据匹配后的字符串来进行相对应的替换内容，比如这个简单的小需求：</p><p>把字符串中的数字大于50的改为99，小于的就改为11。</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ds+45sd78asd12568asd45asd74ew+9ddf12sd45’</span><br><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">func</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important;">(value)</span>:</span><br> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> int(value.group())&gt;<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">50</span>:<br> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">return</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘99’</span><br> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">else</span>:<br> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">return</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘11’</span><br><br>r=re.sub(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\d{1,2}’</span>,func,a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>ds+<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">11</span>sd99asd119911asd11asd99ew+<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">11</span>ddf11sd11<br></code></pre></section><p><br></p></section><p><strong></strong>另谈两个函数</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">re.match(pattern,string,flags) ：这个是从字符串的首个字母开始匹配，若首个字母不符合，就会返回None, 反之返回一个 Match对象。而他只会匹配第一个结果，不会返回所有符合结果的内容。参数内容与findall()方法一样。</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">re.search(pattern,string,flags) ：这个与match方法差不多，不过不是从首字符开始匹配，也是只返回一个正确的匹配内容。</span></p></li></ul></section><p><br></p><p>代码：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pythonphpjavacphp’</span><br>r=re.match(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘php’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个一开始没有就返回None</span><br>print(r)<br>r=re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘php’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个搜索到之后就返回一个对象</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#返回的对象可以通过group()方法来获取他的内容</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取匹配内容</span><br>print(r.group())<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">None</span><br>&lt;_sre.SRE_Match object; span=(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">6</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">9</span>), match=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘php’</span>&gt;<br>php<br></code></pre></section><p><br></p><p>这两个函数返回的内容的几个属性：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">group() ：获取匹配的内容</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">statr() ：获取到匹配字符的起始位置</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">end() ：获取匹配到字符的结束位置</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">span() ：获取匹配到字符的起始和结束位置，元组形式返回。</span></p></li></ul></section><p><br></p><p>前面提到组的概念，试下这两个方法的组的用法：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#获取life和python之间的内容</span><br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘life is short,i use python’</span><br>r=re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘life(.)python’</span>,a,re.S)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#用小括号的就是一组</span><br>print(r.group(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span>))<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个下标1就是对应的中间部分</span><br><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#也可以获取中间的两部分</span><br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘javawoshipythonjunephp’</span><br>r=re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘java(.<em>)python(.</em>)php’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#两个小括号就是分成了两组</span><br>print(r.group(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span>),r.group(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">2</span>))<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#分别打印第一第二组</span><br>print(r.groups())<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个获取所有分组信息</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">is</span> short,i use <br>woshi june<br>(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘woshi’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘june’</span>)<br></code></pre></section><p>上面的代码注释已经很清楚了，还有个group()方法是获取整个正则匹配的内容，不按分组。match()方法也一样，就不演示了。</p><p><br></p><p>最后一个问题：怎样拆分含有多种分隔符的字符串？<br></p><p>比如：<strong>kfs;hsji’fhsikf<em>bhsfk=jsf/shj</em></strong>。要将不属于字母的都去掉，你是不是会想到用字符串的循环，然后再一个一个分割出来？我告诉你，学了正则之后，再也不用这么麻烦了。re库里面有个split()方法，如下：</p><p><br></p><p><strong>re.split(pattern, string, maxsplit=0)</strong>，参数看名字应该就能知道。直接一行代码进行分割：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">a = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘kfs;hsjifhsikfbhsfk=jsf/shj’</span><br>r = re.split(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘[;*=/]’</span>, a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘kfs’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘hsjifhsikf’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘bhsfk’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘jsf’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘shj’</span>]<br></code></pre></section><p>是不是很完美？所以说正则必须得学！</p><p><br></p><section class="_editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="_brush 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right: 1px solid rgb(245, 189, 209); border-left: 1px solid rgb(245, 189, 209); box-sizing: border-box;"></section><section class="_brush" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom: 1px solid rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right: 15px solid rgb(245, 189, 209); border-top: 12px solid transparent; border-bottom: 12px solid transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96_bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; background-color: rgb(245, 189, 209); box-sizing: border-box;"><span style="color:inherit;font-size:12px">END</span></section><section class="_brush" style="margin: 0px; padding: 0px; border-left: 15px solid rgb(245, 189, 209); border-top: 12px solid transparent; height: 0px; width: 0px; float: left; border-bottom: 12px solid transparent; box-sizing: border-box;"></section></section></section></section></section><p>这个正则复杂点的已经说完了，还有些进阶的，不过暂时没有用到，就不打算说了，需要的可以去百度看看哈！<br></p><p><br></p><p>留个小练习证明自己正则学得好怎么样：</p><p><a href="mailto:1.kevintian126@126.com" target="_blank" rel="noopener">1.kevintian126@126.com</a>&nbsp;</p><p>2. <a href="mailto:1136667341@qq.com" target="_blank" rel="noopener">1136667341@qq.com</a>&nbsp;</p><p>3. <a href="mailto:meiya@cn-meiya.com" target="_blank" rel="noopener">meiya@cn-meiya.com</a>&nbsp;</p><p>4. <a href="mailto:wq901200@hotmail.com" target="_blank" rel="noopener">wq901200@hotmail.com</a>&nbsp;</p><p>5. <a href="mailto:meiyahr@163.com" target="_blank" rel="noopener">meiyahr@163.com</a></p><p>6.&nbsp;<a href="mailto:meiyuan@0757info.com" target="_blank" rel="noopener">meiyuan@0757info.com</a>&nbsp;</p><p>7. <a href="mailto:chingpeplo@sina.com" target="_blank" rel="noopener">chingpeplo@sina.com</a>&nbsp;</p><p>8. <a href="mailto:tony@erene.com.com" target="_blank" rel="noopener">tony@erene.com.com</a></p><p>9. <a href="mailto:melodylu@buynow.com" target="_blank" rel="noopener">melodylu@buynow.com</a></p><p><br></p><p>用正则把上面的@与com之间的内容匹配出来，可以把你的答案写在留言区上，过两天在留言区公布答案哈！</p><p><br></p><p><span style="font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;">上述文章如有错误欢迎在留言区指出，如果这篇文章对你有用，点个赞，转个发如何？</span></p><p><br></p><section class="_editor"><section><section style="height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-right: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); padding: 0px 8px; font-weight: bold; line-height: 35px; vertical-align: middle; box-sizing: border-box;"></section><section style="padding-right: 8px; padding-left: 8px; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: medium; white-space: normal; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-right: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); font-weight: bold; line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">MORE</section><section style="padding-right: 8px; padding-left: 8px; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: medium; white-space: normal; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">延伸阅读</section><section style="padding-right: 15px; padding-left: 15px; color: rgb(0, 0, 0); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: medium; white-space: normal; line-height: 2em; word-break: normal !important; box-sizing: border-box;"><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483725&amp;idx=1&amp;sn=82eccd84b4f23745427e1c6e963e1b37&amp;chksm=fb4a7be1cc3df2f7ec707f24ff7952b7558ea4cbb79b9bb533a5297977c808327728d3f23106&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483725&amp;idx=1&amp;sn=82eccd84b4f23745427e1c6e963e1b37&amp;chksm=fb4a7be1cc3df2f7ec707f24ff7952b7558ea4cbb79b9bb533a5297977c808327728d3f23106&amp;scene=21#wechat_redirect">爬虫必学知识之正则表达式上篇</a><span style="color: rgb(79, 129, 189); font-size: 16px; word-break: normal !important;"></span></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect">python爬虫常用库之requests详解</a></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483653&amp;idx=1&amp;sn=7ce8f8fd19e408157937e219075f977b&amp;chksm=fb4a7ba9cc3df2bfca92eb5f53a79fbd9716f81df96070232a37919e6b83d020a470892d3b40&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483653&amp;idx=1&amp;sn=7ce8f8fd19e408157937e219075f977b&amp;chksm=fb4a7ba9cc3df2bfca92eb5f53a79fbd9716f81df96070232a37919e6b83d020a470892d3b40&amp;scene=21#wechat_redirect">python使用requests+re简单入门爬虫</a></span></p></section><section style="padding: 0px 15px; line-height: 2em; box-sizing: border-box;"><p style="margin:0px;padding:0px;"><br></p></section></section></section><p style="text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.33) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1803/1803114089.png" height="auto" border="0" alt="1803114089.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1803/1803114089.png" title="undefined"><br></p><p style="text-align: center;"><br></p><p style="text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p style="text-align: center;"><span style="font-size: 14px;">代码不止bug，还有美和乐趣</span></p><p></p></div><p class="readmore"><a href="/2018/08/07/爬虫必学知识之正则表达式下篇/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/爬虫必学知识之正则表达式上篇/">爬虫必学知识之正则表达式上篇</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><p><section class="_editor"><p class="_brush" style="margin: 0px auto; max-width: 600px; word-wrap: normal; min-height: 1em; border: 1px solid rgb(95, 170, 255); font-family: 微软雅黑; font-size: 12px; border-radius: 2em; box-sizing: border-box !important; text-align: center;"><span style="color: rgb(255, 0, 0);">这是日常学python的第12篇文章</span><br></p></section></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">在向网页进行了提交请求之类的之后，我们可以得到了网页的返回内容，里面自然而然会有我们想要的数据，但是html元素文本这么多，我们不可能一 一去找我们需要的数据，这时就需要用到正则表达式了，正则表达式是学爬虫必须学的内容，而且不止python可以用，java等其他语言都可以用，所以学了好处大大。</p><p><br></p><p style="letter-spacing: 2px;"><strong>什么是正则表达式？</strong></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">正则表达式就是一个特殊的字符序列，可以用于检测一个字符串是否与我们的所设定的字符串相匹配。功能有快速检索文本和快速替换一些文本的操作。</p><p><br></p><p style="letter-spacing: 2px;" class="">python里面有个处理正则表达式的库 <strong>re。</strong>有个方法</p><p style="letter-spacing: 2px;" class=""><br></p><p style="letter-spacing: 2px;" class=""><strong>findall(pattern,string,flags)</strong></p><p style="letter-spacing: 2px;" class=""><br></p><p style="letter-spacing: 2px;" class="">用来匹配正则达式，我们就先用这个方法处理下。</p><p style="letter-spacing: 2px;">参数如下：</p><p style="letter-spacing: 2px;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">pattern：正则表达式</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">string：要进行匹配的字符串</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">flags：匹配的模式</span></p></li></ul></section><p style="letter-spacing: 2px;">结果是一个匹配内容的列表</p><p><br></p><section class="_editor"><section style="margin-top: 3px;margin-bottom: 20px;"><section><section style="width: 30px;margin-right: auto;margin-left: auto;"><img data-ratio="1.1115384615384616" src="http://newcdn.96weixin.com/mmbiz.qpic.cn/mmbiz_jpg/Ljib4So7yuWjauTdbzQb2ZYv9xTWWaw0rW661wnMfLNSR1GACq0wJo2piaaxvGFMvBf9Kj5wicwWlQtdmr6Vheo4g/640?wx_fmt=jpeg" data-type="jpeg" data-w="260" data-width="100%" style="width:100%;vertical-align: middle;" _src="http://newcdn.96weixin.com/mmbiz.qpic.cn/mmbiz_jpg/Ljib4So7yuWjauTdbzQb2ZYv9xTWWaw0rW661wnMfLNSR1GACq0wJo2piaaxvGFMvBf9Kj5wicwWlQtdmr6Vheo4g/640?wx_fmt=jpeg"></section></section><section style="height:2px;background-color:#3b3a4d;margin-top:-18px;"></section></section></section><p style="letter-spacing: 0px;">‘\d’ : 这个表示匹配单个0-9数字</p><p>‘\D’ : 与\d相反，匹配数字以外的内容</p><p>用代码来感受下：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个库是用来使用正则表达式的</span><br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘sg+sga5g45gaae3f23hgt13’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\d’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个就是根据\d的正则表达式来查找对应字符，其中\d是对应0-9的数字</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#查找非数字用\D</span><br>r1=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\D’</span>,a)<br>print(r)<br>print(r1)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘5’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘4’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘5’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘1’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘g’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘+’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘g’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘a’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘g’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘g’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘a’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘a’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘e’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘f’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘h’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘g’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘t’</span>]<br></code></pre></section><p><br></p><p>可以看到找出了字符串中的数字和非数字</p><p><br></p><p>如果我们在匹配一个字符串时，中间内容是有多个变化的，我们需要应变多种不同的字符，如这个字符串</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘abc,acc,agc,anc,afc,adc,aec’</span><br></code></pre></section><p>如果需要匹配这个字符串时，我们就需要用到&nbsp;<strong>[ ]&nbsp;</strong>,用中括号括起来的字符，里面的内容表示或关系，那来看看代码</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘abc,acc,agc,anc,afc,adc,aec’</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#现在查找上面的中间字符为c或者f的字符串</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个要求可以用到字符集来实现</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘a[cf]c’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#[]表示字符集，里面的内容是或关系</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘acc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘afc’</span>]<br></code></pre></section><p><br></p><p>上面匹配了中间字符是c或者是f的字符串，匹配中间字符非c和非f,可以在前面加个<strong> ^</strong> 符号</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘a[……cf]c’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#[c-f]就是表示从c到f</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘abc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘agc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘anc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘adc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘aec’</span>]<br></code></pre></section><p><br></p><p><br></p><p>上面只处理了中间字符为chu者f的字符串，但是没有匹配全部的，若要匹配全部，可以加个<strong> - </strong>符号，表示范围，如下</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘a[b-n]c’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#[c-f]就是表示从c到f</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘abc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘acc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘agc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘anc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘afc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘adc’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘aec’</span>]<br></code></pre></section><p><br></p><p><strong>[b-n]</strong>:这个就是表示b到n的字符</p><p><br></p><p>匹配汉字：<strong>[\u4E00-\u9FA5]</strong></p><p><br></p><p><br></p><p><strong>概括字符集：</strong></p><p style="text-indent: 2em;">用一个<strong> \ + 字母&nbsp;</strong>表示一系列的字符的元字符，只能匹配单个字符，常用的如下</p><p style="text-indent: 2em;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><strong><span style="font-size: inherit; color: inherit; line-height: inherit;">\w</span></strong><span style="font-size: inherit; color: inherit; line-height: inherit;">：</span><span style="font-size: inherit; color: inherit; line-height: inherit;">匹配数字和字符「不包括&amp;符号」只匹配单词，数字和下划线</span></p></li><li><p><strong>\W</strong>：与\w相反，这个包括空格和回车</p></li><li><p><strong>\s</strong>：匹配空格字符，如空格，回车和制表符</p></li><li><p><strong>\S</strong>：与\s相反</p></li><li><p><strong>.</strong>：匹配除换行符之外的其他字符</p></li><li><p>还有前面的<strong>\d</strong>和<strong>\D</strong>也是</p></li></ul></section><p style="text-indent: 0em;"><br></p><p>有个小技巧：如果想要匹配所有字符，就可以把上面的两个相反的合并起来就可以了。</p><p><br></p><p>代码如下：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#概括字符集,就是用一个\加个字母来表示一类字符，比如刚开始的\d,\D</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘hdsk\n122\rs3$ dkl%df36\t5&amp;’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\w’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个是匹配数字和单词</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#也可以匹配非数字非单词</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\W’</span>,a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#匹配空格字符和制表符等其他字符</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\s’</span>,a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#匹配除换行符之外的其他字符</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>,a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘h’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘d’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘1’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘d’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘l’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘d’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘f’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘6’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘5’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\n’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\r’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘$’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ ‘</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘%’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\t’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘&amp;’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\n’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\r’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ ‘</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\t’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘h’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘d’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘1’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘2’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\r’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘s’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘$’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ ‘</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘d’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘k’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘l’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘%’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘d’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘f’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘3’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘6’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\t’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘5’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘&amp;’</span>]<br></code></pre></section><p><br></p><p><br></p><p><strong>数量词：</strong></p><p style="text-indent: 2em;">当一个字符需要连续重复匹配多次时，就要用到这个。如匹配三个字符组成的字符串：</p><p style="text-indent: 0em;"><strong>[a-zA-z]{3}</strong>&nbsp;，大括号里面的表示重复次数。<br></p><p style="text-indent: 0em;">若要匹配三到六个字符，大括号的就需要这样写：<strong style="text-indent: 0em;">{3,6}.</strong></p><p style="text-indent: 0em;">代码如下;</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#数量词，当一个字符需要多次重复匹配时就需要用到</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> re<br>a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python java111php23 html’</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘[a-z]{3}’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#重复多次就用大括号，括号内的数表示重复的次数</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#也可以重复一个范围，表示匹配3到6个字符</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘[a-z]{3,6}’</span>,a)<br>print(r)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这样就可以把单词都找出来了</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pyt’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘hon’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘jav’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘php’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘htm’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘java’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘php’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘html’</span>]<br></code></pre></section><p style="text-indent: 0em;"><br></p><p style="text-indent: 0em;">其他数量词表示：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><strong><span style="font-size: inherit; color: inherit; line-height: inherit;"><em></em></span></strong><span style="font-size: inherit; color: inherit; line-height: inherit;"> ：匹配零次或无限多次</span></p></li><li><p><strong><span style="font-size: inherit; color: inherit; line-height: inherit;">+</span></strong><span style="font-size: inherit; color: inherit; line-height: inherit;">：匹配一次或以上</span></p></li><li><p><strong>?</strong>：匹配零次或者一次</p></li></ul><p><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">a=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pytho243python34pythonn’</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#表示匹配对应内容0次或者无限次</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python*’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#这个就是代表对n字符的数量词匹配</span><br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#+表示匹配内容1次或者无限次</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python+’</span>,a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#?表示可以匹配0次或者1次,注意这个？和上面的非贪婪代表的意思不一样</span><br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python?’</span>,a)<br>print(r)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pytho’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pythonn’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pythonn’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pytho’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>]<br></code></pre></section><p><br></p></section><p style="text-indent: 0em;"><strong>贪婪匹配：</strong>正则表达式默认为贪婪匹配，即匹配符合字符串的最大长度，如上面的[a-zA-z]{3,6}，他会趋于匹配长度为6的字符串，匹配到条件不满足时才停止匹配。</p><p style="text-indent: 0em;"><strong>非贪婪匹配：</strong>就是趋于匹配长度最小的字符串，匹配满足第一个条件就会停止匹配</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘[a-z]{3,6}’</span>,a)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 贪婪匹配</span><br>print(r)<br>r=re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘[a-z]{3,6}?’</span>,a)<br>print(r)<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#由于是非贪婪，所以匹配当第一个条件满足时就停止匹配</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘python’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘java’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘php’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘html’</span>]<br>[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘pyt’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘hon’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘jav’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘php’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘htm’</span>]<br></code></pre></section><p style="text-indent: 0em;"><br></p><section class="_editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="_brush 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right: 1px solid rgb(245, 189, 209); border-left: 1px solid rgb(245, 189, 209); box-sizing: border-box;"></section><section class="_brush" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom: 1px solid rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right: 15px solid rgb(245, 189, 209); border-top: 12px solid transparent; border-bottom: 12px solid transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96_bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; background-color: rgb(245, 189, 209); box-sizing: border-box;"><span style="color:inherit;font-size:12px">END</span></section><section class="_brush" style="margin: 0px; padding: 0px; border-left: 15px solid rgb(245, 189, 209); border-top: 12px solid transparent; height: 0px; width: 0px; float: left; border-bottom: 12px solid transparent; box-sizing: border-box;"></section></section></section></section></section><p style="text-indent: 0em;">这篇文章只是介绍了下正则表达式的简单用法，可以用来入门正则，下一篇文章讲正则表达式高级点的用法。</p><p style="text-indent: 0em;"><br></p><p style="text-indent: 0em;"><br></p><p style="text-indent: 0em;"><br></p><p style="text-indent: 0em;">留个小练习：写一个正则来匹配生日，字符串为：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><ul style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px 0px 0px 30px; margin: 0px;" class=" list-paddingleft-2"><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">2005-06-09</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">2005-6-9</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">2005 6 9</span></p></li><li><p><span style="font-size: inherit; color: inherit; line-height: inherit;">2005，06，09</span></p></li></ul><p>可以把答案写在留言区哈！</p><p><br></p><p>上述文章如有错误欢迎在留言区指出，如果这篇文章对你有用，点个赞，转个发如何？</p><p><br></p><section class="_editor"><section><br></section></section></section><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; letter-spacing: 0px; white-space: normal; line-height: 1.6; word-break: normal !important;"><section class="_editor" style="max-width: 100%; word-break: normal !important;"><section style="word-break: normal !important;"><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-right: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); font-weight: bold; line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">MORE</section><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">延伸阅读</section><section style="padding-right: 15px; padding-left: 15px; line-height: 2em; word-break: normal !important; box-sizing: border-box;"><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect">python爬虫常用库之requests详解</a><span style="color: rgb(79, 129, 189); font-size: 16px; word-break: normal !important;"></span></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483653&amp;idx=1&amp;sn=7ce8f8fd19e408157937e219075f977b&amp;chksm=fb4a7ba9cc3df2bfca92eb5f53a79fbd9716f81df96070232a37919e6b83d020a470892d3b40&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483653&amp;idx=1&amp;sn=7ce8f8fd19e408157937e219075f977b&amp;chksm=fb4a7ba9cc3df2bfca92eb5f53a79fbd9716f81df96070232a37919e6b83d020a470892d3b40&amp;scene=21#wechat_redirect">python使用requests+re简单入门爬虫</a></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483712&amp;idx=1&amp;sn=56ba3e5559bace77583492e7ac2d84cf&amp;chksm=fb4a7beccc3df2fa51260d5aa99918d45c63a753da68a3882a8c3d005777800212736637c50c&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483712&amp;idx=1&amp;sn=56ba3e5559bace77583492e7ac2d84cf&amp;chksm=fb4a7beccc3df2fa51260d5aa99918d45c63a753da68a3882a8c3d005777800212736637c50c&amp;scene=21#wechat_redirect">python爬虫常用库之urllib详解</a></span></p></section></section></section></section><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><img src="http://newcdn.96weixin.com/mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibk74yshaibAJSsAyOqweS8j9QMoNNocZY6wxvibicjWWu2rsZSNYGnCyJ93hZia9KtodsOrkyaA0z0bg/0?wx_fmt=png" height="auto" border="0" alt="1803114089.png" title="undefined" data-ratio="1.023076923076923" data-w="130" data-type="png" style="margin-bottom: 1.4px; border-radius: 5px; border-width: 1px; border-style: dashed; border-color: rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.33) 6px 6px 5px 0px; word-break: normal !important; visibility: visible !important; width: 111.297px !important;" _src="http://newcdn.96weixin.com/mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibk74yshaibAJSsAyOqweS8j9QMoNNocZY6wxvibicjWWu2rsZSNYGnCyJ93hZia9KtodsOrkyaA0z0bg/0?wx_fmt=png"><br style="word-break: normal !important;"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">日常学python<br style="word-break: normal !important;"></span></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">代码不止bug,还有美和乐趣</span></p><p></p></div><p class="readmore"><a href="/2018/08/07/爬虫必学知识之正则表达式上篇/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/老司机带你用python来爬取妹子图/">老司机带你用python来爬取妹子图</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><p><section class="_editor" data-mpa-powered-by="yiban.io" style="max-width: 100%; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><p class="_brush" style="margin-right: auto; margin-left: auto; max-width: 600px; word-wrap: normal; border-width: 1px; border-style: solid; border-color: rgb(95, 170, 255); font-family: 微软雅黑; font-size: 12px; border-radius: 2em; text-align: center; word-break: normal !important;"><span style="color: rgb(255, 0, 0); word-break: normal !important;">这是日常学python的第14篇原创文章</span></p></section></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">我前几篇文章都是说一些python爬虫库的用法，还没有说怎样利用好这些知识玩一些好玩的东西。那我今天带大家玩好玩又刺激的，嘻嘻！对了，requests库和正则表达式很重要的，一定要学会！一定要学会！！一定要学会！！！我现在的爬虫基本都是用这两样东西来爬的。所以学不学你看着办吧。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">来到今天的重点，我今天发现一个网站很好爬的，非常适合新手，我没有设置请求头什么的爬了很多遍很没有封我ip和给我返回403之类的，所以他对我们第一次玩爬虫的人来说很友好。这个网站就是<strong style="word-break: normal !important;">今日头条</strong>。最重要的是这里面有很多美女图片，我们可以把它们爬下来！！！是不是想想都要流鼻血啊？</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">文章首发于公众号「日常学python」</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">我们今天要爬的就是他的图集，先看看网站。搜索美女，然后点击图集，可以看到下面这些内容<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr1BxvCQiau0ehK8aenHF6ye4vhJEpY1icVyhAl8wl9B4ia5eMY06XiaM3Dw/0?wx_fmt=png" data-ratio="0.628482972136223" data-w="969" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr1BxvCQiau0ehK8aenHF6ye4vhJEpY1icVyhAl8wl9B4ia5eMY06XiaM3Dw/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">我们要做的就是把上面的图片给爬下来。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">那开始分析网站。按下f12，然后点击network，刷新下你可以看到这些<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrrQEdXOhlznSLQLll2FKFgDAb9Kxjr86U5G7YIdibrc1jVajdibqGnFNg/0?wx_fmt=png" data-ratio="0.2916666666666667" data-w="1752" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrrQEdXOhlznSLQLll2FKFgDAb9Kxjr86U5G7YIdibrc1jVajdibqGnFNg/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">进行寻找哪个请求返回这些图片的，在网页上可以看到图片会随着你下拉网页而进行显示更多的图片，这是动态加载的，所以可以轻松知道这个可以在xhr文件中找到，果然，你看<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrm2ndblibZKric4PHFuG6l4McF80iaO8EMg4UScx1M0liaQsNxMPEvCgPfw/0?wx_fmt=png" data-ratio="0.1457725947521866" data-w="686" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrm2ndblibZKric4PHFuG6l4McF80iaO8EMg4UScx1M0liaQsNxMPEvCgPfw/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">不断往下拉，不断地发送请求，点击这个请求看看是返回什么数据<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrk4uibZTrW2byE363HWSxIbX0yVJWtRicME9DcQwhEPngBicO9BPlicu2Iw/0?wx_fmt=png" data-ratio="0.362874251497006" data-w="835" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrk4uibZTrW2byE363HWSxIbX0yVJWtRicME9DcQwhEPngBicO9BPlicu2Iw/0?wx_fmt=png"><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr8VkFeVicguqEBEOicGkdrzhsSicx60TRoQlk3ns7mLUfJoH8VNGX4fa9g/0?wx_fmt=png" data-ratio="0.21882640586797067" data-w="818" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvr8VkFeVicguqEBEOicGkdrzhsSicx60TRoQlk3ns7mLUfJoH8VNGX4fa9g/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">可以看到这是个json，里面有图片的url，这个就是我们要找的东西，那我们可以用json库来解析，还有这个网站是get请求，这样就可以用requests库来发送然后解析下就可以了，非常简单。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">那么分析就到这里，直接上代码</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; letter-spacing: 0px; white-space: normal; line-height: 1.6; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; padding: 0.5em; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); word-wrap: normal !important; word-break: normal !important; display: block !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> requests, os<br style="word-break: normal !important;">path_a = os.path.abspath(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>)<br style="word-break: normal !important;">kw = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘’</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">while</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">True</span>:<br style="word-break: normal !important;"> &nbsp; &nbsp;kw = input(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘请输入你要获取的图片(若想结束请输入1)’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> kw == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘1’</span>:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘已退出，你下载的图片已保存在’</span>+path_a+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘,请查看！’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">break</span><br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> range(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1000</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">20</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;url = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.toutiao.com/search_content/?offset=&#39;" target="_blank" rel="noopener">https://www.toutiao.com/search_content/?offset=&#39;</a></span>+str(x)+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘&amp;format=json&amp;keyword=%s&amp;autoload=true&amp;count=20&amp;cur_tab=3&amp;from=gallery’</span> % kw<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;response = requests.get(url)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;data = response.json()[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘data’</span>]<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">not</span> data:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘下载’</span>+kw+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘图片完毕，请换个关键词继续’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">break</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;n = <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span> &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 记录文章数</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> atlas <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> data:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 创建目录</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;title = atlas[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘title’</span>]<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(atlas)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">try</span>:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> title <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">not</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> os.listdir(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>): &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 防止文件名已经存在</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.mkdir(title)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> OSError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘文件名出错，创建目录失败，重新创建一个随机名字’</span>)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;title = kw + <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘文件名出错’</span>+str(x)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">if</span> title <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">not</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> os.listdir(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.’</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.mkdir(title)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;k = <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span> &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 记录下载的图片数</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;path = os.path.join(path_a, title)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 转进图片目录</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.chdir(path)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> image <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> atlas[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘image_list’</span>]: &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个链接获取的图片是小张的，看着不够爽，所以下面替换成大的图片</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;image_url = image[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘url’</span>].replace(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘list’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘large’</span>) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 改个链接获取大的图片</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;atlas = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘http:’</span>+image_url).content<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">with</span> open(str(k)+<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.jpg’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘wb’</span>) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> f: &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 把图片写入文件内</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;f.write(atlas)<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘下载完第%d个文章的%d幅图完成’</span> % (x+n, k))<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;k += <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;n += <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 转出图片目录</span><br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;os.chdir(path_a)<br style="word-break: normal !important;"></code></pre></section><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">这个只用了requests库基本就能完成了，os库是用来操作文件目录的，这里就不详细说了。可以看到，代码量非常少，除开注释就大概四十行吧，是不是比其他语言简洁多了？是不是requests库很好用？这里可以充分体现了人生苦短，我用python的真理。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">而且，他还可换关键字继续搜，你想搜什么照片都可以。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">下篇文章写个requests库和正则来爬内容的文章，让你们感受下正则的强大！</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">最后给你们看下结果<img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrzqhB19fjFC3pbTF4fuumOUpLrha9mX2dTnwqwQlLKCdwpblpy2L7Bg/0?wx_fmt=png" data-ratio="0.6289104638619202" data-w="927" style="word-break: normal !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWichEKjwpicG8pJJ8ghegTVvrzqhB19fjFC3pbTF4fuumOUpLrha9mX2dTnwqwQlLKCdwpblpy2L7Bg/0?wx_fmt=png"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">不说那么多了，我要去买营养快线了。</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;">上述文章如有错误欢迎在留言区指出，如果这篇文章对你有用，点个赞，转个发如何？</p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><br></p><section style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><section style="word-break: normal !important;"><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-right: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); font-weight: bold; line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">MORE</section><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">延伸阅读</section><section style="padding-right: 15px; padding-left: 15px; line-height: 2em; word-break: normal !important; box-sizing: border-box;"><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483725&amp;idx=1&amp;sn=82eccd84b4f23745427e1c6e963e1b37&amp;chksm=fb4a7be1cc3df2f7ec707f24ff7952b7558ea4cbb79b9bb533a5297977c808327728d3f23106&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483725&amp;idx=1&amp;sn=82eccd84b4f23745427e1c6e963e1b37&amp;chksm=fb4a7be1cc3df2f7ec707f24ff7952b7558ea4cbb79b9bb533a5297977c808327728d3f23106&amp;scene=21#wechat_redirect" style="word-break: normal !important;">爬虫必学知识之正则表达式上篇</a><span style="color: rgb(79, 129, 189); word-break: normal !important;"></span></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" style="word-break: normal !important;">python爬虫常用库之requests详解</a></span></p><p style="word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483729&amp;idx=1&amp;sn=3af71892e67f9dd93e8e4dabc98c76b1&amp;chksm=fb4a7bfdcc3df2eb60858642aa905b5b5fccdafd100e9af1099b268e4ccb5b72170e19299423&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483729&amp;idx=1&amp;sn=3af71892e67f9dd93e8e4dabc98c76b1&amp;chksm=fb4a7bfdcc3df2eb60858642aa905b5b5fccdafd100e9af1099b268e4ccb5b72170e19299423&amp;scene=21#wechat_redirect">爬虫必学知识之正则表达式下篇</a></span></p><p style="word-break: normal !important;"><br></p><p style="word-break: normal !important;"><br></p></section></section></section><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><img border="0" data-ratio="1.023076923076923" data-type="png" data-w="130" height="auto" title="undefined" _width="111.297px" src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640" data-fail="0" style="margin-bottom: 1.4px; border-radius: 5px; border-width: 1px; border-style: dashed; border-color: rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.33) 6px 6px 5px 0px; word-break: normal !important; visibility: visible !important; width: 111.297px !important;" _src="https://mmbiz.qlogo.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640"><br style="word-break: normal !important;"></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><br></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">日常学python</span></p><p style="color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; text-align: center; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">代码不止bug，还有美和乐趣</span></p><p><br></p><p></p></div><p class="readmore"><a href="/2018/08/07/老司机带你用python来爬取妹子图/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/教你用python登陆豆瓣并爬取影评/">教你用python登陆豆瓣并爬取影评</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section editor="bj.96weixin.com" style="margin:0 auto;padding:0;box-sizing:border-box"><section class="yead_bgc wx-bg" style="border-style: solid; -webkit-border-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/v4vz52CcB13JzTTXXg3mC439fK28gxRK85c5jJicI6ia4ibEOx5DTicoiciamOZc6hcaLFy9S1AfhJzm8kUAHJnv4jtQ/0&quot;) 15 5 5 fill stretch; color: rgb(51, 51, 51); border-width: 10px 4px 4px; padding: 0px; box-sizing: border-box; background-color: rgb(51, 184, 108);"><section style="width: 100%; font-size: 14px; margin: 0px; line-height: 30px; padding: 0px 5px; box-sizing: border-box;" data-width="100%"><p style="padding:0;margin:0;text-align:justify">在上篇文章爬取豆瓣电影top250后，想想既然爬了电影，干脆就连影评也爬了，这样可以看看人们评价的电影，再加上刚出不久的移动迷官3好像挺热的，干脆就爬他吧，爬完看看好不好看！</p></section></section></section><p><br></p></section><section class="editor"><section style="margin:10px auto;"><section style="width: 100%; font-size: 18px; height: 40px; line-height: 40px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(30, 28, 28); text-align: center; box-sizing: border-box;" data-width="100%">进入主题</section><section style="width: 100%; margin-top: 1px; border-top-style: solid; border-top-width: 1px; border-top-color: rgb(30, 28, 28); box-sizing: border-box;" data-width="100%"></section></section></section><p><br></p><p><strong>1.去找目标网页并找到所要找的数据</strong><br></p><p><br></p><p>一进去网页就条件反射打开开发者工具，很容易就看到了这个<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067651.png" title="1802067651.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067651.png" alt=""></p><p><br></p><p>鼠标所点的就是我接下来要爬的网站，先看看他的response和请求头之类的信息，他的请求方式时get，response是一个网页结构，这就好办了，我们就可以用正则来匹配出所要的数据，正则还是个很好用的东西，请大家务必要学会啊。那接下来就动手敲代码咯！</p><p><br></p><p>2.<strong>用re+requests获取数据</strong></p><p><br></p><p>获取信息<br></p><p><strong><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067256.png" title="1802067256.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067256.png" alt=""></strong></p><p>先把数据写入txt文件中（打开的文件要指定编码为utf-8，要不会出现编码问题，因为window的默认编码方式是gbk，而你的编码为utf-8）<br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802062970.png" title="1802062970.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802062970.png" alt=""></p><p>正则表达式和网址<br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802063224.png" title="1802063224.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802063224.png" alt=""></p><p><br></p><p>一点击运行，只运行了两页，就出了问题，因为这个评论不止两页</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802061824.png" title="1802061824.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802061824.png" alt=""></p><p><br></p><p>调试了下，在获取完第二页的时候他返回了个不存在的网页，导致我的正则表达式捕捉不到数据，出现了个空的page，所以就只下载了两页，这应该是被反爬了，继续回网页看看需要加什么请求头，然而我把全部的请求头的信息都加了，还是没用，这就触及到我的盲区了（尴尬脸），但是我可以百度啊，百度一看，看见有人说模拟登陆就可以了，那好，我就来模拟登陆一波！！！</p><p><br></p><p><strong>3.模拟登陆豆瓣</strong></p><p><br></p><p>首先需要看看登陆需要什么参数，这个参数是在豆瓣的登陆网址，先打开登陆，打开开发者工具(要不会看不到后面这个所需要的网页)，填好信息点击登陆，然后点击这个login网页，往下拉就会看到From Data 这个框，这个就是登陆所要的参数<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802069594.png" title="1802069594.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802069594.png" alt=""></p><p><br></p><p>直接把他们复制过来即可</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067548.png" title="1802067548.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067548.png" alt=""></p><p><br></p><p>然后就用post把信息发到服务器完成登陆，但是这有个问题，怎么保存登陆信息呢？这就需要用到<strong>Session()</strong>来保留了，但是注意，只需要建立一个会话信息就可以了，不是每个都用这个方法，我初学时就是犯这个错误以至于我搞了很久还没有登陆成功。代码如下</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066457.png" title="1802066457.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066457.png" alt=""></p><p>然后用这个post上去，注意！注意！注意！post的网址是登陆网址，不是你要爬的网址，我刚学时也是被这个坑了很久(怎么感觉我很多问题)，还有其他用requests的都需要替换成<strong>self.ssession()</strong></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067203.png" title="1802067203.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802067203.png" alt=""></p><p>​</p><p>最后这样<br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802068961.png" title="1802068961.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802068961.png" alt=""></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066811.png" title="1802066811.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802066811.png" alt=""></p><p>大功告成，由于只能获取500条这是因为豆瓣只开放了500条评论信息，多一条都不肯给</p><p><br></p><p><strong>4.登陆多了需要填验证码</strong></p><p><br></p><p>由于我多次登陆注销，然后我就需要填验证码了，然而这还是难不到我，还是分析网页找出验证码图片然后下载下来自己填写，还没有那些大佬那么厉害可以用人工智能来填写，代码如下<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802064517.png" title="1802064517.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802064517.png" alt=""></p><p><br></p><p>还有将数据保留到数据库，我就不贴了，代码和上篇文章的差不多</p><p><br></p><section class="editor"><p><img src="https://mmbiz.qlogo.cn/mmbiz/QKDxrVYehicdAibIVUpquF6TQUwXFg6dYCrLBEiasLaVyObib9LjK08qQ7IzkYKROO93uxoEnMSl8zRCWiaY7JwgZWg/0?wx_fmt=jpeg" style="margin: 0px; padding: 0px; max-width: 100%;"></p></section><p>通过这个我学会了使用session来保存会话信息来登陆简单网页，还可以填写验证码，自己还是觉得有点高大上的，嘻嘻。由于本人还没学数据分析，就只能到这里，而生成词云也有点不会，直接复制粘贴来无趣，所以就先不写了，等大神你来写吧！</p><p><br></p><p>最后非常感谢你看完了我的文章，如果觉得有用可以点赞，转发哈！若需要完整代码在微信公众号<strong>日常学python</strong>后台回复<strong>影评</strong>即可，若需要python相关的电子书也可以回复<strong>pdf</strong>获得，日后还会有更多福利发给你</p><p><br></p><p><br></p><p style="text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p><br></p><p style="text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802054148.png" height="auto" border="0" alt="1802054148.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802054148.png"></p><p style="text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p><p><br></p><p><br></p><p><br></p></section></div><p class="readmore"><a href="/2018/08/07/教你用python登陆豆瓣并爬取影评/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/反爬虫与反反爬虫/">反爬虫与反反爬虫</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section editor="bj.96weixin.com" style="margin:0 auto;padding:0;box-sizing:border-box"><section class="yead_bgc wx-bg" style="border-style: solid; -webkit-border-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/v4vz52CcB13JzTTXXg3mC439fK28gxRK85c5jJicI6ia4ibEOx5DTicoiciamOZc6hcaLFy9S1AfhJzm8kUAHJnv4jtQ/0&quot;) 15 5 5 fill stretch; color: rgb(51, 51, 51); border-width: 10px 4px 4px; padding: 0px; box-sizing: border-box; background-color: rgb(51, 184, 108);"><section style="width: 100%; font-size: 14px; margin: 0px; line-height: 30px; padding: 0px 5px; box-sizing: border-box;" data-width="100%"><p style="padding:0;margin:0;text-align:justify">喜欢爬虫的伙伴都知道，在爬网站的内容的时候并不是一爬就可以了，有时候就会遇到一些网站的反爬虫，折回让你爬不到数据，给你返回一些404，403或者500的状态码，这有时候会让人苦不堪言，就如我昨天发的爬网易云音乐评论，在你爬的数据较多时，网站认为你是一个机器，就不让你爬了，网易云就给我返回了一个<strong>{“code”:-460,”msg”:”Cheating”}，</strong>你不看下他的返回内容还不知道自己被反爬虫，不过不用担心，既然网页有反爬虫，可我们也有反反爬虫，今天就给大家说说反爬虫与反反爬虫。</p></section></section></section><p><br></p></section><section class="editor"><section style="border: 0px; margin: 0px auto; padding: 0px; text-align: center; box-sizing: border-box;"><section style="padding: 5px 10px; line-height: 30px; text-align: center; font-size: 14px; border: 3px solid rgb(51, 184, 108); display: inline-block; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="padding: 0px; color: rgb(255, 255, 255); height: 30px; width: 30px; line-height: 30px; text-align: center; font-size: 14px; display: inline-block; border-radius: 100%; box-sizing: border-box; background-color: rgb(51, 184, 108);"><p>1</p></section><section style="padding: 0px 0px 0px 10px; color: rgb(51, 184, 108); line-height: 30px; text-align: center; font-size: 14px; border: 0px; display: inline-block; box-sizing: border-box;"><p>网页的反爬虫</p></section></section><section style="padding: 0px; margin: 0px auto; color: rgb(255, 255, 255); width: 0px; height: 0.4rem; text-align: center; border-width: 0.4rem 0.6rem 0px; border-style: solid; border-color: rgb(51, 184, 108) rgb(255, 255, 255) rgb(255, 255, 255); box-sizing: border-box;"></section></section></section><p><br></p><p><strong>1.通过网页的请求头</strong><br></p><p>首先我们先看看网易云音乐评论的请求头<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802099052.png" title="1802099052.png" alt=""><strong><br></strong></p><p><br></p><p><strong>User-Agent：</strong>这个是保存用户访问该网站的浏览器的信息，我上面这个表示的是我通过window的浏览器来访问这个网站的，如果你是用python来直接请求这个网站的时候，这个的信息会带有python的字眼，所以网站管理员可以通过这个来进行反爬虫。</p><p><br></p><p><strong>Referer：</strong>当浏览器发送请求时，一般都会带上这个，这个可以让网站管理者知道我是通过哪个链接访问到这个网站的，上面就说明我是从网易云音乐的主页来访问到这个页面的，若你是用python来直接请求是，就没有访问来源，那么管理者就轻而易举地判断你是机器在操作。</p><p><br></p><p><strong><span style="color: rgb(63, 63, 63); font-family: 'microsoft yahei'; line-height: 27.2px;">authorization</span></strong>:有的网站还会有这个请求头，这个是在用户在访问该网站的时候就会分配一个id给用户，然后在后台验证该id有没有访问权限从而来进行发爬虫。<br></p><p><br></p><p><strong>2.用户访问网站的ip</strong></p><p>当你这个ip在不断地访问一个网站来获取数据时，网页后台也会判断你是一个机器。就比如我昨天爬的网易云音乐评论，我刚开始爬的一首《海阔天空》时，因为评论较少，所以我容易就得到所有数据，但是当我选择爬一首较多评论的《等你下课》时，在我爬到800多页的时候我就爬不了，这是因为你这个ip的用户在不断地访问这个网站，他已经把你视为机器，所以就爬不了，暂时把你的ip给封了。<strong><br></strong></p><p><br></p><section class="editor"><section style="border: 0px; margin: 0px auto; padding: 0px; text-align: center; box-sizing: border-box;"><section style="padding: 5px 10px; line-height: 30px; text-align: center; font-size: 14px; border: 3px solid rgb(51, 184, 108); display: inline-block; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="padding: 0px; color: rgb(255, 255, 255); height: 30px; width: 30px; line-height: 30px; text-align: center; font-size: 14px; display: inline-block; border-radius: 100%; box-sizing: border-box; background-color: rgb(51, 184, 108);"><p>2</p></section><section style="padding: 0px 0px 0px 10px; color: rgb(51, 184, 108); line-height: 30px; text-align: center; font-size: 14px; border: 0px; display: inline-block; box-sizing: border-box;"><p>我们的反反爬虫</p></section></section><section style="padding: 0px; margin: 0px auto; color: rgb(255, 255, 255); width: 0px; height: 0.4rem; text-align: center; border-width: 0.4rem 0.6rem 0px; border-style: solid; border-color: rgb(51, 184, 108) rgb(255, 255, 255) rgb(255, 255, 255); box-sizing: border-box;"></section></section></section><p><br></p><p><strong>1.添加请求头</strong></p><p>既然在请求网页的时候需要请求头，那么我们只需要在post或者get的时候把我们的请求头加上就可以了，怎样加？可以使用<strong>requests</strong>库来添加，在post，get或者其他方法是加上<strong>headers</strong>参数就可以了，而请求头不需要复制所有的信息，只需要上面的三个之中一个就可以，至于哪个自己判断，或者直接添加所有也可以，这样我们就可以继续爬了。</p><p><br></p><p><strong>2.使用代理ip</strong></p><p>若是网站把你的ip给封了，你添加什么的请求头也都没有用了，那我们就只有等他解封我们才可以继续爬吗？我可以十分自信告诉你：<strong>不需要</strong>，我们可以使用代理ip来继续爬，我们可以爬取网络上的免费ip来爬，至于免费的代理ip质量怎样你们应该知道，有必要可以买些不免费的，这样好点，我们平时的练习用免费的代理ip就可以了，可以自己爬取一些免费代理ip建成ip池，然后爬的时候就把ip随机取出来，我偷偷告诉你：小编明天的文章就是教你怎样搭建自己的代理ip池。</p><p><br></p><section class="editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="96wx-bdlc 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section class="96wx-bdbc" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right-width: 15px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96wx-bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; box-sizing: border-box; background-color: rgb(245, 189, 209);"><span style="color:inherit; font-size:12px">END</span></section><section class="96wx-bdlc" style="margin: 0px; padding: 0px; border-left-width: 15px; border-left-style: solid; border-left-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; height: 0px; width: 0px; float: left; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; box-sizing: border-box;"></section></section></section></section></section><p>结束语：上面的只是个人在爬一些网站时候遇到的一些反爬虫，这只是很简单的，还有那些动态网站的反爬虫自己还没有接触，等到以后接触了，再一 一补充。最后给大家在爬虫上的建议，就是爬取速度不要太快，最好每几个就隔几秒，不要给服务器造成太大的压力，也可以在爬虫的时候选择一些访问量少点的时间段，这是对服务器好，也是对你自己好！</p><section class="editor"><p><br></p></section><p style="text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p><br></p><p style="text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802054148.png" height="auto" border="0" alt="1802054148.png"></p><p style="text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p><p><br></p></section></div><p class="readmore"><a href="/2018/08/07/反爬虫与反反爬虫/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/搭建自己的代理ip池/">搭建自己的代理ip池</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section editor="bj.96weixin.com" style="margin:0 auto;padding:0;box-sizing:border-box"><section class="yead_bgc wx-bg" style="border-style: solid; -webkit-border-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/v4vz52CcB13JzTTXXg3mC439fK28gxRK85c5jJicI6ia4ibEOx5DTicoiciamOZc6hcaLFy9S1AfhJzm8kUAHJnv4jtQ/0&quot;) 15 5 5 fill stretch; color: rgb(51, 51, 51); border-width: 10px 4px 4px; padding: 0px; box-sizing: border-box; background-color: rgb(51, 184, 108);"><section style="width: 100%; font-size: 14px; margin: 0px; line-height: 30px; padding: 0px 5px; box-sizing: border-box;" data-width="100%"><p style="padding:0;margin:0;text-align:justify">​继上一篇说了反爬虫之后，我说今天这篇文章会搭建一个属于自己的代理ip池，所以，为了不食言，就写了这篇文章，那好废话不多说，进入正题<br></p></section></section></section><p><br></p></section><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;"><span style="color: #FFFFFF;vertical-align:middle;" class="autonum">1</span></p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; font-size: 18px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p><span style="font-family: 微软雅黑; font-size: 16px;">目标网站</span></p></section></section></section></section></section><p>爬取代理ip，这也需要找网页，这就得看看哪个网页提供这些代理ip了，本人知道了几个免费提供代理ip的网站，如下：</p><p><br></p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p>无忧代理ip</p></li><li><p>芝麻代理ip</p></li><li><p>西刺代理ip</p></li><li><p>云连代理ip</p></li></ul><p><br></p><p>我选择了爬取西刺代理的网站。</p><p><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">2</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p><span style="font-family:微软雅黑">分析网站结构</span></p></section></section></section></section></section><p>我们需要获取的高匿代理，按下F12打开开发者工具<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802106756.png" title="1802106756.png" alt=""></p><p><br></p><p>上面我们要获取的数据是ip地址，端口和类型这三个就可以了，可以看到，这些数据都在一个<strong>tr</strong>标签里，但是有两个不同的tr标签，这样可以用正则表达式，利用相隔的html结构先把整个内容匹配下来，再把重要信息匹配下来，最后就把他弄成这个样子<strong>{‘https’: ‘<a href="https://ip:端口&#39;}" target="_blank" rel="noopener">https://ip:端口&#39;}</a></strong><span style="line-height: 25.6px;">存入列表即可，最后就随机获取一个ip，然后可以先判断是否有用，再拿来做你此时项目的代理ip，<strong>判断是否用的方法就是随便拿一个百度获取别的网站，加上代理ip发送get请求，看看status_code()的返回码是不是200，</strong>即可，就如下面这样<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802107109.png" title="1802107109.png" alt=""></span></p><p><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">3</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p style=""><span style="font-family:微软雅黑">代码部分</span></p></section></section></section></section></section><p><span style="line-height: 25.6px;"></span><strong>1.匹配数据，并挑选数据存入列表</strong><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802105349.png" title="1802105349.png" alt=""></p><p><br></p><p><strong>2.随机获取ip，并写好ip格式</strong></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802105063.png" title="1802105063.png" alt=""></p><p><br></p><p>我这里是把他存入列表，现抓现用，是因为我现在的爬虫项目都是很小的，只需要这些就可以了。</p><p><br></p><section class="editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="96wx-bdlc 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section class="96wx-bdbc" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right-width: 15px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96wx-bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; box-sizing: border-box; background-color: rgb(245, 189, 209);"><span style="color:inherit; font-size:12px">END</span></section><section class="96wx-bdlc" style="margin: 0px; padding: 0px; border-left-width: 15px; border-left-style: solid; border-left-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; height: 0px; width: 0px; float: left; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; box-sizing: border-box;"></section></section></section></section></section><p>以上就是我简单搭建的代理ip池了，等到以后慢慢完善，你可以把他们存入你的数据库，然后要用的时候，就随机拿出来，先看看有没有用，没用的话就删除，有用就拿来用即可。</p><p><br></p><p style="text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p style="text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png" height="auto" border="0" alt="1802109804.png"></p><p style="text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p></section></div><p class="readmore"><a href="/2018/08/07/搭建自己的代理ip池/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/python爬取豆瓣电影Top250/">利用python爬取豆瓣电影Top250，并把数据放入MySQL数据库</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="editor" label="Powered by bj.96weixin.com" style="font-size:16px;"><section class="editor"><section style="margin:10px auto;text-align:center"><section style="margin: 0px auto; text-align: center; padding: 0px 10px; box-sizing: border-box;"><p><br></p><span style="display:inline-block;float:left;transform-origin:right bottom;margin-left:-28px;margin-bottom:8px;transform: rotate(-65deg);-webkit-transform: rotate(-65deg);-moz-transform: rotate(-65deg);-ms-transform: rotate(-65deg);-o-transform: rotate(-65deg);"><em class="yead_bgc" style="display:block;width:40px;height:1px;background-color:#33b86c;margin-left:8px"></em></span><section style="display:inline-block;overflow:hidden;width:100%" data-width="100%"><span class="yead_bgc" style="display:inline-block;height:3px;width:80%;float:left;background-color:#33b86c" data-width="80%"></span><section style="margin: 0px auto; font-size: 14px; line-height: 30px; clear: both; padding: 10px; text-align: left; color: rgb(51, 51, 51); box-sizing: border-box;"><p style="padding:0;margin:0"><br></p><p style="padding:0;margin:0">在<span style="line-height: 25.6px; white-space: pre-wrap;">学习了python基础后，一心想着快速入门爬虫，因为我就是为爬虫而学的python,所以就找了这个豆瓣电影来爬取。好了，废话不多说，进入正题</span></p></section><span class="yead_bgc" style="display:inline-block;height:3px;width:80%;float:right;background-color:#33b86c" data-width="80%"></span></section><span style="display:inline-block;float:right;transform-origin:right top;margin-right:17px;margin-top:10px;transform: rotate(120deg);-webkit-transform: rotate(120deg);-moz-transform: rotate(120deg);-ms-transform: rotate(120deg);-o-transform: rotate(120deg);"><em class="yead_bgc" style="display:block;width:20px;height:1px;background-color:#33b86c"></em><em class="yead_bgc" style="display:block;width:40px;height:1px;background-color:#33b86c;margin-left:8px;margin-top:5px"><br></em></span></section></section></section><p><strong>1.找到网页并分析网页结构</strong><br></p><p><br></p><p>首先进入<a href="https://movie.douban.com/top250" target="_blank" title="豆瓣电影Top250">豆瓣电影Top250</a>这个网页，按下f12打开开发者工具，如下图</p><p><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802039651.png" title="1802039651.png" alt=""></p><p><br></p><p>然后开始分析网页，点击开发者工具左上角的有个箭头的东西去找你需要找的数据，在这里我发现每个电影的信息都是在&lt;li&gt;的标签内，所以可以用正则表达式来先提取每一个电影，然后在分别提取每个电影中的数据。每个电影现在的数据都可以获取了，但是这个url只有25个电影，怎样获取下一页的呢？这里我们可以在每个页面获取下一页的链接，然后通过循环来继续获取下一页的电影数据即可</p><p><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802039785.png" title="1802039785.png" alt=""></p><p>我们可以先用开发者工具的箭头点一下后页，然后就显示右边的箭头数据出来，这里我们也可以用正则表达式来获取下一页的链接，然后接下来的工作就是循环了，好了分析结束，开始敲代码吧！</p><p><br></p><p><strong>2.用面向对象的方法进行爬取数据</strong></p><p><br></p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p>先用requests对网页进行请求，获取网页的html结构，在这里，为了防止网页的反爬虫技术，我加了个请求头</p><p>（记得使用requests库之前先导入，没有的可以在命令行通过 <strong>pip install requests</strong> 进行下载）</p><p><strong><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802035432.png" title="1802035432.png" alt=""></strong></p><p><br></p><p>请求头在开发者工具中查看，如下图所示</p><p><br></p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802037188.png" title="1802037188.png" alt="" style="z-index: -1; cursor: pointer; line-height: 25.6px; white-space: pre-wrap;"></p><p><br></p></li><li><p>接下用正则表达式进行获取数据</p><p><br></p><p>先匹配每一个电影和每一页数据（使用正则表达式的库是re）</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802033229.png" title="1802033229.png" alt=""><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802034633.png" title="1802034633.png" alt=""></p><p><br></p><p>接下来获取每个电影的数据<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802036920.png" title="1802036920.png" alt=""><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802034583.png" title="1802034583.png" alt=""></p><p><br></p><p>注意：获取到上面的数据，有的是空的，所以还需要进行判断是否为空，为了好看，我用了三元表达式进行判断，完成之后把他们存入字典<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802038436.png" title="1802038436.png" alt=""></p><p><br></p></li><li><p>接下来就是进行循环取下一页的数据了<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802039430.png" title="1802039430.png" alt=""></p><p><br></p></li></ul><p>3.如果你有点数据库基础的话，还可以把他们存入数据库，在这里我把这些数据存入MySQL数据库，代码如下，需要自己先建好数据库好表格</p><p><br></p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p>这是操作数据库的类（使用的库为pymysql）<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802034586.png" title="1802034586.png" alt=""><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802036544.png" title="1802036544.png" alt=""></p><p><br></p></li><li><p>然后回到爬虫类进行把数据存入数据库</p><p><img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802033864.png" title="1802033864.png" alt=""><br></p></li></ul><p><br></p><p>4.<strong>成功后你就会在数据库中查到以下数据<img src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802032445.png" title="1802032445.png" alt=""></strong><br></p><p><br></p><section class="editor"><section style="border: 0px none; box-sizing: border-box;"><section style="margin: 10px 0px; padding: 0px; text-align: center; font-family: 微软雅黑; box-sizing: border-box;"><section class="96wx-bdlc 96wx-bdrc" style="margin: 0px; padding: 0px; height: 24px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-left-width: 1px; border-left-style: solid; border-left-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section class="96wx-bdbc" style="margin-top: -12px; margin-bottom: -12px; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(245, 189, 209); box-sizing: border-box;"></section><section style="margin: 0px; padding: 0px; display: inline-block; box-sizing: border-box;"><section class="96wx-bdrc" style="margin: 0px; padding: 0px; border-right-width: 15px; border-right-style: solid; border-right-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; height: 0px; width: 0px; float: left; box-sizing: border-box;"></section><section class="96wx-bgc" style="margin: 0px; padding: 0px; height: 24px; min-width: 4em; color: rgb(255, 255, 255); line-height: 24px; float: left; box-sizing: border-box; background-color: rgb(245, 189, 209);"><span style="color:inherit; font-size:12px">END</span></section><section class="96wx-bdlc" style="margin: 0px; padding: 0px; border-left-width: 15px; border-left-style: solid; border-left-color: rgb(245, 189, 209); border-top-width: 12px; border-top-style: solid; border-top-color: transparent; height: 0px; width: 0px; float: left; border-bottom-width: 12px; border-bottom-style: solid; border-bottom-color: transparent; box-sizing: border-box;"></section></section></section></section></section><p>最后，非常感谢你看完了这篇文章，喜欢的话，或者有什么问题的话欢迎去我的微信公众号<strong>日常学python</strong>后台回复我，我会认真回答的。</p><p><br></p><section class="editor">ps:如果需要完整代码的话可以在微信公众号<strong>日常学python</strong>后台回复top250即可，或者想要什么学习资源也可以后台找我哦</section><p><br></p><p><br></p><p><br></p></section></div><p class="readmore"><a href="/2018/08/07/python爬取豆瓣电影Top250/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/python爬虫常用库之requests详解/">python爬虫常用库之requests详解</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="96edit" label="Powered by bj.96weixin.com" style="font-size:16px;"><p>在使用了urllib库之后，感觉很麻烦，比如获取个cookie都需要分几步，代码又多，这和python的风格好像有点不太像哈，那有没有更加容易点的请求库呢？答案是有的，那就是第三方库<strong>requests</strong>,这个库的作者是大名鼎鼎的<strong>kennethreitz</strong>，创作这个库的原因就是想让python开发者更加容易地发起请求，处理请求。里面还有个名字：<strong>HTTP for Humans</strong>,顾名思义，就是用来请求http的。想看源代码的可以在github上搜索他的名字就可以看到了。</p><p><br></p><p>接下来介绍下怎样用这个库吧！</p><p><br></p><p>因为这是第三方库，所以我们需要下载，需要在命令行输入<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install requests<br></code></pre></section><p>如果你装的是anacoda可以忽略这条</p><p><br></p><p>安装好了就来进行使用吧</p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">1</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">进行简单的操作</span></section></section></section><p>发送一个get请求<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 发送请求<br>import requests</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取返回的html信息</span><br>print(response.text)<br></code></pre></section><p>这样就发送了一个get请求，并且还打印了返回的内容，这个不再需要知道网页是哪个编码的，不过有时会出现编码问题，但是你也可以指定编码类型，如：</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">response.encoding = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘utf-8’</span><br></code></pre></section><p>指定完成后就可以正常编码了，前提你得知道网页的编码类型。</p><p><br></p><p>出了上面这些，我们还可以获取下面的信息<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">print(response.headers)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 请求状态码</span><br>print(response.status_code)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取网页的二进制内容</span><br>print(response.content)<br>print(response.url) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取请求的url</span><br>print(response.cookies) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取cookie</span><br></code></pre></section><p>是不是觉得很容易，一行代码就可以了。不再需要几步代码什么的了。</p><p><br></p><p>接下来被发爬的话带上个请求头来进行请求</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 还可以添加请求头进行请求</span><br>headers = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘User-Agent’</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36’</span>}<br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get'," _src="http://httpbin.org/get'," target="_blank" rel="noopener">http://httpbin.org/get’,</a> headers=headers </span>)<br>print(response.headers)<br>print(response.text)<br></code></pre></section><p>加个请求头也就是加个关键字参数而已</p><p><br></p><p>还可以进行带参数的get请求<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 进行带参数的get请求</span><br>data = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘name’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘june’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘password’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">123456</span>}<br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>, params=data)<br>print(response.text)<br></code></pre></section><p><br></p><p><br></p><p>那如果需要登陆呢？post请求怎样发？告诉你，照样很简单<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 进行post请求</span><br>data = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘name’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘june’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘password’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">123456</span>}<br>response = requests.post(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/post&#39;" target="_blank" rel="noopener">http://httpbin.org/post&#39;</a></span>, data=data, headers=headers)<br>print(response.text)<br></code></pre></section><p>是不是很简单，也是加个data关键字参数，把要提交的登陆参数进行post上去。</p><p><br></p><p>那除了上面的两个请求，还能进行别的请求吗？我可以非常开心地告诉你，可以的。比如，你要发个put请求，如这样</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">requests.put()<br>requests.delete()<br></code></pre></section><p>这个就是发送put请求和delete请求的，其他的请求也是这样发送，就不一 一说了。</p><p><br></p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">2</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">进行复杂点的请求</span></section></section></section><p><br></p><p>在登陆的时候我们有时候需要输入验证码，那怎样输呢？爬虫的看不了网页，最简单的做法就是把这个验证码的图片下载下来然后手动输入，那么我们怎样下载呢？我们可以向这个图片的url发送请求，然后把返回内容以二进制方法存入文件里面就可以了。<br></p><p><br></p><p>代码如下：</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 从网上读取二进制数据，比如图片</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.baidu.com/img/bd_logo1.png&#39;" target="_blank" rel="noopener">https://www.baidu.com/img/bd_logo1.png&#39;</a></span>, headers=headers)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是直接获取字节码，这个是要保存的文件</span><br>print(response.content)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是获取解码后的返回内容，这个是乱码</span><br>print(response.text)<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 用文件来把图片下载下来</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">with</span> open(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘baidu.png’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘wb’</span>) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> f: <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 注意写的方式是以二进制方式写入</span><br> f.write(response.content)<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘下载完毕’</span>)<br></code></pre></section><p><br></p><p>还是很简单，不得不说，这个库太好用了。<br></p><p><br></p><p>当我们需要上传文件的时候，比如图片，我们还可以用post方法把他发送出去<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 上传文件</span><br>files = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘picture’</span>: open(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘baidu.png’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘rb’</span>)}<br>response = requests.post(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/post&#39;" target="_blank" rel="noopener">http://httpbin.org/post&#39;</a></span>, files=files)<br>print(response.text)<br></code></pre></section><p><br></p><p>获取cookie并简单处理一下<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取cookie</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.baidu.com&#39;" target="_blank" rel="noopener">https://www.baidu.com&#39;</a></span>)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> k, v <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> response.cookies.items():<br> print(k, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘=’</span>, v)<br></code></pre></section><p><br></p><p>当网页返回内容是json格式是，我们不需要用json库来解析，我们可以直接利用requests的方法进行解析，两者的效果是一样的</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 解析json</span><br>j = response.json() <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 可以用json库来解析，结果一样</span><br></code></pre></section><p><br></p><p><br></p><p>在urllib库时保存登陆信息需要把cookie保存下来，但是在requests库里面，我们只需要用<strong>requests.session()</strong>来保存信息就可以了。<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 用会话来保持登陆信息</span><br>session = requests.session()<br>response = session.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/cookies/set/number/123456&#39;" target="_blank" rel="noopener">http://httpbin.org/cookies/set/number/123456&#39;</a></span>)<br>print(response.text)<br></code></pre></section><p><br></p><p><strong>这样就可以保存登陆了，不需要为cookie操心了，但是每次获取一个session就可以了，然后用来请求或者其他操作。不需要每次请求或者操作都创建一个sesion出来，这样是保存不了登陆信息的</strong></p><p><br></p><p><br></p><p>当一个网站不安全，需要你用证书验证的，比如这个网站</p><pre style="background-color:#2b2b2b;color:#a9b7c6;font-family:'宋体';font-size:15.0pt;"><a href="https://www.12306.cn" target="_blank" rel="noopener">https://www.12306.cn</a><br></pre><p><br></p><p><strong><img src="http://pic.96weixin.com/upload/image2/vip/881679/1803/1803131549.png" title="1803131549.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1803/1803131549.png" alt=""></strong></p><p><br></p><p>这时要访问里面的网站内容，我们就需要进行验证，代码如下</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 证书验证</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://www.12306.cn&#39;" target="_blank" rel="noopener">https://www.12306.cn&#39;</a></span>, verify=<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">False</span>) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 不加这个关键字参数的话会出现验证错误问题，因为这个网站的协议不被信任</span><br></code></pre></section><p>这样就可以进行访问了，但是会有一条警告<strong><br></strong></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">E:\anaconda\lib\site-packages\urllib3\connectionpool.py:<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">858</span>: InsecureRequestWarning: Unverified HTTPS request <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">is</span> being made. Adding certificate verification <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">is</span> strongly advised. See: <a href="https://urllib3.readthedocs.io/en/latest/advanced-usage.html" target="_blank" rel="noopener">https://urllib3.readthedocs.io/en/latest/advanced-usage.html</a><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">#ssl-warnings</span><br> InsecureRequestWarning)<br></code></pre></section><p>觉得不美观的，我们还可以在请求时加个cert关键字参数，值为可信任的证书，为一个元组，写上账号和密码之类的，这里就不演示了</p><p><br></p><p>遇到需要认证的网站，我们也可以这样<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;">from requests.auth import HTTPBasicAuth<br># 设置认证</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># requests.get(‘需要认证的网址’, auth=HTTPBasicAuth(‘user’, ‘passwd’)) # 由于找不到需要认证的网址，所以先写个主体</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 还可以这样认证</span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># requests.get(‘需要认证的网址’, auth=(‘user’, ‘passwd’)) # 这样就简单点</span><br></code></pre></section><p>由于我找不到需要认证的网站，所以就不演示了。</p><p><br></p><p>requests还可以用代理ip来进行请求网站来防止ip被封以至于自己爬不了的尴尬。使用代理ip也比urllib库简单得多，代码如下：<br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 设置代理</span><br>proxies = {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘http’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://122.114.31.177:808&#39;" target="_blank" rel="noopener">http://122.114.31.177:808&#39;</a></span>,<br>   <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘https’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://119.28.223.103:8088&#39;" target="_blank" rel="noopener">https://119.28.223.103:8088&#39;</a></span>}<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 在请求时添加上列代理</span><br>response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>, proxies=proxies)<br>print(response.text)<br></code></pre></section><p>上面的字典格式需要一 一对应，然后在请求时加上个关键字参数proxies就可以了。</p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">3</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">请求异常处理</span></section></section></section><p><br></p><p>在程序运行时，遇到错误时程序就会被强行停止，如果想要继续运行，就需要进行捕捉异常来让程序继续运行。<strong><br></strong></p><p><br></p><p>在requests库中有个处理异常的库requests.exceptions</p><p><br></p><p>这里简单地处理下请求超时的处理情况</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); padding: 0.5em; display: block !important; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> requests<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">from</span> requests.exceptions <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> ReadTimeout, ConnectTimeout, HTTPError, ConnectionError, RequestException<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 捕捉异常</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">try</span>:<br> response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="http://httpbin.org/get&#39;" target="_blank" rel="noopener">http://httpbin.org/get&#39;</a></span>, timeout=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0.1</span>) <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 规定时间内未响应就抛出异常</span><br> print(response.text)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> ReadTimeout <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘请求超时’</span>)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> ConnectionError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘连接失败’</span>)<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">except</span> RequestException <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">as</span> e:<br> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘请求失败’</span>)<br></code></pre></section><p><br></p><p>这里捕捉了三个异常，因为ReadTimeout是ConnectionError的子类，所以先捕捉ReadTimeout,再捕捉父类的。而ConnectionError 和 RequestException 同理</p><p><br></p><p>更多的异常处理可以查看文档哈。</p><p><br></p><section class="editor"><section style="margin: 10px auto; padding: 2px; box-sizing: border-box;"><section style="width: 60px;height: 40px;text-align: center;font-size: 2em;color: rgb(255, 255, 255);float: left;line-height: 40px;background: linear-gradient(-45deg, transparent 14.14px, rgb(139,183,72) 0px) right bottom / 50% 50% no-repeat, linear-gradient(45deg, transparent 14.14px, rgb(139,183,72) 0px) left bottom / 50% 50% no-repeat, linear-gradient(135deg, transparent 14.14px, rgb(139,183,72) 0px) left top / 50% 50% no-repeat, linear-gradient(-135deg, transparent 14.14px, rgb(139,183,72) 0px) right top / 50% 50% no-repeat;"><section class="autonum">4</section></section><section style="word-wrap: break-word; border-bottom: 2px dashed rgb(128, 177, 53); min-height: 36px; display: inline-block; line-height: 36px; margin-top: 0px; margin-left: 10px; box-sizing: border-box;"><span style="color: #80B135; font-size: 18px; margin-top: 0px; display: inline-block;">最后</span></section></section></section><p>以上均是我在学习时的笔记和个人在运用时遇到的一些坑都简单地记载了上去，希望对你有用哈，如果想看更多的用法可以去官方文档查看。还有代码我放在了github上，要的话可以上去查看。</p><p><br></p><p>GitHub：<a href="https://github.com/SergioJune/gongzhonghao_code/tree/master/python3_spider" _src="https://github.com/SergioJune/gongzhonghao_code/tree/master/python3_spider" target="_blank" rel="noopener">https://github.com/SergioJune/gongzhonghao_code/tree/master/python3_spider</a></p><p>官方文档：<a href="http://docs.python-requests.org/zh_CN/latest/index.html" _src="http://docs.python-requests.org/zh_CN/latest/index.html" target="_blank" rel="noopener">http://docs.python-requests.org/zh_CN/latest/index.html</a></p><p>学习参考资料：<a href="https://edu.hellobi.com/course/157" target="_blank" rel="noopener">https://edu.hellobi.com/course/157</a>  </p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p></section></div><p class="readmore"><a href="/2018/08/07/python爬虫常用库之requests详解/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/08/07/python爬虫常用库之BeautifulSoup详解/">python爬虫常用库之BeautifulSoup详解</a></h2><div class="post-meta"><p><span class="date">2018-08-07</span><span><a href="/categories/python/" class="category">python</a></span></p></div><div class="post-content"><section class="_editor" data-mpa-powered-by="yiban.io" style="max-width: 100%; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; word-break: normal !important;"><p style="margin-right: auto; margin-left: auto; padding-right: 5px; padding-left: 5px; max-width: 600px; word-wrap: normal; border-width: 1px; border-style: solid; border-color: rgb(95, 170, 255); font-family: 微软雅黑; font-size: 12px; border-radius: 2em; text-align: center; letter-spacing: 2px; word-break: normal !important;"><span style="color: rgb(255, 0, 0); word-break: normal !important;">这是日常学python的第16篇原创文章</span><br style="word-break: normal !important;"></p></section><section class="_editor" data-width="100%" style="margin-right: auto; margin-left: auto; max-width: 100%; color: rgb(0, 0, 0); font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif; font-size: medium; white-space: normal; width: 100%; word-break: normal !important;"><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">经过了前面几篇文章的学习，估计你已经会爬不少中小型网站了。但是有人说，前面的正则很难唉，学不好。正则的确很难，有人说过：如果一个问题用正则解决，那么就变成了两个问题。所以说学不会是很正常的，不怕，除了正则，我们还可以用另外一个强大的库来解析html。所以，今天的主题就是来学习这个强大的库–<strong style="word-break: normal !important;">BeautifulSoup</strong>，不过正则还是需要多多练习下的。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">因为是第三方库所以我们需要下载，在命令行敲下以下代码进行下载<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install beautifulsoup4<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">安装第三方解析库<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install lxml<br style="word-break: normal !important;"></p></pre></section><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">pip install html5lib<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果不知道有什么用请往下看</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">1.相关解析库的介绍</strong></p><p style="word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEJQjJWgdwMzRdFN24ar8Yz8Nbc9y6Jn4iaezXHY4YWZEUZn90KWU5OSw/0?wx_fmt=png" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEJQjJWgdwMzRdFN24ar8Yz8Nbc9y6Jn4iaezXHY4YWZEUZn90KWU5OSw/0?wx_fmt=png"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里官方推荐解析库为lxml,因为它的效率高。下面都是用lxml解析库来进行解析的。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">2.详细语法介绍</strong></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">本文是进行解析豆瓣图书首页<a href="https://book.douban.com/" _src="https://book.douban.com/" _href="https://book.douban.com/" style="word-break: normal !important;" target="_blank" rel="noopener">https://book.douban.com/</a></p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">1)创建bs对象</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">from</span> bs4 <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> BeautifulSoup<br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">import</span> requests<br style="word-break: normal !important;">response = requests.get(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘<a href="https://book.douban.com/&#39;" target="_blank" rel="noopener">https://book.douban.com/&#39;</a></span>).text<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># print(response)</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 创建bs对象</span><br style="word-break: normal !important;">soup = BeautifulSoup(response, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘lxml’</span>) &nbsp;# 使用到了lxml解析库<br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">2)获取相关标签</p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">标签：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data-moreurl-dict</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘{“from”:”top-nav-click-main”,”uid”:”0”}’</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">target</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">上面的<strong style="word-break: normal !important;">a</strong>就是一个标签名字，最简单的就是&lt;a&gt;&lt;/a&gt;这样，可以简单理解为&lt;&gt;里面的第一个单词就是标签名</p><p style="word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签</span><br style="word-break: normal !important;">print(soup.li) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个只是获取第一个li标签</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;li <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=””&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">moreurl</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">dict</span>=’{“<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">from</span>“:</span><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“top-nav-click-main”</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“uid”</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“0”</span>}<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ href=”<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a> target=”_blank”&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;">&lt;/li&gt;<br style="word-break: normal !important;"></span></p></pre></section><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">3)获取标签的名字和内容</p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">标签的名字和内容：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> &gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">如上面所说，a就是标签名字，而两个标签之中所夹杂的内容就是我们所说的内容，如上，<strong style="word-break: normal !important;">豆瓣</strong>就是该标签的内容</p><p style="word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签名字</span><br style="word-break: normal !important;">print(soup.li.name)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签内容</span><br style="word-break: normal !important;">print(soup.li.string) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个只能是这个标签没有子标签才能正确获取，否则会返回None</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">li<br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">None</span><br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">由于这个<strong style="word-break: normal !important;">li标签</strong>里面还有个子标签，所以它的文本内容为None</p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">下面这个就可以获取它的文本内容</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签内的标签</span><br style="word-break: normal !important;">print(soup.li.a)<br style="word-break: normal !important;">print(soup.li.a.string) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个标签没有子标签所以可以获取到内容</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;a data-moreurl-dict=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘{“from”:”top-nav-click-main”,”uid”:”0”}’</span> href=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> target=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;">豆瓣<br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">4)获取标签属性，有两种方法</p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">标签属性：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> <span class="hljs-attr" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">target</span>=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">可以简单理解为属性就是<strong style="word-break: normal !important;">在标签名字旁边而且在前一个&lt;&gt;符号里面的，还有是有等号来进行体现的。</strong>所以上面的<strong style="word-break: normal !important;">href</strong>就是标签属性名字，<strong style="word-break: normal !important;">等号右边的就是属性的值</strong>，上面的值是个网址</p><p style="word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签属性</span><br style="word-break: normal !important;">print(soup.li.a[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘href’</span>]) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 第一种</span><br style="word-break: normal !important;">print(soup.li.a.attrs[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘href’</span>]) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 第二种</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;"><a href="https://www.douban.com" target="_blank" rel="noopener">https://www.douban.com</a><br style="word-break: normal !important;"><a href="https://www.douban.com" target="_blank" rel="noopener">https://www.douban.com</a><br style="word-break: normal !important;"></p></pre></section><p style="word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">5)获取标签内的子标签</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">子标签：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">比如我们现在获取的<strong style="word-break: normal !important;">li标签</strong>，所以<strong style="word-break: normal !important;">a标签</strong>就是<strong style="word-break: normal !important;">li标签</strong>的<strong style="word-break: normal !important;">子标签</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签内的标签</span><br style="word-break: normal !important;">print(soup.li.a)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;a data-moreurl-dict=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘{“from”:”top-nav-click-main”,”uid”:”0”}’</span> href=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a></span> target=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“_blank”</span>&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">6)获取所有子节点</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">子节点：这个和子标签是差不多的，只不过这里是获取一个标签下的所有子标签，上面的只是获取最接近该标签的子标签</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取子节点</span><br style="word-break: normal !important;">print(soup.div.contents) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回一个列表 第一种方法</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.div.contents):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘\n’</span>, &lt;div <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">bd</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">div</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">top</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">info</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">login</span>“ <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">https</span>:</span>//<a href="http://www.douban.com/accounts/login?source=book" target="_blank" rel="noopener">www.douban.com/accounts/login?source=book</a><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“ rel=”</span>nofollow<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;登录&lt;/a&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;">0 <br style="word-break: normal !important;"><br style="word-break: normal !important;">1 &lt;div class=”</span>bd<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;<br style="word-break: normal !important;">&lt;div class=”</span>top-nav-info<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这个是获取div下的所有子节点，<strong style="word-break: normal !important;">.content</strong>就是获取子节点的属性</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">7)第二种方法获取所有子节点</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 第二种方法</span><br style="word-break: normal !important;">print(soup.div.children) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回的是一个迭代器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.div.children):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;"><br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这个是用<strong style="word-break: normal !important;">.children</strong>获取所有的子节点，这个方法返回的是一个迭代器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">8)获取标签的子孙节点，就是所有后代<br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">子孙节点：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">从上面知道，<strong style="word-break: normal !important;">li标签</strong>是<strong style="word-break: normal !important;">ul标签</strong>的<strong style="word-break: normal !important;">子标签</strong>，<strong style="word-break: normal !important;">a标签</strong>是<strong style="word-break: normal !important;">li标签</strong>的<strong style="word-break: normal !important;">子标签</strong>，若此时我们获取的是<strong style="word-break: normal !important;">ul标签</strong>，所以<strong style="word-break: normal !important;">li标签和a标签都是ul标签的子孙节点</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签的子孙节点</span><br style="word-break: normal !important;">print(soup.div.descendants) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回的是一个迭代器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.div.descendants):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<br style="word-break: normal !important;"># 结果<br style="word-break: normal !important;">…<br style="word-break: normal !important;">&lt;generator object descendants at <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0x00000212C1A1E308</span>&gt;<br style="word-break: normal !important;"><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0</span> <br style="word-break: normal !important;"><br style="word-break: normal !important;"><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">1</span> &lt;div <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">bd</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">div</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">top</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">info</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">nav</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">login</span>“ <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">href</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">https</span>:</span>//<a href="http://www.douban.com/accounts/login?source=book" target="_blank" rel="noopener">www.douban.com/accounts/login?source=book</a><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“ rel=”</span>nofollow<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“&gt;登录&lt;/a&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里用到了<strong style="word-break: normal !important;">.descendants属性</strong>，获取的是div标签的子孙节点，而且返回结果是一个迭代器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">9)获取父节点和所有祖先节点</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">既然有了子节点和子孙节点，反过来也是有父节点和祖先节点的，所以都很容易理解的</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取父节点</span><br style="word-break: normal !important;">print(soup.li.parent) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回整个父节点</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取祖先节点</span><br style="word-break: normal !important;">print(soup.li.parents) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回的是一个生成器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> n, tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> enumerate(soup.li.parents):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(n, tag)<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">.parent</strong>属性是获取父节点，返回来的是整个父节点，里面包含该子节点。<strong style="word-break: normal !important;">.parents</strong>就是获取所有的祖先节点，返回的是一个生成器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">10)获取兄弟节点<br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">兄弟节点：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣1<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣2<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span>豆瓣3<span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">a</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">li</span>&gt;</span><br style="word-break: normal !important;"><span class="hljs-tag" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;">&lt;/<span class="hljs-name" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">ul</span>&gt;</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">比如上面的html代码，里面的li标签都是ul标签的子节点，而li标签都是处于同级的，所以上面的li标签都是各自的兄弟。这就是兄弟节点。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取兄弟节点</span><br style="word-break: normal !important;">print(soup.li.next_siblings) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取该标签的所有同级节点，不包括本身 &nbsp;返回的是一个生成器</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> soup.li.next_siblings:<br style="word-break: normal !important;"> &nbsp; &nbsp;print(x)<br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">&lt;generator object next_siblings at <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important;">0x000002A04501F308</span>&gt;<br style="word-break: normal !important;">&lt;li <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">on</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">moreurl</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">dict</span>=’{“<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">from</span>“:</span><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“top-nav-click-book”</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“uid”</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“0”</span>}<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ href=”<a href="https://book.douban.com&quot;&gt;读书&lt;/a" target="_blank" rel="noopener">https://book.douban.com&quot;&gt;读书&lt;/a</a>&gt;<br style="word-break: normal !important;">&lt;/li&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">.next_siblings属性是获取该标签的所有在他后面的兄弟节点，不包括他本身。同时返回结果也是一个迭代器</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">同理，既然有获取他的下一个所有兄弟标签，也有获取他前面的所有兄弟标签</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">soup.li.previous_siblings<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果只是获取一个即可，可以选择把上面的属性后面的<strong style="word-break: normal !important;">s字母去掉</strong>即可，如下</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">soup.li.previous_sibling &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取前一个兄弟节点</span><br style="word-break: normal !important;">soup.li.next_sibling &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取后一个兄弟节点</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">3.bs库的更高级的用法</strong><br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">在前面我们可以获取标签的名字、属性、内容和所有的祖孙标签。但是当我们需要获取任意一个指定属性的标签还是有点困难的，所以，此时有了下面这个方法：</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;">soup.find_all( name , attrs , recursive , text , **kwargs )<br style="word-break: normal !important;"></p></pre></section><ul class=" list-paddingleft-2" style="width: 530.094px; word-break: normal !important; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">name：</strong>需要获取的标签名</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">attrs：</strong>接收一个字典，为属性的键值，或者直接用关键字参数来替代也可以，下面</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">recursive：</strong>设置是否搜索直接子节点</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">text：</strong>对应的字符串内容</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">limit：</strong>设置搜索的数量</p></li></ul><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">1)先使用name参数来进行搜索</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 先使用name参数</span><br style="word-break: normal !important;">print(soup.find_all(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘li’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 返回一个列表，所有的li标签名字</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">[&lt;li <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=””&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">a</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">data</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">moreurl</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">dict</span>=’{“<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">from</span>“:</span><span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“top-nav-click-main”</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“uid”</span>:<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">“0”</span>}<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ href=”<a href="https://www.douban.com&quot;" target="_blank" rel="noopener">https://www.douban.com&quot;</a> target=”_blank”&gt;豆瓣&lt;/a&gt;<br style="word-break: normal !important;">&lt;/li&gt;, &lt;li class=”on”&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里获取了所有标签名字为<strong style="word-break: normal !important;">li</strong>的标签</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">2)使用name和attrs参数<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 使用name和attrs参数</span><br style="word-break: normal !important;">print(soup.find_all(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘div’</span>, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘class’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘more-meta’</span>})) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个对上个进行了筛选,属性参数填的是一个字典类型的</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">[&lt;div <span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">more</span>-<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">meta</span>“&gt;<br style="word-break: normal !important;">&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">h4</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">class</span>=”<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">title</span>“&gt;<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;刺<br style="word-break: normal !important;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/<span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important;">h4</span>&gt;<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></span></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里搜索了具有属性为<strong style="word-break: normal !important;">class=’more-meta’的div标签</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">3)根据关键字参数来搜索<br style="word-break: normal !important;"></p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 对相关属性进行进行查找也可以这样</span><br style="word-break: normal !important;">print(soup.find_all(class_=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘more-meta’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 使用关键字参数，因为class是python关键字，所以关键字参数时需要加多一个下划线来进行区别</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 结果</span><br style="word-break: normal !important;">和上面的结果一样<br style="word-break: normal !important;">…<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里注意，我们找的是<strong style="word-break: normal !important;">class属性为more-meta的标签</strong>，用了关键字参数，但是python里面有class关键字，所以为了不使语法出错，所以需要在<strong style="word-break: normal !important;">class加个下划线</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">其他参数的就不再介绍了，可以自行去官网查看</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">4)find()方法</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">此方法与find_all()方法一样，只不过这个方法只是查找一个标签而已，后者是查找所有符合条件的标签。</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">还有很多类似的方法，用法都差不多，就不再一一演示了，需要的可以去官网查看</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">5)select()方法</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这个方法是使用css选择器来进行筛选标签的。<br style="word-break: normal !important;"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">css选择器：就是根据标签的名字，id和class属性来选择标签。</p><ul class=" list-paddingleft-2" style="width: 530.094px; word-break: normal !important; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">通过标签名</strong>：直接写该标签名，如<strong style="word-break: normal !important;">&nbsp;li a</strong>&nbsp; ,这个就是找li标签下的a标签</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">通过class属性</strong>：用. 符号加class属性值，如&nbsp;<strong style="word-break: normal !important;">.title .time</strong>&nbsp;这个就是找class值为title下的class值为time的标签</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">通过id属性</strong>：用# 加id属性值来进行查找，如&nbsp;<strong style="word-break: normal !important;">#img #width&nbsp;</strong>这个就是找id值为img下的id值为width的标签</p></li><li><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">上面三者可以混合使用，如&nbsp;<strong style="word-break: normal !important;">ul .title #width</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p></li></ul><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果还不太会的话，可以直接在浏览器上按下f12来查看</p><p style="word-break: normal !important;"><img data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEw9BPssozfQwBMEmhzcdgbrkH8EpulrfwLIiczIhfCIsiceu3HoY6HsZA/0?wx_fmt=png" style="word-break: normal !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWibdSEM4LzQ6XUOYybwibjibtEw9BPssozfQwBMEmhzcdgbrkH8EpulrfwLIiczIhfCIsiceu3HoY6HsZA/0?wx_fmt=png"></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><span style="word-break: normal !important;">位置在</span>箭头所指的位置就是选择器的表达</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">代码如下</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 还可以用标签选择器来进行筛选元素, 返回的都是一个列表</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ul li div’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是根据标签名进行筛选</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘.info .title’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是根据class来进行筛选</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘#footer #icp’</span>)) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 这个是根据id来进行筛选</span><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 上面的可以进行混合使用</span><br style="word-break: normal !important;">print(soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ul li .cover a img’</span>))<br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">这里的获取属性和文本内容</p><section class="output_wrapper" id="output_wrapper_id" style="line-height: 1.6; letter-spacing: 0px; word-break: normal !important;"><pre style="margin-top: 0px; margin-bottom: 0px; padding: 0px; font-size: inherit; color: inherit; line-height: inherit; word-break: normal !important;"><p style="margin-right: 2px; margin-left: 2px; padding: 0.5em 5px; line-height: 18px; font-size: 14px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); background: rgb(40, 43, 46); letter-spacing: 2px; word-wrap: normal !important; word-break: normal !important; overflow: auto !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取属性</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> attr <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘ul li .cover a img’</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># print(attr.attrs[‘alt’])</span><br style="word-break: normal !important;"> &nbsp; &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 也可以这样</span><br style="word-break: normal !important;"> &nbsp; &nbsp;print(attr[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘alt’</span>])<br style="word-break: normal !important;"><br style="word-break: normal !important;"><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 获取标签的内容</span><br style="word-break: normal !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">for</span> tag <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important;">in</span> soup.select(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important;">‘li’</span>):<br style="word-break: normal !important;"> &nbsp; &nbsp;print(tag.get_text()) &nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important;"># 里面可以包含子标签，会将子标签的内容连同输出</span><br style="word-break: normal !important;"></p></pre></section><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><strong style="word-break: normal !important;">.get_tex()方法和前面的.string属性有点不一样哈，这里的他会获取该标签的所有文本内容，不管有没有子标签</strong></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><span style="font-size: 18px; word-break: normal !important;"><strong style="word-break: normal !important;">写在最后</strong></span></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">以上的这些都是个人在学习过程中做的一点笔记。还有点不足，如果有错误的话欢迎大佬指出哈。如果想要查看更多相关用法可以去官方文档查看：<a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" _src="http://beautifulsoup.readthedocs.io/zh_CN/latest/" _href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" style="word-break: normal !important;" target="_blank" rel="noopener">http://beautifulsoup.readthedocs.io/zh_CN/latest/</a></p><p style="word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;">学习参考资料：<a href="https://edu.hellobi.com/course/157" target="_blank" rel="noopener">https://edu.hellobi.com/course/157</a></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">如果这篇文章对你有用，点个赞，转个发如何？</p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;"><br></p><p style="margin-bottom: 5px; padding-right: 5px; padding-left: 5px; line-height: 1.5em; letter-spacing: 2px; word-break: normal !important;">还有，祝大家今天愚人节快乐</p><section style="word-break: normal !important;"><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><br></p><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-right: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); font-weight: bold; line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">MORE</section><section style="padding-right: 8px; padding-left: 8px; height: 35px; display: inline-block; border-top: 1px solid rgb(0, 0, 0); border-bottom: 1px solid rgb(0, 0, 0); line-height: 35px; vertical-align: middle; word-break: normal !important; box-sizing: border-box;">延伸阅读</section><p style="word-break: normal !important;"><br></p><section style="padding-right: 15px; padding-left: 15px; line-height: 2em; word-break: normal !important; box-sizing: border-box;"><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483760&amp;idx=1&amp;sn=3e08dbc95596839abe1c84752453415f&amp;chksm=fb4a7bdccc3df2cae9f3b4df5b410017b72d62a4c26a70d8d7afb4294024928bc5d53572368a&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483760&amp;idx=1&amp;sn=3e08dbc95596839abe1c84752453415f&amp;chksm=fb4a7bdccc3df2cae9f3b4df5b410017b72d62a4c26a70d8d7afb4294024928bc5d53572368a&amp;scene=21#wechat_redirect">爬取《The Hitchhiker’s Guide to Python!》python进阶书并制成pdf</a><span style="color: rgb(79, 129, 189); word-break: normal !important;"></span></span></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" target="_blank" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483720&amp;idx=1&amp;sn=4567a228e1bcca2dcb4c23f0feac39b3&amp;chksm=fb4a7be4cc3df2f234c5b7102f107e72df42a24575dd5d735fb203dddf02ca6e2d3b2b41ce28&amp;scene=21#wechat_redirect" style="word-break: normal !important;">python爬虫常用库之requests详解</a></span></p><p style="padding-right: 5px; padding-left: 5px; letter-spacing: 2px; word-break: normal !important;"><span style="text-decoration-line: underline; word-break: normal !important;">◐◑&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483740&amp;idx=1&amp;sn=9c62ebf1b4d284159a0500f060cb4527&amp;chksm=fb4a7bf0cc3df2e6d504c4a32d9a6e51828b5961b31ef6da81fcab8cf1b6df64bb8a99894fe3&amp;scene=21#wechat_redirect" target="_blank" style="word-break: normal !important;" _href="http://mp.weixin.qq.com/s?__biz=MzU0NzY0NzQyNw==&amp;mid=2247483740&amp;idx=1&amp;sn=9c62ebf1b4d284159a0500f060cb4527&amp;chksm=fb4a7bf0cc3df2e6d504c4a32d9a6e51828b5961b31ef6da81fcab8cf1b6df64bb8a99894fe3&amp;scene=21#wechat_redirect">老司机带你用python来爬取妹子图</a></span></p><p style="word-break: normal !important;"><br></p><p style="word-break: normal !important;"><br></p></section></section><p style="padding-right: 5px; padding-left: 5px; text-align: center; letter-spacing: 2px; word-break: normal !important;"><img border="0" height="auto" title="undefined" width="111.297px" _width="111.297px" src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640" data-fail="0" style="margin-bottom: 1.4px; border-radius: 5px; border-width: 1px; border-style: dashed; border-color: rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.33) 6px 6px 5px 0px; word-break: normal !important; visibility: visible !important; width: 111.297px !important;" _src="https://mmbiz.qpic.cn/mmbiz_png/BIPpxEvceWic7kTqqWcYlc513VaLSgic5P9bIBwdybZBf6KpAX6nhqeHkC0cW2KfQgGCiaREUD1uxt6nLhSO2bWsg/640"><br style="word-break: normal !important;"></p><p style="text-align: center; word-break: normal !important;"><br></p><p style="padding-right: 5px; padding-left: 5px; text-align: center; letter-spacing: 2px; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">日常学python</span></p><p style="padding-right: 5px; padding-left: 5px; text-align: center; letter-spacing: 2px; word-break: normal !important;"><span style="font-size: 14px; word-break: normal !important;">代码不止bug，还有美和乐趣</span></p></section><section class="_editor"><p><br></p></section></div><p class="readmore"><a href="/2018/08/07/python爬虫常用库之BeautifulSoup详解/">阅读更多</a></p></div><div class="post"><h2 class="post-title"><a href="/2018/05/24/谈谈今晚以及在跑步时的一些随想/">谈谈今晚以及在跑步时的一些随想</a></h2><div class="post-meta"><p><span class="date">2018-05-24</span><span><a href="/categories/个人随想/" class="category">个人随想</a></span></p></div><div class="post-content"><p>今天可以算是我的第一次在讲台上分享我的技术，准备了两天左右吧，其实也没那么长，就是做了个ppt而已，由于第一次做，有很多地方都没有做好，比如字体太小了，背景和字体颜色混合了导致看不清字等等此类的问题。如果下次再做的话一定要做得好一点。<br>还有就是我的分享有点垃圾哈，讲的内容自我感觉不是很好，也不知道需要讲什么地方，以后还是多观察下别人怎么分享吧。<br>这次需要表扬自己的是上讲台讲台没有预料中的那么紧张，虽然讲话不是很自如，不过也比以前好多了，希望下次能更进一步吧！加油！</p></div><p class="readmore"><a href="/2018/05/24/谈谈今晚以及在跑步时的一些随想/">阅读更多</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">下一页</a></nav></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/python3.x爬取网易云音乐评论/">利用python爬取网易云音乐评论，并把数据存入mysql</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/hexo搭建的博客提交文章本地预览成功但github没有显示解决方法/">hexo搭建的博客提交文章本地预览成功但github没有显示解决方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/学习用python操作mysql/">学习用python操作mysql</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/我爬取了37000条球迷评论，知道了这场比赛的重要信息/">我爬取了37000条球迷评论，知道了这场比赛的重要信息</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/谈谈如何抓取ajax动态网站/">谈谈如何抓取ajax动态网站</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/说说数据库/">说说数据库</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/使用requests+BeautifulSoup的简单爬虫练习/">使用requests+BeautifulSoup的简单爬虫练习</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/入门mysql数据库/">入门mysql数据库</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/如何爬取asp动态网页？搞定可恶的动态参数，这一文告诉你！/">如何爬取asp动态网页？搞定可恶的动态参数，这一文告诉你！</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/爬取《The Hitchhiker’s Guide to Python!》python进阶书并制成pdf/">爬取《The Hitchhiker’s Guide to Python!》python进阶书并制成pdf</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">17</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/python/数据库/">数据库</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/个人随想/">个人随想</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/总结/">总结</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随想/">随想</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/hard/" style="font-size: 15px;">hard</a> <a href="/tags/HTML/" style="font-size: 15px;">HTML</a> <a href="/tags/坑/" style="font-size: 15px;">坑</a> <a href="/tags/run/" style="font-size: 15px;">run</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/requestst/" style="font-size: 15px;">requestst</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/requests/" style="font-size: 15px;">requests</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/urllib/" style="font-size: 15px;">urllib</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">sergiojune.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/totop.js?v=2.0.1" async></script></body></html>