<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>学习用python操作mysql | sergiojune | 梦开始的地方</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="首先祝大家新年快乐哈！学生的估计明天也要上课了，工作的估计早就去上班了，我也快要上课了，哈哈，新年这段时间一直没有写过文章，一直忙于跑亲戚和学习，感觉有点对不起关注我的粉丝。所以，今天决定抽空写一篇技术文章来给大家看看，继上篇写了入门mysql之后，还没有学习如何用python来操作数据库，那我今天就带大家来学习如何用python操操作数据库。还有文末有福利，这算是给大家的新年礼物(记得点赞哦)进">
<meta name="keywords" content="mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="学习用python操作mysql">
<meta property="og:url" content="http://sergiojune.com/2018/08/07/学习用python操作mysql/index.html">
<meta property="og:site_name" content="sergiojune | 梦开始的地方">
<meta property="og:description" content="首先祝大家新年快乐哈！学生的估计明天也要上课了，工作的估计早就去上班了，我也快要上课了，哈哈，新年这段时间一直没有写过文章，一直忙于跑亲戚和学习，感觉有点对不起关注我的粉丝。所以，今天决定抽空写一篇技术文章来给大家看看，继上篇写了入门mysql之后，还没有学习如何用python来操作数据库，那我今天就带大家来学习如何用python操操作数据库。还有文末有福利，这算是给大家的新年礼物(记得点赞哦)进">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png">
<meta property="og:updated_time" content="2018-08-06T08:53:50.992Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="学习用python操作mysql">
<meta name="twitter:description" content="首先祝大家新年快乐哈！学生的估计明天也要上课了，工作的估计早就去上班了，我也快要上课了，哈哈，新年这段时间一直没有写过文章，一直忙于跑亲戚和学习，感觉有点对不起关注我的粉丝。所以，今天决定抽空写一篇技术文章来给大家看看，继上篇写了入门mysql之后，还没有学习如何用python来操作数据库，那我今天就带大家来学习如何用python操操作数据库。还有文末有福利，这算是给大家的新年礼物(记得点赞哦)进">
<meta name="twitter:image" content="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png">
    

    
        <link rel="alternate" href="/" title="sergiojune | 梦开始的地方" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome5/css/fontawesome.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-brands.min.css">
    <link rel="stylesheet" href="/libs/font-awesome5/css/fa-solid.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">sergiojune | 梦开始的地方</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/归档">Archives</a>
                
                    <a class="main-nav-link" href="/分类">Categories</a>
                
                    <a class="main-nav-link" href="/标签">Tags</a>
                
                    <a class="main-nav-link" href="/关于">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.jpg" />
                            <i class="fas fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fas fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/归档">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/分类">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/标签">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/关于">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile" class="profile-fixed">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.jpg" />
            <h2 id="name">sergiojune</h2>
            <h3 id="title">我本微末凡尘，却也心向天空</h3>
            <span id="location"><i class="fas fa-map-marker-alt" style="padding-right: 5px"></i>GuangZhou, China</span>
            <a id="follow" target="_blank" href="https://github.com/SergioJune">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                26
                <span>文章</span>
            </div>
            <div class="article-info-block">
                10
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/SergioJune" target="_blank" title="github" class=tooltip>
                            <i class="fab fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.zhihu.com/people/ying-xing-69-8/activities" target="_blank" title="zhihu" class=tooltip>
                            <i class="fab fa-zhihu"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://juejin.im/user/5a9fc4506fb9a028d140a761" target="_blank" title="jvejin" class=tooltip>
                            <i class="fab fa-jvejin"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fab fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fab fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-学习用python操作mysql" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            学习用python操作mysql
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fas fa-calendar-alt"></i>
        <a href="/2018/08/07/学习用python操作mysql/">
            <time datetime="2018-08-07T00:43:42.012Z" itemprop="datePublished">2018-08-07</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fas fa-folder"></i>
        <a class="article-category-link" href="/categories/python/">python</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/categories/python/数据库/">数据库</a>
    </div>

                        
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/mysql/">mysql</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p style="letter-spacing: 2px;">首先祝大家新年快乐哈！学生的估计明天也要上课了，工作的估计早就去上班了，我也快要上课了，哈哈，新年这段时间一直没有写过文章，一直忙于跑亲戚和学习，感觉有点对不起关注我的粉丝。所以，今天决定抽空写一篇技术文章来给大家看看，继上篇写了入门mysql之后，还没有学习如何用python来操作数据库，那我今天就带大家来学习如何用python操操作数据库。<br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">还有文末有福利，这算是给大家的新年礼物(记得点赞哦)</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><section class="editor"><section style="margin:10px auto;"><section style="width: 100%; font-size: 18px; height: 40px; line-height: 40px; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: rgb(30, 28, 28); text-align: center; box-sizing: border-box;" data-width="100%">进入正题</section><section style="width: 100%; margin-top: 1px; border-top-style: solid; border-top-width: 1px; border-top-color: rgb(30, 28, 28); box-sizing: border-box;" data-width="100%"></section></section></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">工欲善其事，必先利其器。所以第一步，我们先下载第三方库。在这里，我用到的是pymysql库。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">下载库：在命令行输入</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs nginx" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-attribute" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">pip</span> install pymysql<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">下载后可检验一下是否成功下载。直接在命令行进入python然后导库即可</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs ruby" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-symbol" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">C:</span>\Users\June&gt;python<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>Python <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3.6</span>.<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span> <span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">|Anaconda, Inc.|</span> (default, Oct <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2017</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">03</span><span class="hljs-symbol" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">:</span><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span><span class="hljs-symbol" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">:</span><span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">45</span>) [MSC v.<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1900</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">64</span> bit (AMD64)] on win32<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>Type <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“help”</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“copyright”</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“credits”</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">or</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“license”</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> more information.<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span><span class="hljs-meta" style="font-size: inherit; line-height: inherit; color: rgb(91, 218, 237); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">&gt;&gt;</span>&gt; import pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span><span class="hljs-meta" style="font-size: inherit; line-height: inherit; color: rgb(91, 218, 237); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">&gt;&gt;</span>&gt;<br></code></pre></section><p style="letter-spacing: 2px;">看到这个画面就说明下载成功了，接下来学习如何操作数据库了！！！</p><p style="letter-spacing: 2px;"><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">1</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; font-size: 18px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p><span style="font-family: 微软雅黑; font-size: 16px;"><span style="letter-spacing: 2px; line-height: 25.6px; white-space: pre-wrap;">连接数据库</span></span></p></section></section></section></section></section><p><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs coffeescript" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">import</span> pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 连接数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>db = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘your password’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>)<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">以上的参数是必填的，</p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="letter-spacing: 2px;"><strong>host</strong>: 这个是ip地址，因为我这里是本地的，所以填127.0.0.1，也可以填localhost。</p></li><li><p style="letter-spacing: 2px;"><strong>user</strong>：用户名，如果你也是本地的，就填root好了</p></li><li><p style="letter-spacing: 2px;"><strong>passwd</strong>：这个是密码，填上你自己设的密码就可以了</p></li><li><p style="letter-spacing: 2px;"><strong>db</strong>：这个是数据库名，我这里选的是news数据库</p></li><li><p style="letter-spacing: 2px;"><strong>port</strong>：这个是端口，本地的一般都是3306</p></li><li><p style="letter-spacing: 2px;"><strong>charset</strong>：这个是编码方式，要和你数据库的编码方式一致，要不会连接失败</p></li></ul><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><strong>连接上了，怎么验证呢？这里我们可以选择查一条数据</strong></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="hljs python" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span> db = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘your password’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 检验数据库是否连接成功</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> cursor = db.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个是执行sql语句，返回的是影响的条数</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> data = cursor.execute(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT <em> FROM <code>new</code>‘</em></span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 得到一条数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> one = cursor.fetchone()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> print(data)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> print(one)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘操作数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">finally</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 如果连接成功就要关闭数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> db:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span> db.close()<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">代码解读：因为在连接数据库中，有时会发生连接失败等异常，所以这里就进行捕捉异常，这里的异常都是在 <strong>pymsql.Error </strong>里面。上面的代码看不懂也没关系，因为我接下来会说，如果运行后有结果证明连接成功。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><strong>在用完后，一定要记得关闭数据库连接，防止资源泄露问题。</strong></p><p style="letter-spacing: 2px;"><br></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">2</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p style=""><span style="font-family:微软雅黑">对数据进行查询</span></p></section></section></section></section></section><p><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">import</span> pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> conn = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘password’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个是光标，用来操作数据库语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> cursor = conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 执行sql语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> cursor.execute(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT  FROM <code>new</code>‘</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> print(cursor.fetchone())<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 关闭光标</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘操作数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">finally</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> conn:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> conn.close()<br></code></pre></section><p style="letter-spacing: 2px;">代码解读：</p><ul class=" list-paddingleft-2" style="list-style-type: disc; margin: 0px; padding: 0px 0px 0px 30px;"><li><p style="letter-spacing: 2px;"><strong>cursor()</strong>:这个是光标，用来执行mysql语句的，用完后也是需要关闭的</p></li><li><p style="letter-spacing: 2px;"><strong>excute</strong><strong>()</strong>：这个是执行语句，执行参数的mysql语句</p></li><li><p style="letter-spacing: 2px;"><strong>fetchone()</strong>：这个是查看执行语句后的一条数据</p></li><li><p style="letter-spacing: 2px;"><strong>fetchall()</strong>：这个是查看所有数据</p></li></ul><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">在查询数据后，返回的是一整条数据，有没有可以按字典形式来查询的呢？来试试！</p><p style="letter-spacing: 2px;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>print(cursor.fetchone()[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘name’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>Traceback (most recent call last):<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span> File <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">“E:/anaconda/python_project/mysql_test/test2.py”</span>, line <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">8</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> &lt;module&gt;<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span> print(cursor.fetchone()[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘name’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6</span>TypeError: tuple indices must be integers <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">or</span> slices, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">not</span> str<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">查了之后，编译器想都不想就给了我这个错误，说这是个元组，不能这样操作。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">虽然python没有提供，但是我们可以手动转成字典来查询啊</p><p style="letter-spacing: 2px;">cursor这里有个属性：<strong>description</strong>。获取的是数据库每个栏位情况，如下：</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>print(cursor.description)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>((<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">50</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">50</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2000</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2000</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">True</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">253</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">True</span>), (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>, <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">False</span>)<br></code></pre></section><p><br></p><p>所以，我们利用这个属性手动生成字典</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 将一条数据转成字典方便查找</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>new = dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],[x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.fetchone()]))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>print(new)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>{<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘NBA’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘考辛斯跟腱撕裂赛季报销 浓眉詹皇发声祝福’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘他遭遇左脚跟腱撕裂，将缺席赛季剩下的比赛。这无疑对考辛斯和鹈鹕队都是一个重大的打击’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3560</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘xiaoylin’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}<br></code></pre></section><p>这里利用zip函数和列表生成式来一行代码就生成成功了</p><p><br></p><p>用字典来查询，现在就可以了</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>print(new[<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>考辛斯跟腱撕裂赛季报销 浓眉詹皇发声祝福<br></code></pre></section><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">但是，上面的只是一条数据的，如果是多条的呢？再按上面的方法就行不通了。这时就需要用到map函数了</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">new2dict</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(new)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],[x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> new]))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>news_list = list(map(new2dict,cursor.fetchall()))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span>print(news_list)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span><span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面是结果</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6</span>[{<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘NBA’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘考辛斯跟腱撕裂赛季报销 浓眉詹皇发声祝福’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘他遭遇左脚跟腱撕裂，将缺席赛季剩下的比赛。这无疑对考辛斯和鹈鹕队都是一个重大的打击’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3560</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘xiaoylin’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘NBA’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘火箭挖21分大哈登得背锅 连遭浓眉大帽太尴尬’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘火箭在客场以113-115惜败于鹈鹕，4连胜终结。詹姆斯-哈登出战34分钟16投5中，其中三分球9投只有1中，罚球14罚12中，拿到23分、11助攻、5篮板但也有4次失误，其在场正负值为尴尬的-12分’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">7520</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘youngcao’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">4</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘英超’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘足总杯-曼联4-0英乙球队晋级 桑神首秀造两球’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘2017-18赛季英格兰足总杯第4轮，曼联客场4比0击败英乙球队约维尔，顺利晋级下一轮。桑切斯迎来曼联首秀，并制造了两个入球’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6560</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">49</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘ricazhang’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>,<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}, {<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘id’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘英超’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘这才配红魔7号！桑神首秀大腿级表演 回击嘘声质疑’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘在今天凌晨对阵约维尔的首秀也值得期待。虽然在登场的72分钟时间里没有进球，但送出1次助攻且有有6次威胁传球的数据还是十分亮眼’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘view_count’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2760</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘release_time’</span>: datetime.datetime(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">2018</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">6</span>, <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span>), <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘author’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘yaxinhao’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘from’</span>: <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘腾讯体育’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘is_valibale’</span>: <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span>}]<br></code></pre></section><p style="letter-spacing: 2px;">这里很巧妙的利用了map函数，因为多条数据就可以进行迭代了，需要操作每条数据，这样就可以想到map函数</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><strong>接下来我们再用面向对象的方法来用python进行查询数据库</strong></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">import</span> pymysql<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span><span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">class</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">MysqlSearch</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(object)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_conn</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’连接mysql数据库’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> self.conn = pymysql.connect(host=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘127.0.0.1’</span>,user=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘root’</span>,passwd=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘your password’</span>,port=<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3306</span>,charset=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘utf8’</span>,db=<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘news’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘连接数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">close_conn</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’关闭数据库’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> self.conn:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> self.conn.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> pymysql.Error <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">18</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘关闭数据库失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_one</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">21</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’查询一条数据’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">22</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">23</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个是连接数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">24</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">25</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 查询语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">26</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT <em> FROM <code>new</code> WHERE <code>type</code>=%s’</em></span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这个光标用来执行sql语句</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">28</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">29</span> cursor.execute(sql,(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘英超’</span>,))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">30</span> new = cursor.fetchone()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">31</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 返回一个字典，让用户可以按数据类型来获取数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">32</span> new_dict = dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],new))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">33</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 关闭cursor</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">34</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">35</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">36</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> new_dict<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">37</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">38</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">39</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">40</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_all</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">41</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’获取所有结果’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">42</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT  FROM <code>new</code> ‘</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">43</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">44</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">45</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">46</span> cursor.execute(sql)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">47</span> news = cursor.fetchall()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">48</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 将数据转为字典，让用户根据键来查数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">49</span> news_list =list(map(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">lambda</span> x:dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],[d <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> d <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> x])),news))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">50</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 这样也行,连续用两个列表生成式</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">51</span> news_list = [dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],row)) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> row <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> news]<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">52</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">53</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">54</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> news_list<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">55</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">56</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">57</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">58</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">59</span><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">()</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">60</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 获取一条数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">61</span> news = MysqlSearch()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">62</span> new = news.get_one()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">63</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> new:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">64</span> print(new)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">65</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">66</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘操作失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">67</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">68</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 获取多条数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">69</span> news = MysqlSearch()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">70</span> rest = news.get_all()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">71</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> rest:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">72</span> print(rest)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">73</span> print(rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">7</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>],rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">7</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>])<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">74</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘类型：{0},标题：{1}’</span>.format(rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>],rest[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span>][<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>]))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">75</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> row <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> rest:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">76</span> print(row)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">77</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">78</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘没有获取到数据’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">79</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">80</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> <strong>name</strong> == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘<strong>main</strong>‘</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">81</span> main()<br></code></pre></section><p style="letter-spacing: 2px;">这样就可以通过实例的方法来进行查询数据库了</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">我们还可以根据页数来进行查询指定的数据数</p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">get_more</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self,page,page_size)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span> <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘’’查多少页的多少条数据’’’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> offset = (page<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">-1</span>)<em>page_size<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘SELECT </span></em> FROM <code>new</code> LIMIT %s,%s’<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> cursor.execute(sql,(offset,page_size,))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> news = [dict(zip([x[<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span>] <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> x <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.description],new)) <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> new <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> cursor.fetchall()]<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> news<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span> print(e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">None</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span><span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">()</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">18</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">#获取某页的数据</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span> news = MysqlSearch()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span> new = news.get_more(<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">3</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">5</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">21</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> new:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">22</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">for</span> row <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">in</span> new:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">23</span> print(row)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">24</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">25</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘获取数据失败’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">26</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> <strong>name</strong> == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘<strong>main</strong>‘</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">28</span> main()<br></code></pre></section><p style="letter-spacing: 2px;">利用的是mysql的<strong><span style="line-height: inherit;">limit</span></strong><span style="line-height: inherit;">关键字，还有其他的，比如进行排序分组的感兴趣的可以自己尝试下</span></p><p style="letter-spacing: 2px;"><span style="line-height: inherit;"><br></span></p><p style="letter-spacing: 2px;"><span style="line-height: inherit;"></span></p><section class="editor"><section style="margin:20px auto 16px;text-align:center;"><section style="border-top-style: solid; border-top-width: 1px; border-top-color: rgb(137, 137, 137); box-sizing: border-box;"><section style="border: 1px solid rgb(137, 137, 137); height: 30px; width: 30px; border-radius: 50%; margin-left: 50px; display: block; text-align: left; margin-top: -15px; box-sizing: border-box; background-color: rgb(255, 255, 255);"><section style="height: 24px; width: 24px; line-height: 24px; border-radius: 50%; margin: 2px auto 0px; text-align: center; color: rgb(255, 255, 255); box-sizing: border-box; background-color: rgb(233, 131, 109);"><p style="line-height:1.5em;">3</p></section></section><section style="display: block; padding: 0px 8px; line-height: 24px; font-size: 18px; margin-top: -30px; text-align: center; box-sizing: border-box;"><section style="display: inline-block; padding: 0px 8px; box-sizing: border-box; background-color: rgb(254, 254, 254);"><p>增加数据到数据库</p></section></section></section></section></section><p style="letter-spacing: 2px;"><span style="line-height: inherit;"></span><br></p><section class="output_wrapper" id="output_wrapper_id" style="color: rgb(62, 62, 62); line-height: 1.6; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin-top: 0px; margin-bottom: 0px; padding: 0px;"><code class="python language-python hljs" style="margin-right: 2px; margin-left: 2px; line-height: 18px; font-size: 14px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; color: rgb(169, 183, 198); padding: 0.5em; display: block !important; word-wrap: normal !important; word-break: normal !important; white-space: pre !important; overflow: auto !important; background: rgb(40, 43, 46);"><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 1</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">add_one</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">(self)</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 2</span> sql = <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘INSERT INTO <code>new</code>(<code>title</code>,<code>content</code>,<code>type</code>,<code>view_count</code>,<code>release_time</code>) VALUE(%s,%s,%s,%s,%s)’</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 3</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">try</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 4</span> self.get_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 5</span> cursor = self.conn.cursor()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 6</span> cursor.execute(sql, (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘title’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘content’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘type’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘1111’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘2018-02-01’</span>))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 7</span> cursor.execute(sql, (<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘标题’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘内容’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘类型’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘0000’</span>, <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘2018-02-01’</span>))<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 8</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 一定需要提交事务，要不不会显示，只会占位在数据库</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"> 9</span> self.conn.commit()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">10</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">1</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">11</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> AttributeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">12</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘Error:’</span>, e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">13</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">14</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">except</span> TypeError <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">as</span> e:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">15</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘Error:’</span>, e)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">16</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 发生错误还提交就是把执行正确的语句提交上去</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">17</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># self.conn.commit()</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">18</span> <span class="hljs-comment" style="font-size: inherit; line-height: inherit; color: rgb(128, 128, 128); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"># 下面这个方法是发生异常就全部不能提交,但语句执行成功的就会占位</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">19</span> self.conn.rollback()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">20</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">return</span> <span class="hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">0</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">21</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">finally</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">22</span> cursor.close()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">23</span> self.close_conn()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">24</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">25</span> <span class="hljs-function" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">def</span> <span class="hljs-title" style="font-size: inherit; line-height: inherit; color: rgb(165, 218, 45); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">main</span><span class="hljs-params" style="font-size: inherit; line-height: inherit; color: rgb(255, 152, 35); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">()</span>:</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">26</span> news = OperateSQL()<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">27</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> news.add_one():<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">28</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘增加数据成功’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">29</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">else</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">30</span> print(<span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘发生异常，请检查！！！’</span>)<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">31</span><br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">32</span> <span class="hljs-keyword" style="font-size: inherit; line-height: inherit; color: rgb(248, 35, 117); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">if</span> <strong>name</strong> == <span class="hljs-string" style="font-size: inherit; line-height: inherit; color: rgb(238, 220, 112); word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">‘<strong>main</strong>‘</span>:<br><span class="linenum hljs-number" style="font-size: inherit; line-height: inherit; color: rgb(174, 135, 250); padding-right: 20px; word-wrap: inherit !important; word-break: inherit !important; white-space: inherit !important;">33</span> main()<br></code></pre></section><p style="letter-spacing: 2px;">因为是增加数据，所以需要提交事务，这就需要用到<strong>cursor.commit()</strong>来进行提交，在增加数据后，如果不提交，数据库就不会显示。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">还有修改数据和删除数据就不贴出来了，只是把上面的sql变量的语句改成修改或者删除的语句就可以了，如果你还不会，建议练习下</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><section class="editor"><p><strong>END</strong></p></section><p style="letter-spacing: 2px;">代码我放在github了，网站为<a href="https://github.com/SergioJune/gongzhonghao_code，有兴趣的可以去看看，如果可以的话希望给个star哈！" _src="https://github.com/SergioJune/gongzhonghao_code，有兴趣的可以去看看，如果可以的话希望给个star哈！" target="_blank" rel="noopener">https://github.com/SergioJune/gongzhonghao_code，有兴趣的可以去看看，如果可以的话希望给个star哈！</a></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;">这篇文章只适合入门的，如果需要学习更多的话可以去查看pymysql的文档<a href="http://pymysql.readthedocs.io/en/latest/" target="_blank" rel="noopener">http://pymysql.readthedocs.io/en/latest/</a> 。</p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px; text-align: center;"><img style="border-radius: 5px; border: 1px dashed rgb(168, 164, 171); box-shadow: rgba(0, 0, 0, 0.329412) 6px 6px 5px 0px; margin-bottom: 1.4px; visibility: visible !important; width: 111.297px !important;" src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png" height="auto" border="0" alt="1802109804.png" _src="http://pic.96weixin.com/upload/image2/vip/881679/1802/1802109804.png"></p><p style="letter-spacing: 2px;"><br></p><p style="letter-spacing: 2px; text-align: center;"><span style="font-size: 14px;">日常学python</span></p><p style="letter-spacing: 2px;"><span style="font-size: 14px;"><br></span></p><p style="letter-spacing: 2px; text-align: center;"><span style="font-size: 14px;">一个专注于python的公众号</span></p>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://sergiojune.com/2018/08/07/学习用python操作mysql/" data-id="cjkizfkng003hrsunn65wpl9j" class="article-share-link"><i class="fas fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fab fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fab fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fab fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fab fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2018/08/07/hexo搭建的博客提交文章本地预览成功但github没有显示解决方法/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    hexo搭建的博客提交文章本地预览成功但github没有显示解决方法
                
            </div>
        </a>
    
    
        <a href="/2018/08/07/我爬取了37000条球迷评论，知道了这场比赛的重要信息/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">我爬取了37000条球迷评论，知道了这场比赛的重要信息</div>
        </a>
    
</nav>


    
</article>


    
    

</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/08/07/python3.x爬取网易云音乐评论/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/python/">python</a></p>
                            <p class="item-title"><a href="/2018/08/07/python3.x爬取网易云音乐评论/" class="title">利用python爬取网易云音乐评论，并把数据存入mysql</a></p>
                            <p class="item-date"><time datetime="2018-08-07T00:43:42.113Z" itemprop="datePublished">2018-08-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/08/07/hexo搭建的博客提交文章本地预览成功但github没有显示解决方法/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/blog/">blog</a></p>
                            <p class="item-title"><a href="/2018/08/07/hexo搭建的博客提交文章本地预览成功但github没有显示解决方法/" class="title">hexo搭建的博客提交文章本地预览成功但github没有显示解决方法</a></p>
                            <p class="item-date"><time datetime="2018-08-07T00:43:42.059Z" itemprop="datePublished">2018-08-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/08/07/学习用python操作mysql/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/python/">python</a><i class="fas fa-angle-right"></i><a class="article-category-link" href="/categories/python/数据库/">数据库</a></p>
                            <p class="item-title"><a href="/2018/08/07/学习用python操作mysql/" class="title">学习用python操作mysql</a></p>
                            <p class="item-date"><time datetime="2018-08-07T00:43:42.012Z" itemprop="datePublished">2018-08-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/08/07/我爬取了37000条球迷评论，知道了这场比赛的重要信息/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/python/">python</a></p>
                            <p class="item-title"><a href="/2018/08/07/我爬取了37000条球迷评论，知道了这场比赛的重要信息/" class="title">我爬取了37000条球迷评论，知道了这场比赛的重要信息</a></p>
                            <p class="item-date"><time datetime="2018-08-07T00:43:41.976Z" itemprop="datePublished">2018-08-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/08/07/谈谈如何抓取ajax动态网站/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/python/">python</a></p>
                            <p class="item-title"><a href="/2018/08/07/谈谈如何抓取ajax动态网站/" class="title">谈谈如何抓取ajax动态网站</a></p>
                            <p class="item-date"><time datetime="2018-08-07T00:43:41.950Z" itemprop="datePublished">2018-08-07</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">17</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/python/数据库/">数据库</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/个人随想/">个人随想</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/总结/">总结</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随想/">随想</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">4</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hard/">hard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requests/">requests</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requestst/">requestst</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/run/">run</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/urllib/">urllib</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/坑/">坑</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a><span class="tag-list-count">16</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/HTML/" style="font-size: 15px;">HTML</a> <a href="/tags/hard/" style="font-size: 10px;">hard</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/requests/" style="font-size: 12.5px;">requests</a> <a href="/tags/requestst/" style="font-size: 17.5px;">requestst</a> <a href="/tags/run/" style="font-size: 10px;">run</a> <a href="/tags/urllib/" style="font-size: 10px;">urllib</a> <a href="/tags/坑/" style="font-size: 10px;">坑</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/爬虫/" style="font-size: 20px;">爬虫</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fas fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 sergiojune<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        


    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>